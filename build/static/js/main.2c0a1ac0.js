/*! For license information please see main.2c0a1ac0.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2244:function(e,t,n){var r=n(7447),i=n(8051).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},4e3:function(e,t,n){var r=n(2244),i=n(8051),a=i.each,o=i.isFunction,u=i.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}s.prototype={constructor:s,register:function(e,t,n){var i=this.queries,s=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,s)),o(t)&&(t={match:t}),u(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=s},7447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},8051:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},8153:function(e,t,n){var r=n(4e3);e.exports=new r},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},8101:function(e,t,n){n(1288),e.exports=self.fetch.bind(self)},5477:function(e,t,n){var r=n(2806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},5095:function(e,t,n){var r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,h=l||f||Function("return this")(),d=Object.prototype.toString,p=Math.max,v=Math.min,y=function(){return h.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}(e))return r;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,a,o,u,s,c=0,l=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function b(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-c>=a}function k(){var e=y();if(b(e))return w(e);u=setTimeout(k,function(e){var n=t-(e-s);return f?v(n,a-(e-c)):n}(e))}function w(e){return u=void 0,h&&r?d(e):(r=i=void 0,o)}function _(){var e=y(),n=b(e);if(r=arguments,i=this,s=e,n){if(void 0===u)return function(e){return c=e,u=setTimeout(k,t),l?d(e):o}(s);if(f)return u=setTimeout(k,t),d(s)}return void 0===u&&(u=setTimeout(k,t)),o}return t=g(t)||0,m(n)&&(l=!!n.leading,a=(f="maxWait"in n)?p(g(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=i=u=void 0},_.flush=function(){return void 0===u?o:w(y())},_}},2453:function(e,t,n){"use strict";var r,i,a,o=n(7061).default,u=n(7156).default,s=n(861).default,c=n(215).default,l=["year"];i=[n(8101)],r=function(e){function t(e){var t=e&&e.message?e.message:e;console.warn("movie-trailer: ".concat(t))}function n(e){if(!e.ok)throw new Error(e.statusText);return e}function r(e){return encodeURI("https://www.youtube.com/watch?v="+e)}function i(r,a){var o=a&&"tv"===a.videoType?"/3/search/tv?api_key=":"/3/search/movie?api_key=",u="https://api.themoviedb.org"+encodeURI(o+a.apiKey+"&query="+r+(null===a.year?"":"&year="+a.year)+(null===a.language?"":"&language="+a.language));return e(u,{method:"GET"}).then(n).then((function(e){return e.json()})).then((function(e){if("undefined"!==typeof e.status_message)throw new TypeError(e.status_message);if(0===e.results.length){if(null!==a.year){a.year;var t=c(a,l);return i(r,t)}throw new Error("No TMDB Movie found with that search query, try searching https://www.themoviedb.org/search?query=".concat(encodeURIComponent(r)," to verify one exists"))}return e.results[0].id})).catch((function(e){return t(e),null}))}function a(i,a){var o=a&&"tv"===a.videoType?"/3/tv/":"/3/movie/",u="https://api.themoviedb.org"+encodeURI(o+i+"/videos?api_key="+a.apiKey+(null===a.language?"":"&language="+a.language));return e(u,{method:"GET"}).then(n).then((function(e){return e.json()})).then((function(e){if("undefined"!==typeof e.status_message)throw new TypeError("movie-trailer: ".concat(e.status_message));if(0===e.results.length)throw new Error("No trailers found for that TMDB ID");var t=e.results;return t=t.map((function(e){return e.key})),a.id||(t=t.map((function(e){return r(e)}))),a.multi?s(new Set(t)):t[0]})).catch((function(e){return t(e),null}))}function f(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=u(o().mark((function e(n,r,u,s){var c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={multi:!1,id:!1,year:null,language:null,videoType:"movie",apiKey:"9d2bff12ed955c7f1f74b83187f188ae"},r||(r={}),"string"===typeof n||r.tmdbId){e.next=6;break}throw new Error("Expected first parameter to be a movie or TMDB ID (string)");case 6:"function"===typeof r?(u=r,r=null):"boolean"===typeof r||"true"===r?c.multi=r:"string"===typeof r||"number"===typeof r?(c.year=r,"function"===typeof s&&("boolean"===typeof u||"string"===typeof u&&"true"===u)&&(c.multi=u,u=s)):"object"===typeof r&&(c=Object.assign(c,r));case 7:if("function"!==typeof u&&(u=null),!c.tmdbId){e.next=12;break}e.t0=c.tmdbId,e.next=15;break;case 12:return e.next=14,i(n,c).catch((function(e){return t(e),null}));case 14:e.t0=e.sent;case 15:if(l=e.t0){e.next=18;break}return e.abrupt("return",null);case 18:if(f=a(l,c)){e.next=21;break}return e.abrupt("return",null);case 21:if(!u){e.next=23;break}return e.abrupt("return",f.then((function(e){return u(null,e)})).catch((function(e){return u(e,null)})));case 23:return e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return f},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==xe||null!==Se)&&(Oe(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Ne=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,Ot=null,Pt=null,At=new Map,Rt=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Ot&&zt(Ot,e),null!==Pt&&zt(Pt,e),At.forEach(t),Rt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)jt(n),null===n.blockedOn&&Nt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),yn=an(j({},fn,{relatedTarget:0})),mn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(An),Nn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Or=Er("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),s(t,[e])}for(var Nr=0;Nr<Ar.length;Nr++){var Dr=Ar[Nr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Pr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Tr:case Ir:case Cr:s=mn;break;case Or:s=Pn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Wn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?ki(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(m=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Oi=Si(!1),Pi=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Ei(Oi),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ci.current,Ti(Ci,e),Ti(Oi,Oi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Oi),Ei(Ci),Ti(Ci,e)):Ei(Oi),Ti(Oi,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function _a(e){var t=ma.current;Ei(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Os)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Pa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Na(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Na(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Na(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Pi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Pi:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Io(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Ro(e,t){var n=vo,r=Io(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ps)throw Error(a(349));0!==(30&po)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Oa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return Io().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ia(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ps)throw Error(a(349));0!==(30&po)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ps.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Io(),yo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Po,useRef:Vo,useState:function(){return Po(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=Io();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Po(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Iu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ds,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ds,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ds,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ds,Ns),Ns|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ri(n)?Pi:Ci.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ai(t,c=Ri(n)?Pi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Pa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Oi.current||Pa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Pa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ai(t,s=Ri(n)?Pi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Pa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Oi.current||Pa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Pa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ou(e,t,n,r,a,i)}function Ou(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Au(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Nu,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ps)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),rc(r,e,i,-1))}return yc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Ri(t.type)&&Ni(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Oi),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Nu(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):yc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Nu(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return _a(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Oi),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Nu=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ys(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(y){Ec(e,e.return,y)}try{rs(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(ys(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(ys(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:ys(t,e),gs(e);break;case 13:ys(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ys(t,e),Xu=l):ys(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Zu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Es=Math.ceil,Ts=k.ReactCurrentDispatcher,Is=k.ReactCurrentOwner,Cs=k.ReactCurrentBatchConfig,Os=0,Ps=null,As=null,Rs=0,Ns=0,Ds=Si(0),Ls=0,Ms=null,js=0,Fs=0,Us=0,Vs=null,zs=null,Bs=0,qs=1/0,Ws=null,Hs=!1,Ks=null,Gs=null,Qs=!1,$s=null,Ys=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Os)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Os)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));mt(e,n,r),0!==(2&Os)&&e===Ps||(e===Ps&&(0===(2&Os)&&(Fs|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===Os&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ps?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Os)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Os))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ps?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Os;Os|=2;var o=vc();for(Ps===e&&Rs===t||(Ws=null,qs=Xe()+500,dc(e,t));;)try{bc();break}catch(s){pc(e,s)}wa(),Ts.current=o,Os=i,null!==As?t=0:(Ps=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Ws),t);break}_c(e,zs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Ws),r);break}_c(e,zs,Ws);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Os))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Ws),ic(e,Xe()),null}function lc(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(qs=Xe()+500,Ui&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&Os)&&xc();var t=Os;Os|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(Os=t))&&Bi()}}function hc(){Ns=Ds.current,Ei(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:io(),Ei(Oi),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ps=e,As=e=Dc(e.current,null),Rs=Ns=t,Ls=0,Ms=null,Us=Fs=js=0,zs=Vs=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,bo=!1,ko=0,Is.current=null,null===n||null===n.return){Ls=1,Ms=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),yc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function vc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function yc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ps||0===(268435455&js)&&0===(268435455&Fs)||sc(Ps,Rs)}function mc(e,t){var n=Os;Os|=2;var r=vc();for(Ps===e&&Rs===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Os=n,Ts.current=r,null!==As)throw Error(a(261));return Ps=null,Rs=0,Ls}function gc(){for(;null!==As;)kc(As)}function bc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=Ss(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?wc(e):As=t,Is.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ns)))return void(As=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ls=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ls&&(Ls=5)}function _c(e,t,n){var r=bt,i=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==$s);if(0!==(6&Os))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ps&&(As=Ps=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Pc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=bt;bt=1;var s=Os;Os|=4,Is.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Ye(),Os=s,bt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ks,Ks=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,bt=r}return null}function xc(){if(null!==$s){var e=kt(Ys),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&Os))throw Error(a(331));var i=Os;for(Os|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var k=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Zu=k;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Os=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Xe()-Bs?dc(e,0):Us|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Oa(e,t))&&(mt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Nc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case O:return(e=Rc(13,n,t,i)).elementType=O,e.lanes=o,e;case P:return(e=Rc(19,n,t,i)).elementType=P,e.lanes=o,e;case N:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case C:u=11;break e;case A:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Na(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Pu(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Hu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ou(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Pu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Au(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Au(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Oi.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Na(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Wu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Ou(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Os)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Oa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Oa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Oe=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Te,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},8436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=u(n(2791)),a=u(n(1694)),o=n(8026);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var b=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,l(l({},n),r)):i.default.createElement("button",s({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=b;var k=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,l(l({},n),r)):i.default.createElement("button",s({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=k},5484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},3800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=u(n(2791)),a=u(n(1694)),o=n(8026);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(d,e);var t,n,r,u=h(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),u.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,u=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,h=t.slidesToShow,d=t.slideCount,p=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:h,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,y={onMouseEnter:n,onMouseOver:r,onMouseLeave:u},m=[],g=0;g<v;g++){var b=(g+1)*f-1,k=l?b:(0,o.clamp)(b,0,d-1),w=k-(f-1),_=l?w:(0,o.clamp)(w,0,d-1),x=(0,a.default)({"slick-active":l?p>=_&&p<=k:p===_}),S={message:"dots",index:g,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);m=m.concat(i.default.createElement("li",{key:g,className:x},i.default.cloneElement(this.props.customPaging(g),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(m),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},y))}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent);t.Dots=p},5717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(3178))&&r.__esModule?r:{default:r}).default;t.Z=i},1382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},8293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(2791)),i=h(n(1382)),a=h(n(5095)),o=h(n(1694)),u=n(8026),s=n(4931),c=n(3800),l=n(8436),f=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(_,e);var t,n,h,y=k(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),x(w(t=y.call(this,e)),"listRefHandler",(function(e){return t.list=e})),x(w(t),"trackRefHandler",(function(e){return t.track=e})),x(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,u.getHeight)(e)+"px"}})),x(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,u.getOnDemandLazySlides)(m(m({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=m({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),x(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),x(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,u.getOnDemandLazySlides)(m(m({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=m(m({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),x(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),x(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=m(m({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),x(w(t),"updateState",(function(e,n,i){var a=(0,u.initializedState)(e);e=m(m(m({},e),a),{},{slideIndex:a.currentSlide});var o=(0,u.getTrackLeft)(e);e=m(m({},e),{},{left:o});var s=(0,u.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=s),t.setState(a,i)})),x(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,u.getPreClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,u.getPostClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var s=0;s<a;s++)n+=i[i.length-1-s],e+=i[i.length-1-s];for(var c=0;c<o;c++)e+=i[c];for(var l=0;l<t.state.currentSlide;l++)n+=i[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),p=m(m(m({},t.props),t.state),{},{slideCount:d}),v=(0,u.getPreClones)(p)+(0,u.getPostClones)(p)+d,y=100/t.props.slidesToShow*v,g=100/v,b=-g*((0,u.getPreClones)(p)+t.state.currentSlide)*y/100;return t.props.centerMode&&(b+=(100-g*y/100)/2),{slideWidth:g+"%",trackStyle:{width:y+"%",left:b+"%"}}})),x(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),x(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=m(m({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,u.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,u.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),x(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,s=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,u.slideHandler)(m(m(m({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=f.state,d=f.nextState;if(h){a&&a(l,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),s))}))}})),x(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=m(m({},t.props),t.state),i=(0,u.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),x(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),x(w(t),"keyHandler",(function(e){var n=(0,u.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),x(w(t),"selectHandler",(function(e){t.changeSlide(e)})),x(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),x(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),x(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,u.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),x(w(t),"swipeMove",(function(e){var n=(0,u.swipeMove)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),x(w(t),"swipeEnd",(function(e){var n=(0,u.swipeEnd)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),x(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),x(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),x(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),x(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),x(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,u.canGoNext)(m(m({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),x(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),x(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),x(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),x(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),x(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=m(m({},t.props),t.state),h=(0,u.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(h=m(m({},h),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,u.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),y=t.props.pauseOnDotsHover;v=m(m({},v),{},{clickHandler:t.changeSlide,onMouseEnter:y?t.onDotsLeave:null,onMouseOver:y?t.onDotsOver:null,onMouseLeave:y?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var g=(0,u.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,g),i=r.default.createElement(l.NextArrow,g));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var k=null;!1===t.props.vertical?!0===t.props.centerMode&&(k={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(k={padding:t.props.centerPadding+" 0px"});var w=m(m({},b),k),_=t.props.touchMove,x={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(x={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},x),r.default.createElement(s.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=m(m({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=m(m({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&g(t.prototype,n),h&&g(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component);t.InnerSlider=S},3178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(2791)),a=n(8293),o=c(n(5477)),u=c(n(5484)),s=n(8026);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,s.canUseDOM)()&&n(8153),k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,r,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),g(y(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),g(y(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),g(y(t),"slickNext",(function(){return t.innerSlider.slickNext()})),g(y(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),g(y(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),g(y(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},u.default),this.props),t[0].settings):h(h({},u.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],s=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var f=[],d=c;d<c+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var p=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(s=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*c+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(i.default.createElement("div",{key:10*c+d},p))}e.variableWidth?o.push(i.default.createElement("div",{key:c,style:{width:s}},f)):o.push(i.default.createElement("div",{key:c},f))}if("unslick"===e){var y="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:y},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.Component);t.default=k},4931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=u(n(2791)),a=u(n(1694)),o=n(8026);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},g=function(e,t){return e.key||t},b=function(e){var t,n=[],r=[],u=[],s=i.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),l=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(f,h){var d,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f:i.default.createElement("div",null);var y=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(v(v({},e),{},{index:h})),b=d.props.className||"",k=m(v(v({},e),{},{index:h}));if(n.push(i.default.cloneElement(d,{key:"original"+g(d,h),"data-index":h,className:(0,a.default)(k,b),tabIndex:"-1","aria-hidden":!k["slick-active"],style:v(v({outline:"none"},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=s-h;w<=(0,o.getPreClones)(e)&&s!==e.slidesToShow&&((t=-w)>=c&&(d=f),k=m(v(v({},e),{},{index:t})),r.push(i.default.cloneElement(d,{key:"precloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(k,b),"aria-hidden":!k["slick-active"],style:v(v({},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),s!==e.slidesToShow&&((t=s+h)<l&&(d=f),k=m(v(v({},e),{},{index:t})),u.push(i.default.cloneElement(d,{key:"postcloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(k,b),"aria-hidden":!k["slick-active"],style:v(v({},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,u).reverse():r.concat(n,u)},k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r,a=f(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(h(e=a.call.apply(a,[this].concat(n))),"node",null),y(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=b(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=k},8026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=s,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var y=function(e){return e&&e.offsetHeight||0};t.getHeight=y;var m=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=m;var g=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=g;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),u=e.trackRef&&e.trackRef.node,s=Math.ceil(v(u));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var f=r&&y(r.querySelector('[data-index="0"]')),h=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=l(o(o({},e),{},{currentSlide:d,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:s,currentSlide:d,slideHeight:f,listHeight:h,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,u=e.slideCount,c=e.lazyLoad,f=e.currentSlide,h=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,y=e.lazyLoadedList;if(t&&n)return{};var m,b,k,w=a,_={},T={},I=i?a:s(a,0,u-1);if(r){if(!i&&(a<0||a>=u))return{};a<0?w=a+u:a>=u&&(w=a-u),c&&y.indexOf(w)<0&&(y=y.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:y,targetSlide:w},T={animating:!1,targetSlide:w}}else m=w,w<0?(m=w+u,i?u%d!==0&&(m=u-u%d):m=0):!g(e)&&w>f?w=m=f:h&&w>=u?(w=i?u:u-1,m=i?0:u-1):w>=u&&(m=w-u,i?u%d!==0&&(m=0):m=u-p),!i&&w+p>=u&&(m=u-p),b=E(o(o({},e),{},{slideIndex:w})),k=E(o(o({},e),{},{slideIndex:m})),i||(b===k&&(w=m),b=k),c&&(y=y.concat(l(o(o({},e),{},{currentSlide:w})))),v?(_={animating:!0,currentSlide:m,trackStyle:S(o(o({},e),{},{left:b})),lazyLoadedList:y,targetSlide:I},T={animating:!1,currentSlide:m,trackStyle:x(o(o({},e),{},{left:k})),swipeLeft:null,targetSlide:I}):_={currentSlide:m,trackStyle:x(o(o({},e),{},{left:k})),lazyLoadedList:y,targetSlide:I};return{state:_,nextState:T}};t.changeSlide=function(e,t){var n,r,i,a,u=e.slidesToScroll,s=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,h=e.lazyLoad,d=e.infinite;if(n=c%u!==0?0:(c-l)%u,"previous"===t.message)a=l-(i=0===n?u:s-n),h&&!d&&(a=-1===(r=l-i)?c-1:r),d||(a=f-u);else if("next"===t.message)a=l+(i=0===n?u:n),h&&!d&&(a=(l+u)%c+n),d||(a=f+u);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var p=O(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=c:a<t.currentSlide&&"right"===p&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,u=t.verticalSwiping,s=t.rtl,l=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,p=t.swiped,v=t.swiping,y=t.slideCount,b=t.slidesToScroll,k=t.infinite,w=t.touchObject,_=t.swipeEvent,S=t.listHeight,T=t.listWidth;if(!n){if(r)return c(e);i&&a&&u&&c(e);var I,C={},O=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var P=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!u&&!v&&P>10)return{scrolling:!0};u&&(w.swipeLength=P);var A=(s?-1:1)*(w.curX>w.startX?1:-1);u&&(A=w.curY>w.startY?1:-1);var R=Math.ceil(y/b),N=m(t.touchObject,u),D=w.swipeLength;return k||(0===l&&("right"===N||"down"===N)||l+1>=R&&("left"===N||"up"===N)||!g(t)&&("left"===N||"up"===N))&&(D=w.swipeLength*f,!1===h&&d&&(d(N),C.edgeDragged=!0)),!p&&_&&(_(N),C.swiped=!0),I=i?O+D*(S/T)*A:s?O-D*A:O+D*A,u&&(I=O+D*A),C=o(o({},C),{},{touchObject:w,swipeLeft:I,trackStyle:x(o(o({},t),{},{left:I}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?C:(w.swipeLength>10&&(C.swiping=!0,c(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,u=t.touchThreshold,s=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,h=t.scrolling,d=t.onSwipe,p=t.targetSlide,v=t.currentSlide,y=t.infinite;if(!n)return r&&c(e),{};var g=s?l/u:a/u,b=m(i,s),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return _;if(!i.swipeLength)return _;if(i.swipeLength>g){var x,T;c(e),d&&d(b);var I=y?v:p;switch(b){case"left":case"up":T=I+w(t),x=f?k(t,T):T,_.currentDirection=0;break;case"right":case"down":T=I-w(t),x=f?k(t,T):T,_.currentDirection=1;break;default:x=I}_.triggerSlideHandler=x}else{var C=E(t);_.trackStyle=S(o(o({},t),{},{left:C}))}return _};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=b;var k=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=k;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var _=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=_;var x=function(e){var t,n;_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:u,msTransform:s})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=x;var S=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=x(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,u=e.slideCount,s=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var y=0;if(a?(y=-T(e),u%c!==0&&r+c>u&&(y=-(r>u?s-(r-u):u%c)),o&&(y+=parseInt(s/2))):(u%c!==0&&r+c>u&&(y=s-u%c),o&&(y=parseInt(s/2))),t=v?r*d*-1+y*d:r*l*-1+y*l,!0===h){var m,g=i&&i.node;if(m=r+T(e),t=(n=g&&g.childNodes[m])?-1*n.offsetLeft:0,!0===o){m=a?r+T(e):r,n=g&&g.children[m],t=0;for(var b=0;b<m;b++)t-=g&&g.children[b]&&g.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var I=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=I;var C=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+I(e)};t.getTotalSlides=C;var O=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+P(e)?"left":"right":e.targetSlide<e.currentSlide-A(e)?"right":"left"};t.siblingDirection=O;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=P;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=A;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=b.prototype=new g;k.constructor=b,v(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=O(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=O(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function P(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},N={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var u=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function u(){o(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(u,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;u.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=g(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=d(r.width),s=d(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=p(r,"left","right")+a),Math.round(s+o)!==n&&(s-=p(r,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return g(i.left,i.top,u,s)}var y="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return i?y(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):v(e):h}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return l(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);l(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:x;t.default=S},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,N(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function O(){return!(t.unstable_now()-C<I)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=P,x=function(){R.postMessage(null)}}else x=function(){m(P,0)};function N(e){E=e,S||(S=!0,x())}function D(e,n){T=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,N(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(T),T=-1):y=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,N(_))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},3457:function(e){"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=t},2806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},1288:function(e,t,n){"use strict";n.r(t),n.d(t,{DOMException:function(){return _},Headers:function(){return l},Request:function(){return m},Response:function(){return k},fetch:function(){return x}});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function d(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=f(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(d);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=u(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=s(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(e,t){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function b(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(a){console.warn("Response "+a.message)}}})),t}function k(e,t){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var w=[301,302,303,307,308];k.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})};var _=r.DOMException;try{new _}catch(S){(_=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function x(e,t){return new Promise((function(n,a){var o=new m(e,t);if(o.signal&&o.signal.aborted)return a(new _("Aborted","AbortError"));var c=new XMLHttpRequest;function f(){c.abort()}if(c.onload=function(){var e={statusText:c.statusText,headers:b(c.getAllResponseHeaders()||"")};o.url.startsWith("file://")&&(c.status<200||c.status>599)?e.status=200:e.status=c.status,e.url="responseURL"in c?c.responseURL:e.headers.get("X-Request-URL");var t="response"in c?c.response:c.responseText;setTimeout((function(){n(new k(t,e))}),0)},c.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request timed out"))}),0)},c.onabort=function(){setTimeout((function(){a(new _("Aborted","AbortError"))}),0)},c.open(o.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?c.withCredentials=!0:"omit"===o.credentials&&(c.withCredentials=!1),"responseType"in c&&(i.blob?c.responseType="blob":i.arrayBuffer&&(c.responseType="arraybuffer")),t&&"object"===typeof t.headers&&!(t.headers instanceof l||r.Headers&&t.headers instanceof r.Headers)){var h=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){h.push(u(e)),c.setRequestHeader(e,s(t.headers[e]))})),o.headers.forEach((function(e,t){-1===h.indexOf(t)&&c.setRequestHeader(t,e)}))}else o.headers.forEach((function(e,t){c.setRequestHeader(t,e)}));o.signal&&(o.signal.addEventListener("abort",f),c.onreadystatechange=function(){4===c.readyState&&o.signal.removeEventListener("abort",f)}),c.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}x.polyfill=!0,r.fetch||(r.fetch=x,r.Headers=l,r.Request=m,r.Response=k)},6364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5439),a=(r=i)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},1698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2788)),i=u(n(5506)),a=u(n(626)),o=u(n(6364));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("youtube-player"),c={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){s('event "%s"',r,t),e.trigger(n,t)}},r=!0,i=!1,o=void 0;try{for(var u,c=a.default[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){n(u.value)}}catch(l){i=!0,o=l}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&o.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){var t=o.default[r],i=e.getPlayerState(),a=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var i=e.getPlayerState(),a=void 0;"number"===typeof t.timeout&&(a=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(a),n())}))})).then((function(){return a})):a}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){return e[r].apply(e,n)}))}},a=!0,u=!1,s=void 0;try{for(var c,l=i.default[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){r(c.value)}}catch(f){u=!0,s=f}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return n}};t.default=c,e.exports=t.default},5439:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},5506:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},6071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(3457)),a=u(n(1642)),o=u(n(1698));function u(e){return e&&e.__esModule?e:{default:e}}var s=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(0,i.default)();if(s||(s=(0,a.default)(u)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=o.default.proxyEvents(u);var c=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):s.then((function(r){var i=new r.Player(e,t);return u.on("ready",(function(){n(i)})),null}))})),l=o.default.promisifyPlayer(c,n);return l.on=u.on,l.off=u.off,l},e.exports=t.default},1642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5102),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,a.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},2788:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(3572)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},3572:function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,a=i-(r||i);e.diff=a,e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"===typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n})),t.formatArgs.call(e,o),(n.log||t.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(9426),t.names=[],t.skips=[],t.formatters={}},9426:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,a=365.25*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,u){u=u||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var u=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&!1===isNaN(e))return u.long?o(s=e,i,"day")||o(s,r,"hour")||o(s,n,"minute")||o(s,t,"second")||s+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,a=Object.create(i.prototype),o=new N(r||[]);return u(a,"_invoke",{value:O(e,n,o)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var v="suspendedStart",y="suspendedYield",m="executing",g="completed",b={};function k(){}function w(){}function _(){}var x={};h(x,c,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(D([])));E&&E!==a&&o.call(E,c)&&(x=E);var T=_.prototype=k.prototype=Object.create(x);function I(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,u,s){var c=p(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;u(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function O(e,n,r){var i=v;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=P(u,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:y,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=p(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=_,u(T,"constructor",{value:_,configurable:!0}),u(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,f,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,h(e,f,"GeneratorFunction")),e.prototype=Object.create(T),e},n.awrap=function(e){return{__await:e}},I(C.prototype),h(C.prototype,l,(function(){return this})),n.AsyncIterator=C,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new C(d(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(T),h(T,f,"Generator"),h(T,c,(function(){return this})),h(T,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ki},SDK_VERSION:function(){return ro},_DEFAULT_ENTRY_NAME:function(){return Wa},_addComponent:function(){return Qa},_addOrOverwriteComponent:function(){return $a},_apps:function(){return Ka},_clearComponents:function(){return Za},_components:function(){return Ga},_getProvider:function(){return Xa},_registerComponent:function(){return Ya},_removeServiceInstance:function(){return Ja},deleteApp:function(){return uo},getApp:function(){return ao},getApps:function(){return oo},initializeApp:function(){return io},onLog:function(){return lo},registerVersion:function(){return co},setLogLevel:function(){return fo}});var t,r=n(2791),i=n.t(r,2),a=n(1250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function S(e,t,n){return S=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},E(e)}function T(e){return o(e)||f(e)||s(e)||c()}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var O,P="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:m.location,delta:n})}function y(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var m={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(P,v),h=e,function(){u.removeEventListener(P,v),h=null}},createHref:function(e){return n(u,e)},createURL:y,encodeLocation:function(e){var t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(m.location,e,n);r&&r(i,e);var a=N(i,d=p()+1),o=m.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&h&&h({action:f,location:m.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(m.location,e,n);r&&r(i,e);var a=N(i,d=p()),o=m.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:m.location,delta:0})},go:function(e){return l.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(O||(O={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],X(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(A(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ne([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),U(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=I(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=V(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,B=3,q=2,W=1,H=10,K=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=K),t&&(r+=q),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(z.test(t)?B:""===t?W:H)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(A(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ie(a),hash:ae(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n)}(E(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ce=(new Set(se),["get"].concat(se));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});var me=r.createContext(null);function ge(){return null!=r.useContext(ve)}function be(){return ge()||A(!1),r.useContext(ve).location}function ke(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(ye).isDataRoute?function(){var e=Ae(Oe.UseNavigateStable).router,t=Ne(Pe.UseNavigateStable),n=r.useRef(!1);ke((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ge()||A(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(ye).matches,o=be().pathname,u=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);return ke((function(){s.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof t){var a=te(t,JSON.parse(u),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,u,o,e])}()}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ye).matches,a=be().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function xe(e,n,i){ge()||A(!1);var a,o=r.useContext(pe).navigator,u=r.useContext(ye).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,be());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||A(!1),a=d}else a=f;var p=a.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var y=Ce(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return n&&y?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},y):y}function Se(){var e=function(){var e,t=r.useContext(me),n=Re(Pe.UseRouteError),i=Ne(Pe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ee=r.createElement(Se,null),Te=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(me.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ie(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},i)}function Ce(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||A(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ee);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ie,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Te,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oe||{}),Pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pe||{});function Ae(e){var t=r.useContext(fe);return t||A(!1),t}function Re(e){var t=r.useContext(he);return t||A(!1),t}function Ne(e){var t=function(e){var t=r.useContext(ye);return t||A(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||A(!1),n.route.id}i.startTransition;function De(e){A(!1)}function Le(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ge()&&A(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=M(u));var v=u,y=v.pathname,m=void 0===y?"/":y,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,_=v.state,x=void 0===_?null:_,S=v.key,E=void 0===S?"default":S,T=r.useMemo((function(){var e=J(m,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:x,key:E},navigationType:c}}),[d,m,b,w,x,E,c]);return null==T?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:T}))}function Me(e){var t=e.children,n=e.location;return xe(Ue(t),n)}var je=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(je||{}),Fe=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==De&&A(!1),e.props.index&&e.props.children&&A(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];var qe=i.startTransition;function We(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),j((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var s=u.current,c=l(r.useState({action:s.action,location:s.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=r.useCallback((function(e){d&&qe?qe((function(){return h(e)})):h(e)}),[h,d]);return r.useLayoutEffect((function(){return s.listen(p)}),[s,p]),r.createElement(Le,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:s})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=ze(e,Be),p=r.useContext(pe).basename,v=!1;if("string"===typeof l&&Ke.test(l)&&(n=l,He))try{var y=new URL(window.location.href),m=l.startsWith("//")?new URL(y.protocol+l):new URL(l),g=J(m.pathname,p);m.origin===y.origin&&null!=g?l=g+m.search+m.hash:v=!0}catch(w){}var b=function(e,t){var n=(void 0===t?{}:t).relative;ge()||A(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,u=_e(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=n.unstable_viewTransition,l=we(),f=be(),h=_e(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(f)===L(h);l(e,{replace:n,state:o,preventScrollReset:u,relative:s,unstable_viewTransition:c})}}),[f,l,h,a,o,i,e,u,s,c])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a,unstable_viewTransition:h});return r.createElement("a",Ve({},d,{href:n||b,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Qe,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={}));function Ye(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Xe=function(){return Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xe.apply(this,arguments)};function Je(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function Ze(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var et=n(9613),tt=n.n(et),nt="-ms-",rt="-moz-",it="-webkit-",at="comm",ot="rule",ut="decl",st="@import",ct="@keyframes",lt="@layer",ft=Math.abs,ht=String.fromCharCode,dt=Object.assign;function pt(e){return e.trim()}function vt(e,t){return(e=t.exec(e))?e[0]:e}function yt(e,t,n){return e.replace(t,n)}function mt(e,t){return e.indexOf(t)}function gt(e,t){return 0|e.charCodeAt(t)}function bt(e,t,n){return e.slice(t,n)}function kt(e){return e.length}function wt(e){return e.length}function _t(e,t){return t.push(e),e}function xt(e,t){return e.filter((function(e){return!vt(e,t)}))}var St=1,Et=1,Tt=0,It=0,Ct=0,Ot="";function Pt(e,t,n,r,i,a,o,u){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:St,column:Et,length:o,return:"",siblings:u}}function At(e,t){return dt(Pt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Rt(e){for(;e.root;)e=At(e.root,{children:[e]});_t(e,e.siblings)}function Nt(){return Ct=It>0?gt(Ot,--It):0,Et--,10===Ct&&(Et=1,St--),Ct}function Dt(){return Ct=It<Tt?gt(Ot,It++):0,Et++,10===Ct&&(Et=1,St++),Ct}function Lt(){return gt(Ot,It)}function Mt(){return It}function jt(e,t){return bt(Ot,e,t)}function Ft(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ut(e){return St=Et=1,Tt=kt(Ot=e),It=0,[]}function Vt(e){return Ot="",e}function zt(e){return pt(jt(It-1,Wt(91===e?e+2:40===e?e+1:e)))}function Bt(e){for(;(Ct=Lt())&&Ct<33;)Dt();return Ft(e)>2||Ft(Ct)>3?"":" "}function qt(e,t){for(;--t&&Dt()&&!(Ct<48||Ct>102||Ct>57&&Ct<65||Ct>70&&Ct<97););return jt(e,Mt()+(t<6&&32==Lt()&&32==Dt()))}function Wt(e){for(;Dt();)switch(Ct){case e:return It;case 34:case 39:34!==e&&39!==e&&Wt(Ct);break;case 40:41===e&&Wt(e);break;case 92:Dt()}return It}function Ht(e,t){for(;Dt()&&e+Ct!==57&&(e+Ct!==84||47!==Lt()););return"/*"+jt(t,It-1)+"*"+ht(47===e?e:Dt())}function Kt(e){for(;!Ft(Lt());)Dt();return jt(e,It)}function Gt(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Qt(e,t,n,r){switch(e.type){case lt:if(e.children.length)break;case st:case ut:return e.return=e.return||e.value;case at:return"";case ct:return e.return=e.value+"{"+Gt(e.children,r)+"}";case ot:if(!kt(e.value=e.props.join(",")))return""}return kt(n=Gt(e.children,r))?e.return=e.value+"{"+n+"}":""}function $t(e,t,n){switch(function(e,t){return 45^gt(e,0)?(((t<<2^gt(e,0))<<2^gt(e,1))<<2^gt(e,2))<<2^gt(e,3):0}(e,t)){case 5103:return it+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return it+e+e;case 4789:return rt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return it+e+rt+e+nt+e+e;case 5936:switch(gt(e,t+11)){case 114:return it+e+nt+yt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return it+e+nt+yt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return it+e+nt+yt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return it+e+nt+e+e;case 6165:return it+e+nt+"flex-"+e+e;case 5187:return it+e+yt(e,/(\w+).+(:[^]+)/,it+"box-$1$2"+nt+"flex-$1$2")+e;case 5443:return it+e+nt+"flex-item-"+yt(e,/flex-|-self/g,"")+(vt(e,/flex-|baseline/)?"":nt+"grid-row-"+yt(e,/flex-|-self/g,""))+e;case 4675:return it+e+nt+"flex-line-pack"+yt(e,/align-content|flex-|-self/g,"")+e;case 5548:return it+e+nt+yt(e,"shrink","negative")+e;case 5292:return it+e+nt+yt(e,"basis","preferred-size")+e;case 6060:return it+"box-"+yt(e,"-grow","")+it+e+nt+yt(e,"grow","positive")+e;case 4554:return it+yt(e,/([^-])(transform)/g,"$1"+it+"$2")+e;case 6187:return yt(yt(yt(e,/(zoom-|grab)/,it+"$1"),/(image-set)/,it+"$1"),e,"")+e;case 5495:case 3959:return yt(e,/(image-set\([^]*)/,it+"$1$`$1");case 4968:return yt(yt(e,/(.+:)(flex-)?(.*)/,it+"box-pack:$3"+nt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+it+e+e;case 4200:if(!vt(e,/flex-|baseline/))return nt+"grid-column-align"+bt(e,t)+e;break;case 2592:case 3360:return nt+yt(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,vt(e.props,/grid-\w+-end/)}))?~mt(e+(n=n[t].value),"span")?e:nt+yt(e,"-start","")+e+nt+"grid-row-span:"+(~mt(n,"span")?vt(n,/\d+/):+vt(n,/\d+/)-+vt(e,/\d+/))+";":nt+yt(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return vt(e.props,/grid-\w+-start/)}))?e:nt+yt(yt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return yt(e,/(.+)-inline(.+)/,it+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kt(e)-1-t>6)switch(gt(e,t+1)){case 109:if(45!==gt(e,t+4))break;case 102:return yt(e,/(.+:)(.+)-([^]+)/,"$1"+it+"$2-$3$1"+rt+(108==gt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~mt(e,"stretch")?$t(yt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return yt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,u){return nt+n+":"+r+u+(i?nt+n+"-span:"+(a?o:+o-+r)+u:"")+e}));case 4949:if(121===gt(e,t+6))return yt(e,":",":"+it)+e;break;case 6444:switch(gt(e,45===gt(e,14)?18:11)){case 120:return yt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+it+(45===gt(e,14)?"inline-":"")+"box$3$1"+it+"$2$3$1"+nt+"$2box$3")+e;case 100:return yt(e,":",":"+nt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return yt(e,"scroll-","scroll-snap-")+e}return e}function Yt(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ut:return void(e.return=$t(e.value,e.length,n));case ct:return Gt([At(e,{value:yt(e.value,"@","@"+it)})],r);case ot:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(vt(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Rt(At(e,{props:[yt(t,/:(read-\w+)/,":"+rt+"$1")]})),Rt(At(e,{props:[t]})),dt(e,{props:xt(n,r)});break;case"::placeholder":Rt(At(e,{props:[yt(t,/:(plac\w+)/,":"+it+"input-$1")]})),Rt(At(e,{props:[yt(t,/:(plac\w+)/,":"+rt+"$1")]})),Rt(At(e,{props:[yt(t,/:(plac\w+)/,nt+"input-$1")]})),Rt(At(e,{props:[t]})),dt(e,{props:xt(n,r)})}return""}))}}function Xt(e){return Vt(Jt("",null,null,null,[""],e=Ut(e),0,[0],e))}function Jt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,b="",k=i,w=a,_=r,x=b;y;)switch(p=g,g=Dt()){case 40:if(108!=p&&58==gt(x,f-1)){-1!=mt(x+=yt(zt(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:x+=zt(g);break;case 9:case 10:case 13:case 32:x+=Bt(p);break;case 92:x+=qt(Mt()-1,7);continue;case 47:switch(Lt()){case 42:case 47:_t(en(Ht(Dt(),Mt()),t,n,s),s);break;default:x+="/"}break;case 123*v:u[c++]=kt(x)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+l:-1==m&&(x=yt(x,/\f/g,"")),d>0&&kt(x)-f&&_t(d>32?tn(x+";",r,n,f-1,s):tn(yt(x," ","")+";",r,n,f-2,s),s);break;case 59:x+=";";default:if(_t(_=Zt(x,t,n,c,l,i,u,b,k=[],w=[],f,a),a),123===g)if(0===l)Jt(x,t,_,_,k,a,f,u,w);else switch(99===h&&110===gt(x,3)?100:h){case 100:case 108:case 109:case 115:Jt(e,_,_,r&&_t(Zt(e,_,_,0,0,i,u,b,i,k=[],f,w),w),i,w,f,u,r?k:w);break;default:Jt(x,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=m=1,b=x="",f=o;break;case 58:f=1+kt(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Nt())continue;switch(x+=ht(g),g*v){case 38:m=l>0?1:(x+="\f",-1);break;case 44:u[c++]=(kt(x)-1)*m,m=1;break;case 64:45===Lt()&&(x+=zt(Dt())),h=Lt(),l=f=kt(b=x+=Kt(Mt())),g++;break;case 45:45===p&&2==kt(x)&&(v=0)}}return a}function Zt(e,t,n,r,i,a,o,u,s,c,l,f){for(var h=i-1,d=0===i?a:[""],p=wt(d),v=0,y=0,m=0;v<r;++v)for(var g=0,b=bt(e,h+1,h=ft(y=o[v])),k=e;g<p;++g)(k=pt(y>0?d[g]+" "+b:yt(b,/&\f/g,d[g])))&&(s[m++]=k);return Pt(e,t,n,0===i?ot:u,s,c,l,f)}function en(e,t,n,r){return Pt(e,t,n,at,ht(Ct),bt(e,2,-2),0,r)}function tn(e,t,n,r,i){return Pt(e,t,n,ut,bt(e,0,r),bt(e,r+1,-1),r,i)}var nn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rn="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",an="undefined"!=typeof window&&"HTMLElement"in window,on=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),un=(new Set,Object.freeze([])),sn=Object.freeze({});function cn(e,t,n){return void 0===n&&(n=sn),e.theme!==n.theme&&e.theme||t||n.theme}var ln=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),fn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,hn=/(^-|-$)/g;function dn(e){return e.replace(fn,"-").replace(hn,"")}var pn=/(a)(d)/gi,vn=function(e){return String.fromCharCode(e+(e>25?39:97))};function yn(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=vn(t%52)+n;return(vn(t%52)+n).replace(pn,"$1-$2")}var mn,gn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},bn=function(e){return gn(5381,e)};function kn(e){return yn(bn(e)>>>0)}function wn(e){return"string"==typeof e&&!0}var _n="function"==typeof Symbol&&Symbol.for,xn=_n?Symbol.for("react.memo"):60115,Sn=_n?Symbol.for("react.forward_ref"):60112,En={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Tn={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},In={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Cn=((mn={})[Sn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mn[xn]=In,mn);function On(e){return("type"in(t=e)&&t.type.$$typeof)===xn?In:"$$typeof"in e?Cn[e.$$typeof]:En;var t}var Pn=Object.defineProperty,An=Object.getOwnPropertyNames,Rn=Object.getOwnPropertySymbols,Nn=Object.getOwnPropertyDescriptor,Dn=Object.getPrototypeOf,Ln=Object.prototype;function Mn(e,t,n){if("string"!=typeof t){if(Ln){var r=Dn(t);r&&r!==Ln&&Mn(e,r,n)}var i=An(t);Rn&&(i=i.concat(Rn(t)));for(var a=On(e),o=On(t),u=0;u<i.length;++u){var s=i[u];if(!(s in Tn||n&&n[s]||o&&s in o||a&&s in a)){var c=Nn(t,s);try{Pn(e,s,c)}catch(e){}}}}return e}function jn(e){return"function"==typeof e}function Fn(e){return"object"==typeof e&&"styledComponentId"in e}function Un(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Vn(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function zn(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Bn(e,t,n){if(void 0===n&&(n=!1),!n&&!zn(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Bn(e[r],t[r]);else if(zn(t))for(var r in t)e[r]=Bn(e[r],t[r]);return e}function qn(e,t){Object.defineProperty(e,"toString",{value:t})}function Wn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Hn=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Wn(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=(a=0,t.length);a<u;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),Kn=new Map,Gn=new Map,Qn=1,$n=function(e){if(Kn.has(e))return Kn.get(e);for(;Gn.has(Qn);)Qn++;var t=Qn++;return Kn.set(e,t),Gn.set(t,e),t},Yn=function(e,t){Kn.set(e,t),Gn.set(t,e)},Xn="style[".concat(rn,"][").concat("data-styled-version",'="').concat("6.1.0",'"]'),Jn=new RegExp("^".concat(rn,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Zn=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},er=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var u=r[a].trim();if(u){var s=u.match(Jn);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(Yn(l,c),Zn(e,l,s[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(u)}}};function tr(){return n.nc}var nr=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(rn,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(rn,"active"),r.setAttribute("data-styled-version","6.1.0");var o=tr();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},rr=function(){function e(e){this.element=nr(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Wn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),ir=function(){function e(e){this.element=nr(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ar=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),or=an,ur={isServer:!an,useCSSOMInjection:!on},sr=function(){function e(e,t,n){void 0===e&&(e=sn),void 0===t&&(t={});var r=this;this.options=Xe(Xe({},ur),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&an&&or&&(or=!1,function(e){for(var t=document.querySelectorAll(Xn),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(rn)&&(er(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),qn(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return Gn.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var u="".concat(rn,".g").concat(n,'[id="').concat(i,'"]'),s="";void 0!==a&&a.forEach((function(e){e.length>0&&(s+="".concat(e,","))})),r+="".concat(o).concat(u,'{content:"').concat(s,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(r)}))}return e.registerId=function(e){return $n(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Xe(Xe({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new ar(n):t?new rr(n):new ir(n)}(this.options),new Hn(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if($n(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules($n(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup($n(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),cr=/&/g,lr=/^\s*\/\/.*$/gm;function fr(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=fr(e.children,t)),e}))}function hr(e){var t,n,r,i=void 0===e?sn:e,a=i.options,o=void 0===a?sn:a,u=i.plugins,s=void 0===u?un:u,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=s.slice();l.push((function(e){e.type===ot&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(cr,n).replace(r,c))})),o.prefix&&l.push(Yt),l.push(Qt);var f=function(e,i,a,u){void 0===i&&(i=""),void 0===a&&(a=""),void 0===u&&(u="&"),t=u,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var s=e.replace(lr,""),c=Xt(a||i?"".concat(a," ").concat(i," { ").concat(s," }"):s);o.namespace&&(c=fr(c,o.namespace));var f,h=[];return Gt(c,function(e){var t=wt(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}(l.concat((f=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&f(e)})))),h};return f.hash=s.length?s.reduce((function(e,t){return t.name||Wn(15),gn(e,t.name)}),5381).toString():"",f}var dr=new sr,pr=hr(),vr=r.createContext({shouldForwardProp:void 0,styleSheet:dr,stylis:pr}),yr=(vr.Consumer,r.createContext(void 0));function mr(){return(0,r.useContext)(vr)}function gr(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=mr().styleSheet,o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),u=(0,r.useMemo)((function(){return hr({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,r.useEffect)((function(){tt()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var s=(0,r.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:u}}),[e.shouldForwardProp,o,u]);return r.createElement(vr.Provider,{value:s},r.createElement(yr.Provider,{value:u},e.children))}var br=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=pr);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,qn(this,(function(){throw Wn(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=pr),this.name+e.hash},e}(),kr=function(e){return e>="A"&&e<="Z"};function wr(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;kr(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var _r=function(e){return null==e||!1===e||""===e},xr=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!_r(o)&&(Array.isArray(o)&&o.isCss||jn(o)?i.push("".concat(wr(a),":"),o,";"):zn(o)?i.push.apply(i,Ze(Ze(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(wr(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in nn||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function Sr(e,t,n,r){return _r(e)?[]:Fn(e)?[".".concat(e.styledComponentId)]:jn(e)?!jn(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Sr(e(t),t,n,r):e instanceof br?n?(e.inject(n,r),[e.getName(r)]):[e]:zn(e)?xr(e):Array.isArray(e)?Array.prototype.concat.apply(un,e.map((function(e){return Sr(e,t,n,r)}))):[e.toString()];var i}function Er(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(jn(n)&&!Fn(n))return!1}return!0}var Tr=bn("6.1.0"),Ir=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Er(e),this.componentId=t,this.baseHash=gn(Tr,t),this.baseStyle=n,sr.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Un(r,this.staticRulesId);else{var i=Vn(Sr(this.rules,e,t,n)),a=yn(gn(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=Un(r,a),this.staticRulesId=a}else{for(var u=gn(this.baseHash,n.hash),s="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)s+=l;else if(l){var f=Vn(Sr(l,e,t,n));u=gn(u,f+c),s+=f}}if(s){var h=yn(u>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(s,".".concat(h),void 0,this.componentId)),r=Un(r,h)}}return r},e}(),Cr=r.createContext(void 0);Cr.Consumer;var Or={};new Set;function Pr(e,t,n){var i=Fn(e),a=e,o=!wn(e),u=t.attrs,s=void 0===u?un:u,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":dn(e);Or[n]=(Or[n]||0)+1;var r="".concat(n,"-").concat(kn("6.1.0"+n+Or[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,f=t.displayName,h=(void 0===f&&function(e){wn(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),t.displayName&&t.componentId?"".concat(dn(t.displayName),"-").concat(t.componentId):t.componentId||l),d=i&&a.attrs?a.attrs.concat(s).filter(Boolean):s,p=t.shouldForwardProp;if(i&&a.shouldForwardProp){var v=a.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;p=function(e,t){return v(e,t)&&y(e,t)}}else p=v}var m=new Ir(n,h,i?a.componentStyle:void 0);var g=r.forwardRef((function(e,t){return function(e,t,n){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,u=e.foldedComponentIds,s=e.styledComponentId,c=e.target,l=r.useContext(Cr),f=mr(),h=e.shouldForwardProp||f.shouldForwardProp,d=function(e,t,n){for(var r,i=Xe(Xe({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=jn(r=e[a])?r(i):r;for(var u in o)i[u]="className"===u?Un(i[u],o[u]):"style"===u?Xe(Xe({},i[u]),o[u]):o[u]}return t.className&&(i.className=Un(i.className,t.className)),i}(i,t,cn(t,l,o)||sn),p=d.as||c,v={};for(var y in d)void 0===d[y]||"$"===y[0]||"as"===y||"theme"===y||("forwardedAs"===y?v.as=d.forwardedAs:h&&!h(y,p)||(v[y]=d[y]));var m=function(e,t){var n=mr();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,d),g=Un(u,s);return m&&(g+=" "+m),d.className&&(g+=" "+d.className),v[wn(p)&&!ln.has(p)?"class":"className"]=g,v.ref=n,(0,r.createElement)(p,v)}(g,e,t)}));return g.attrs=d,g.componentStyle=m,g.shouldForwardProp=p,g.foldedComponentIds=i?Un(a.foldedComponentIds,a.styledComponentId):"",g.styledComponentId=h,g.target=i?a.target:e,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Bn(e,i[r],!0);return e}({},a.defaultProps,e):e}}),qn(g,(function(){return".".concat(g.styledComponentId)})),o&&Mn(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function Ar(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Rr=function(e){return Object.assign(e,{isCss:!0})};function Nr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(jn(e)||zn(e))return Rr(Sr(Ar(un,Ze([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Sr(r):Rr(Sr(Ar(r,t)))}function Dr(e,t,n){if(void 0===n&&(n=sn),!t)throw Wn(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,Nr.apply(void 0,Ze([r],i,!1)))};return r.attrs=function(r){return Dr(e,t,Xe(Xe({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Dr(e,t,Xe(Xe({},n),r))},r}var Lr=function(e){return Dr(Pr,e)},Mr=Lr;ln.forEach((function(e){Mr[e]=Lr(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Er(e),sr.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(Vn(Sr(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&sr.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=tr(),r=Vn([n&&'nonce="'.concat(n,'"'),"".concat(rn,'="true"'),"".concat("data-styled-version",'="').concat("6.1.0",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Wn(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Wn(2);var n=((t={})[rn]="",t["data-styled-version"]="6.1.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=tr();return i&&(n.nonce=i),[r.createElement("style",Xe({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new sr({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Wn(2);return r.createElement(gr,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Wn(3)}})(),"__sc-".concat(rn,"__");var jr,Fr,Ur,Vr,zr,Br,qr,Wr,Hr=n(184),Kr=Mr.section(jr||(jr=Ye(["\noverflow: hidden;\ndisplay: flex;\nflex-direction: column;\ntext-align: center;\nheight: 100vh;\nz-index: -1;\n"]))),Gr=Mr.div(Fr||(Fr=Ye(["\n margin-bottom: 10vw;\n position: relative;\n min-height:100vh ;\n box-sizing: border-box;\n display: flex;\n justify-content: center;\n align-items: center;\n flex-direction: column;\n  padding: 80px 40px;\n  height: 100%;\n  z-index: 1;\n"]))),Qr=Mr.div(Ur||(Ur=Ye(["\n\n  background-image:url('/images/login-background.jpg');\n  height: 100%;\n  /* width: 100%; */\n  position: absolute;\n  background-position: top;\n  background-size: cover;\n  background-repeat: no-repeat;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: -1;\n  "]))),$r=Mr.div(Vr||(Vr=Ye(["\n  margin-bottom: 2vw;\n  max-width: 650px;\n  flex-wrap: wrap;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: 0;\n  align-items: center;\n  text-align: center;\n  margin-right: auto;\n  margin-left: auto;\n  transition-timing-function: ease-out;\n  transition: opacity 0.2s;\n  width: 100%;\n\n  "]))),Yr=Mr.img(zr||(zr=Ye(["\n  margin-bottom: 12px;\n  max-width: 600px;\n  min-height: 1px;\n  display: block;\n  width: 100%;\n  "]))),Xr=Mr.a(Br||(Br=Ye(["\n  font-weight:bold ;\n  color: white;\n  background-color: #0063e5;\n  margin-bottom: 12px;\n  width: 100%;\n  letter-spacing: 1.5px;\n  font-size: 18px;\n  padding: 16.5px 0;\n  border: 1px solid transparent;\n  border-radius: 4px;\n\n  &:hover{\n    background-color: #0483ee;\n  }\n  "]))),Jr=Mr.p(qr||(qr=Ye(["\n  color: hsla(0,0%,95.3%,1);\n  font-size: 11px;\n  margin: 0 0 24px;\n  line-height: 1.5;\n  letter-spacing: 1.5px;\n\n  "]))),Zr=Mr.img(Wr||(Wr=Ye(["\nmax-width: 600px;\nmargin-bottom: 20px;\ndisplay: inline-block;\nvertical-align: bottom;\nwidth: 100%;\n\n\n"]))),ei=function(e){return(0,Hr.jsx)(Kr,{children:(0,Hr.jsxs)(Gr,{children:[(0,Hr.jsxs)($r,{children:[(0,Hr.jsx)(Yr,{src:"/images/cta-logo-one.svg",alt:""}),(0,Hr.jsx)(Xr,{children:"GET ALL THERE"}),(0,Hr.jsx)(Jr,{children:"Get Premier Access to Rays and the Last Dragon for an additional fee with a Disney+ subscription. As of 10/10/2023,the price of Disney+ and the Disney Bundle will increase by Rs80"}),(0,Hr.jsx)(Zr,{src:"/images/cta-logo-two.png",alt:"none"})]}),(0,Hr.jsx)(Qr,{})]})})};function ti(){ti=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),u=new A(r||[]);return i(o,"_invoke",{value:I(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",v="executing",y="completed",m={};function g(){}function b(){}function k(){}var w={};c(w,o,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(R([])));x&&x!==n&&r.call(x,o)&&(w=x);var S=k.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,u){var s=f(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function I(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=C(u,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?y:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return b.prototype=k,i(S,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:b,configurable:!0}),b.displayName=c(k,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new T(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),c(S,s,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function ni(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ri(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ni(a,r,i,o,u,"next",e)}function u(e){ni(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ii=n(7248),ai=n(327),oi=n(4164);var ui=function(e){e()},si=function(){return ui};function ci(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var li=Symbol.for("react-redux-context"),fi="undefined"!==typeof globalThis?globalThis:{};function hi(){var e;if(!r.createContext)return{};var t=null!=(e=fi[li])?e:fi[li]=new Map,n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var di=hi();function pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;return function(){return(0,r.useContext)(e)}}var vi=pi(),yi=function(){throw new Error("uSES not initialized!")},mi=function(e,t){return e===t};function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di,t=e===di?vi:pi(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof n?{equalityFn:n}:n,a=i.equalityFn,o=void 0===a?mi:a,u=i.stabilityCheck,s=void 0===u?void 0:u;i.noopCheck;var c=t(),l=c.store,f=c.subscription,h=c.getServerState,d=c.stabilityCheck,p=(c.noopCheck,(0,r.useRef)(!0),(0,r.useCallback)(ci({},e.name,(function(t){return e(t)}))[e.name],[e,d,s])),v=yi(f.addNestedSub,l.getState,h||l.getState,p,o);return(0,r.useDebugValue)(v),v}}var bi=gi();n(2110),n(6900);var ki={notify:function(){},get:function(){return[]}};function wi(e,t){var n,r=ki,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function u(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=si(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function s(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=ki)}var c={addNestedSub:function(e){u();var t=r.subscribe(e),n=!1;return function(){n||(n=!0,t(),s())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,u())},tryUnsubscribe:function(){a&&(a=!1,s())},getListeners:function(){return r}};return c}var _i=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var xi=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,u=void 0===o?"once":o,s=e.noopCheck,c=void 0===s?"once":s,l=r.useMemo((function(){var e=wi(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:u,noopCheck:c}}),[t,a,u,c]),f=r.useMemo((function(){return t.getState()}),[t]);_i((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,f]);var h=n||di;return r.createElement(h.Provider,{value:l},i)};function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di,t=e===di?vi:pi(e);return function(){return t().store}}var Ei=Si();function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di,t=e===di?Ei:Si(e);return function(){return t().dispatch}}var Ii,Ci=Ti();!function(e){yi=e}(ai.useSyncExternalStoreWithSelector),function(e){e}(ii.useSyncExternalStore),Ii=oi.unstable_batchedUpdates,ui=Ii;var Oi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Oi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Ai;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ai=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(E(Error)),Ri=function(e){return function(e){var t=Oi(e);return Pi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ni=function(e){try{return Pi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Di(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Di(e[n],t[n]));return e}var Li=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Mi=function(){try{return Li()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ni(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ji=function(){var e;return null===(e=Mi())||void 0===e?void 0:e.config},Fi=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ui(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ri(JSON.stringify({alg:"none",type:"JWT"})),Ri(JSON.stringify(a)),""].join(".")}function Vi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function zi(){var e,t=null===(e=Mi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Bi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function qi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Wi(){var e=Vi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Hi(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ki=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),Gi.prototype.create),a}return m(n)}(E(Error)),Gi=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Qi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ki(n,a,t)}}]),e}();var Qi=/\{\$([^}]+)}/g;function $i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ji(u)&&Ji(s)){if(!Xi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ji(e){return null!==e&&"object"===typeof e}function Zi(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ea(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ta(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function na(e,t){var n=new ra(e,t);return n.subscribe.bind(n)}var ra=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ia),void 0===r.error&&(r.error=ia),void 0===r.complete&&(r.complete=ia);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ia(){}function aa(e){return e&&e._delegate?e._delegate:e}var oa=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ua="[DEFAULT]",sa=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Fi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch(s){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=I(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ca(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua;return this.component?this.component.multipleInstances?e:ua:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ca(e){return e===ua?void 0:e}var la,fa,ha=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new sa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),da=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fa||(fa={}));var pa={debug:fa.DEBUG,verbose:fa.VERBOSE,info:fa.INFO,warn:fa.WARN,error:fa.ERROR,silent:fa.SILENT},va=fa.INFO,ya=(ci(la={},fa.DEBUG,"log"),ci(la,fa.VERBOSE,"log"),ci(la,fa.INFO,"info"),ci(la,fa.WARN,"warn"),ci(la,fa.ERROR,"error"),la),ma=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ya[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ga=function(){function e(t){d(this,e),this.name=t,this._logLevel=va,this._logHandler=ma,this._userLogHandler=null,da.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?pa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fa.DEBUG].concat(t)),this._logHandler.apply(this,[this,fa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fa.INFO].concat(t)),this._logHandler.apply(this,[this,fa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fa.WARN].concat(t)),this._logHandler.apply(this,[this,fa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fa.ERROR].concat(t)),this._logHandler.apply(this,[this,fa.ERROR].concat(t))}}]),e}();function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wa,_a,xa=function(e,t){return t.some((function(t){return e instanceof t}))};var Sa=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,Ia=new WeakMap,Ca=new WeakMap;var Oa={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ea.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ta.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ra(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Pa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_a||(_a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Na(this),n),Ra(Sa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ra(e.apply(Na(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Na(this),t].concat(r));return Ta.set(a,t.sort?t.sort():[t]),Ra(a)}}function Aa(e){return"function"===typeof e?Pa(e):(e instanceof IDBTransaction&&function(e){if(!Ea.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ea.set(e,t)}}(e),xa(e,wa||(wa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Oa):e)}function Ra(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ra(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Sa.set(t,e)})).catch((function(){})),Ca.set(t,e),t}(e);if(Ia.has(e))return Ia.get(e);var t=Aa(e);return t!==e&&(Ia.set(e,t),Ca.set(t,e)),t}var Na=function(e){return Ca.get(e)};var Da,La,Ma=["get","getKey","getAll","getAllKeys","count"],ja=["put","add","delete","clear"],Fa=new Map;function Ua(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Fa.get(t))return Fa.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ja.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ma.includes(n))){var a=function(){var e=ri(ti().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Fa.set(t,a),a}}}Oa=function(e){return ka(ka({},e),{},{get:function(t,n,r){return Ua(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ua(t,n)||e.has(t,n)}})}(Oa);var Va=function(){function e(t){d(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var za="@firebase/app",Ba="0.9.24",qa=new ga("@firebase/app"),Wa="[DEFAULT]",Ha=(ci(Da={},za,"fire-core"),ci(Da,"@firebase/app-compat","fire-core-compat"),ci(Da,"@firebase/analytics","fire-analytics"),ci(Da,"@firebase/analytics-compat","fire-analytics-compat"),ci(Da,"@firebase/app-check","fire-app-check"),ci(Da,"@firebase/app-check-compat","fire-app-check-compat"),ci(Da,"@firebase/auth","fire-auth"),ci(Da,"@firebase/auth-compat","fire-auth-compat"),ci(Da,"@firebase/database","fire-rtdb"),ci(Da,"@firebase/database-compat","fire-rtdb-compat"),ci(Da,"@firebase/functions","fire-fn"),ci(Da,"@firebase/functions-compat","fire-fn-compat"),ci(Da,"@firebase/installations","fire-iid"),ci(Da,"@firebase/installations-compat","fire-iid-compat"),ci(Da,"@firebase/messaging","fire-fcm"),ci(Da,"@firebase/messaging-compat","fire-fcm-compat"),ci(Da,"@firebase/performance","fire-perf"),ci(Da,"@firebase/performance-compat","fire-perf-compat"),ci(Da,"@firebase/remote-config","fire-rc"),ci(Da,"@firebase/remote-config-compat","fire-rc-compat"),ci(Da,"@firebase/storage","fire-gcs"),ci(Da,"@firebase/storage-compat","fire-gcs-compat"),ci(Da,"@firebase/firestore","fire-fst"),ci(Da,"@firebase/firestore-compat","fire-fst-compat"),ci(Da,"fire-js","fire-js"),ci(Da,"firebase","fire-js-all"),Da),Ka=new Map,Ga=new Map;function Qa(e,t){try{e.container.addComponent(t)}catch(n){qa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $a(e,t){e.container.addOrOverwriteComponent(t)}function Ya(e){var t=e.name;if(Ga.has(t))return qa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ga.set(t,e);var n,r=I(Ka.values());try{for(r.s();!(n=r.n()).done;){Qa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Xa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ja(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wa;Xa(e,t).clearInstance(n)}function Za(){Ga.clear()}var eo=(ci(La={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),ci(La,"bad-app-name","Illegal App name: '{$appName}"),ci(La,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ci(La,"app-deleted","Firebase App named '{$appName}' already deleted"),ci(La,"no-options","Need to provide options, when not being deployed to hosting via source."),ci(La,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ci(La,"invalid-log-argument","First argument to `onLog` must be null or a function."),ci(La,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ci(La,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ci(La,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ci(La,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),La),to=new Gi("app","Firebase",eo),no=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}]),e}(),ro="10.7.0";function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Wa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw to.create("bad-app-name",{appName:String(i)});if(n||(n=ji()),!n)throw to.create("no-options");var a=Ka.get(i);if(a){if(Xi(n,a.options)&&Xi(r,a.config))return a;throw to.create("duplicate-app",{appName:i})}var o,u=new ha(i),s=I(Ga.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new no(n,r,u);return Ka.set(i,l),l}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=Ka.get(e);if(!t&&e===Wa&&ji())return io();if(!t)throw to.create("no-app",{appName:e});return t}function oo(){return Array.from(Ka.values())}function uo(e){return so.apply(this,arguments)}function so(){return so=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ka.has(n)){e.next=6;break}return Ka.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function co(e,t,n){var r,i=null!==(r=Ha[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qa.warn(u.join(" "))}Ya(new oa("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function lo(e,t){if(null!==e&&"function"!==typeof e)throw to.create("invalid-log-argument");!function(e,t){var n,r=I(da);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=pa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:fa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function fo(e){var t;t=e,da.forEach((function(e){e.setLogLevel(t)}))}var ho="firebase-heartbeat-database",po=1,vo="firebase-heartbeat-store",yo=null;function mo(){return yo||(yo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ra(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ra(u.result),e.oldVersion,e.newVersion,Ra(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(ho,po,{upgrade:function(e,t){if(0===t)e.createObjectStore(vo)}}).catch((function(e){throw to.create("idb-open",{originalErrorMessage:e.message})}))),yo}function go(e){return bo.apply(this,arguments)}function bo(){return bo=ri(ti().mark((function e(t){var n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mo();case 3:return n=e.sent,e.next=6,n.transaction(vo).objectStore(vo).get(_o(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Ki?qa.warn(e.t0.message):(i=to.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),qa.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),bo.apply(this,arguments)}function ko(e,t){return wo.apply(this,arguments)}function wo(){return wo=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mo();case 3:return r=e.sent,i=r.transaction(vo,"readwrite"),a=i.objectStore(vo),e.next=8,a.put(n,_o(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ki?qa.warn(e.t0.message):(o=to.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),qa.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),wo.apply(this,arguments)}function _o(e){return"".concat(e.name,"!").concat(e.options.appId)}var xo=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Co(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=So(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=So(),r=Eo(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=Ri(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function So(){return(new Date).toISOString().substring(0,10)}function Eo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=I(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Oo(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Oo(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var To,Io,Co=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,go(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ko(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ko(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Oo(e){return Ri(JSON.stringify({version:2,heartbeats:e})).length}To="",Ya(new oa("platform-logger",(function(e){return new Va(e)}),"PRIVATE")),Ya(new oa("heartbeat",(function(e){return new xo(e)}),"PRIVATE")),co(za,Ba,To),co(za,Ba,"esm2017"),co("fire-js","");var Po=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Qa(t,new oa("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),uo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wa;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wa;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Qa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$a(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ao=(ci(Io={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ci(Io,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Io),Ro=new Gi("app-compat","Firebase",Ao);var No=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=io(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if($i(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:co,setLogLevel:fo,onLog:lo,apps:null,SDK_VERSION:ro,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ya(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ro.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Di(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!$i(n,e=e||Wa))throw Ro.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Po);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Di(n,e)},createSubscribe:na,ErrorFactory:Gi,deepExtend:Di}),n}(),Do=new ga("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Do.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Lo=self.firebase.SDK_VERSION;Lo&&Lo.indexOf("LITE")>=0&&Do.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Mo=No;!function(e){co("@firebase/app-compat","0.2.24",e)}();function jo(){return jo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jo.apply(this,arguments)}Mo.registerVersion("firebase","10.7.0","app-compat");var Fo,Uo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vo={},zo=zo||{},Bo=Uo||self;function qo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Wo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ho="closure_uid_"+(1e9*Math.random()>>>0),Ko=0;function Go(e,t,n){return e.call.apply(e.bind,arguments)}function Qo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function $o(e,t,n){return($o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Go:Qo).apply(null,arguments)}function Yo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Jo(){this.s=this.s,this.o=this.o}Jo.prototype.s=!1,Jo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ho)&&e[Ho]||(e[Ho]=++Ko)}(this)},Jo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function eu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function tu(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(qo(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function nu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}nu.prototype.h=function(){this.defaultPrevented=!0};var ru=function(){if(!Bo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};Bo.addEventListener("test",n,t),Bo.removeEventListener("test",n,t)}catch(n){}return e}();function iu(e){return/^[\s\xa0]*$/.test(e)}function au(){var e=Bo.navigator;return e&&(e=e.userAgent)?e:""}function ou(e){return-1!=au().indexOf(e)}function uu(e){return uu[" "](e),e}uu[" "]=function(){};var su,cu,lu=ou("Opera"),fu=ou("Trident")||ou("MSIE"),hu=ou("Edge"),du=hu||fu,pu=ou("Gecko")&&!(-1!=au().toLowerCase().indexOf("webkit")&&!ou("Edge"))&&!(ou("Trident")||ou("MSIE"))&&!ou("Edge"),vu=-1!=au().toLowerCase().indexOf("webkit")&&!ou("Edge");function yu(){var e=Bo.document;return e?e.documentMode:void 0}e:{var mu="",gu=function(){var e=au();return pu?/rv:([^\);]+)(\)|;)/.exec(e):hu?/Edge\/([\d\.]+)/.exec(e):fu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vu?/WebKit\/(\S+)/.exec(e):lu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gu&&(mu=gu?gu[1]:""),fu){var bu=yu();if(null!=bu&&bu>parseFloat(mu)){su=String(bu);break e}}su=mu}if(Bo.document&&fu){var ku=yu();cu=ku||(parseInt(su,10)||void 0)}else cu=void 0;var wu=cu;function _u(e,t){if(nu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pu){e:{try{uu(t.nodeName);var i=!0;break e}catch(rn){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_u.$.h.call(this)}}Xo(_u,nu);var xu={2:"touch",3:"pen",4:"mouse"};_u.prototype.h=function(){_u.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),Eu=0;function Tu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Eu,this.fa=this.ia=!1}function Iu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Cu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ou(e){var t={};for(var n in e)t[n]=e[n];return t}var Pu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Au(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Pu.length;a++)n=Pu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ru(e){this.src=e,this.g={},this.h=0}function Nu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Zo(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Iu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Du(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ru.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Du(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Tu(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Lu="closure_lm_"+(1e6*Math.random()|0),Mu={};function ju(e,t,n,r,i){if(r&&r.once)return Uu(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ju(e,t[a],n,r,i);return null}return n=Ku(n),e&&e[Su]?e.O(t,n,Wo(r)?!!r.capture:!!r,i):Fu(e,t,n,!1,r,i)}function Fu(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Wo(i)?!!i.capture:!!i,u=Wu(e);if(u||(e[Lu]=u=new Ru(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ru||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Bu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Uu(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Uu(e,t[a],n,r,i);return null}return n=Ku(n),e&&e[Su]?e.P(t,n,Wo(r)?!!r.capture:!!r,i):Fu(e,t,n,!0,r,i)}function Vu(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vu(e,t[a],n,r,i);else r=Wo(r)?!!r.capture:!!r,n=Ku(n),e&&e[Su]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Du(a=e.g[t],n,r,i))&&(Iu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Du(t,n,r,i)),(n=-1<e?t[e]:null)&&zu(n))}function zu(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Su])Nu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Bu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wu(t))?(Nu(n,e),0==n.h&&(n.src=null,t[Lu]=null)):Iu(e)}}}function Bu(e){return e in Mu?Mu[e]:Mu[e]="on"+e}function qu(e,t){if(e.fa)e=!0;else{t=new _u(t,this);var n=e.listener,r=e.la||e.src;e.ia&&zu(e),e=n.call(r,t)}return e}function Wu(e){return(e=e[Lu])instanceof Ru?e:null}var Hu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(e){return"function"===typeof e?e:(e[Hu]||(e[Hu]=function(t){return e.handleEvent(t)}),e[Hu])}function Gu(){Jo.call(this),this.i=new Ru(this),this.S=this,this.J=null}function Qu(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new nu(t,e);else if(t instanceof nu)t.target=t.target||e;else{var i=t;Au(t=new nu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$u(o,r,!0,t)&&i}if(i=$u(o=t.g=e,r,!0,t)&&i,i=$u(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$u(o=t.g=n[a],r,!1,t)&&i}function $u(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Nu(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Xo(Gu,Jo),Gu.prototype[Su]=!0,Gu.prototype.removeEventListener=function(e,t,n,r){Vu(this,e,t,n,r)},Gu.prototype.N=function(){if(Gu.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Iu(n[r]);delete t.g[e],t.h--}}this.J=null},Gu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gu.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yu=Bo.JSON.stringify,Xu=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Ju(){var e=os,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zu=function(){function e(){d(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=es.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),es=new Xu((function(){return new ts}),(function(e){return e.reset()})),ts=function(){function e(){d(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ns(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function rs(e){Bo.setTimeout((function(){throw e}),0)}var is,as=!1,os=new Zu,us=function(){var e=Bo.Promise.resolve(void 0);is=function(){e.then(ss)}},ss=function(){for(var e;e=Ju();){try{e.h.call(e.g)}catch(n){rs(n)}var t=es;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}as=!1};function cs(e,t){Gu.call(this),this.h=e||1,this.g=t||Bo,this.j=$o(this.qb,this),this.l=Date.now()}function ls(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function fs(e,t,n){if("function"===typeof e)n&&(e=$o(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=$o(e.handleEvent,e)}return 2147483647<Number(t)?-1:Bo.setTimeout(e,t||0)}function hs(e){e.g=fs((function(){e.g=null,e.i&&(e.i=!1,hs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Xo(cs,Gu),(Fo=cs.prototype).ga=!1,Fo.T=null,Fo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qu(this,"tick"),this.ga&&(ls(this),this.start()))}},Fo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fo.N=function(){cs.$.N.call(this),ls(this),delete this.g};var ds=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:hs(this)}},{key:"N",value:function(){jo(k(n.prototype),"N",this).call(this),this.g&&(Bo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Jo);function ps(e){Jo.call(this),this.h=e,this.g={}}Xo(ps,Jo);var vs=[];function ys(e,t,n,r){Array.isArray(n)||(n&&(vs[0]=n.toString()),n=vs);for(var i=0;i<n.length;i++){var a=ju(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ms(e){Cu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&zu(e)}),e),e.g={}}function gs(){this.g=!0}function bs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Yu(n)}catch(nD){return t}}(e,n)+(r?" "+r:"")}))}ps.prototype.N=function(){ps.$.N.call(this),ms(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gs.prototype.Ea=function(){this.g=!1},gs.prototype.info=function(){};var ks={},ws=null;function _s(){return ws=ws||new Gu}function xs(e){nu.call(this,ks.Ta,e)}function Ss(e){var t=_s();Qu(t,new xs(t))}function Es(e,t){nu.call(this,ks.STAT_EVENT,e),this.stat=t}function Ts(e){var t=_s();Qu(t,new Es(t,e))}function Is(e,t){nu.call(this,ks.Ua,e),this.size=t}function Cs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Bo.setTimeout((function(){e()}),t)}ks.Ta="serverreachability",Xo(xs,nu),ks.STAT_EVENT="statevent",Xo(Es,nu),ks.Ua="timingevent",Xo(Is,nu);var Os={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ps={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function As(){}function Rs(e){return e.h||(e.h=e.i())}function Ns(){}As.prototype.h=null;var Ds,Ls={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ms(){nu.call(this,"d")}function js(){nu.call(this,"c")}function Fs(){}function Us(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ps(this),this.P=zs,e=du?125:void 0,this.V=new cs(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}Xo(Ms,nu),Xo(js,nu),Xo(Fs,As),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},Ds=new Fs;var zs=45e3,Bs={},qs={};function Ws(e,t,n){e.L=1,e.A=cc(ic(t)),e.u=n,e.S=!0,Hs(e,null)}function Hs(e,t){e.G=Date.now(),$s(e),e.B=ic(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),_c(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Vs,e.g=_l(e.l,n?t:null,!e.u),0<e.O&&(e.M=new ds($o(e.Pa,e,e.g),e.O)),ys(e.U,e.g,"readystatechange",e.nb),t=e.I?Ou(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ss(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Ks(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Gs(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=Qs(e,n))==qs){4==t&&(e.s=4,Ts(14),i=!1),bs(e.j,e.m,null,"[Incomplete Response]");break}if(r==Bs){e.s=4,Ts(15),bs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bs(e.j,e.m,r,null),ec(e,r)}Ks(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Ts(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),pl(t),t.M=!0,Ts(11))):(bs(e.j,e.m,n,"[Invalid Chunked Response]"),Zs(e),Js(e))}function Qs(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?qs:(n=Number(t.substring(n,r)),isNaN(n)?Bs:(r+=1)+n>t.length?qs:(t=t.slice(r,r+n),e.o=r+n,t))}function $s(e){e.Y=Date.now()+e.P,Ys(e,e.P)}function Ys(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Cs($o(e.lb,e),t)}function Xs(e){e.C&&(Bo.clearTimeout(e.C),e.C=null)}function Js(e){0==e.l.H||e.J||ml(e.l,e)}function Zs(e){Xs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ls(e.V),ms(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ec(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Oc(n.i,e)))if(!e.K&&Oc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;yl(n),ol(n)}dl(n),Ts(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Cs($o(n.ib,n),6e3));if(1>=Cc(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else bl(n,11)}else if((e.K||n.g==e)&&yl(n),!iu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Pc(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,sc(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=wl(r,r.J?r.pa:null,r.Y),d.K){Ac(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.C&&(Xs(p),$s(p)),r.g=d}else hl(r);0<n.j.length&&sl(n)}else"stop"!=a[0]&&"close"!=a[0]||bl(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?bl(n,7):al(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ss()}catch(a){}}function tc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(qo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(qo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(qo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Fo=Us.prototype).setTimeout=function(e){this.P=e},Fo.nb=function(e){e=e.target;var t=this.M;t&&3==Zc(e)?t.l():this.Pa(e)},Fo.Pa=function(e){try{if(e==this.g)e:{var t=Zc(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||du||this.g&&(this.h.h||this.g.ja()||el(this.g)))){this.J||4!=t||7==n||Ss(),Xs(this);var r=this.g.da();this.ca=r;t:if(Ks(this)){var i=el(this.g);e="";var a=i.length,o=4==Zc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Zs(this),Js(this);var u="";break t}this.h.i=new Bo.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iu(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.s=3,Ts(12),Zs(this),Js(this);break e}bs(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ec(this,r)}this.S?(Gs(this,t,u),du&&this.i&&3==t&&(ys(this.U,this.V,"tick",this.mb),this.V.start())):(bs(this.j,this.m,u,null),ec(this,u)),4==t&&Zs(this),this.i&&!this.J&&(4==t?ml(this.l,this):(this.i=!1,$s(this)))}else(function(e){var t={};e=(e.g&&2<=Zc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!iu(e[n])){var r=ns(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.s=3,Ts(12)):(this.s=0,Ts(13)),Zs(this),Js(this)}}}catch(t){}},Fo.mb=function(){if(this.g){var e=Zc(this.g),t=this.g.ja();this.o<t.length&&(Xs(this),Gs(this,e,t),this.i&&4!=e&&$s(this))}},Fo.cancel=function(){this.J=!0,Zs(this)},Fo.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Ss(),Ts(17)),Zs(this),this.s=2,Js(this)):Ys(this,this.Y-e)};var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof rc){this.h=e.h,ac(this,e.j),this.s=e.s,this.g=e.g,oc(this,e.m),this.l=e.l;var t=e.i,n=new gc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),uc(this,n),this.o=e.o}else e&&(t=String(e).match(nc))?(this.h=!1,ac(this,t[1]||"",!0),this.s=lc(t[2]||""),this.g=lc(t[3]||"",!0),oc(this,t[4]),this.l=lc(t[5]||"",!0),uc(this,t[6]||"",!0),this.o=lc(t[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}function ic(e){return new rc(e)}function ac(e,t,n){e.j=n?lc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function oc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function uc(e,t,n){t instanceof gc?(e.i=t,function(e,t){t&&!e.j&&(bc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kc(this,t),_c(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=fc(t,yc)),e.i=new gc(t,e.h))}function sc(e,t,n){e.i.set(t,n)}function cc(e){return sc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,hc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fc(t,dc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fc(t,dc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(fc(n,"/"==n.charAt(0)?vc:pc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fc(n,mc)),e.join("")};var dc=/[#\/\?@]/g,pc=/[#\?:]/g,vc=/[#\?]/g,yc=/[#\?@]/g,mc=/#/g;function gc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kc(e,t){bc(e),t=xc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wc(e,t){return bc(e),t=xc(e,t),e.g.has(t)}function _c(e,t,n){kc(e,t),0<n.length&&(e.i=null,e.g.set(xc(e,t),eu(n)),e.h+=n.length)}function xc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Fo=gc.prototype).add=function(e,t){bc(this),this.i=null,e=xc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Fo.forEach=function(e,t){bc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Fo.ta=function(){bc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Fo.Z=function(e){bc(this);var t=[];if("string"===typeof e)wc(this,e)&&(t=t.concat(this.g.get(xc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Fo.set=function(e,t){return bc(this),this.i=null,wc(this,e=xc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Fo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Fo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Sc=m((function e(t,n){d(this,e),this.g=t,this.map=n}));function Ec(e){this.l=e||Tc,Bo.PerformanceNavigationTiming?e=0<(e=Bo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Bo.g&&Bo.g.Ka&&Bo.g.Ka()&&Bo.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tc=10;function Ic(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cc(e){return e.h?1:e.g?e.g.size:0}function Oc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pc(e,t){e.g?e.g.add(t):e.h=t}function Ac(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return eu(e.i)}Ec.prototype.cancel=function(){if(this.i=Rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Nc=function(){function e(){d(this,e)}return m(e,[{key:"stringify",value:function(e){return Bo.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Bo.JSON.parse(e,void 0)}}]),e}();function Dc(){this.g=new Nc}function Lc(e,t,n){var r=n||"";try{tc(e,(function(e,n){var i=e;Wo(e)&&(i=Yu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(rn){}}function jc(e){this.l=e.ec||null,this.j=e.ob||!1}function Fc(e,t){Gu.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Uc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xo(jc,As),jc.prototype.g=function(){return new Fc(this.l,this.j)},jc.prototype.i=function(e){return function(){return e}}({}),Xo(Fc,Gu);var Uc=0;function Vc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function zc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bc(e)}function Bc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Fo=Fc.prototype).open=function(e,t){if(this.readyState!=Uc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bc(this)},Fo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Bo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Fo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zc(this)),this.readyState=Uc},Fo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bc(this)),this.g&&(this.readyState=3,Bc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Bo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Fo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zc(this):Bc(this),3==this.readyState&&Vc(this)}},Fo.Za=function(e){this.g&&(this.response=this.responseText=e,zc(this))},Fo.Ya=function(e){this.g&&(this.response=e,zc(this))},Fo.ka=function(){this.g&&zc(this)},Fo.setRequestHeader=function(e,t){this.v.append(e,t)},Fo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Fo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qc=Bo.JSON.parse;function Wc(e){Gu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hc,this.L=this.M=!1}Xo(Wc,Gu);var Hc="",Kc=/^https?$/i,Gc=["POST","PUT"];function Qc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$c(e),Xc(e)}function $c(e){e.F||(e.F=!0,Qu(e,"complete"),Qu(e,"error"))}function Yc(e){if(e.h&&"undefined"!=typeof zo&&(!e.C[1]||4!=Zc(e)||2!=e.da()))if(e.v&&4==Zc(e))fs(e.La,0,e);else if(Qu(e,"readystatechange"),4==Zc(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(nc)[1]||null;!a&&Bo.self&&Bo.self.location&&(a=Bo.self.location.protocol.slice(0,-1)),i=!Kc.test(a?a.toLowerCase():"")}t=i}if(t)Qu(e,"complete"),Qu(e,"success");else{e.m=6;try{var o=2<Zc(e)?e.g.statusText:""}catch(nD){o=""}e.j=o+" ["+e.da()+"]",$c(e)}}finally{Xc(e)}}}function Xc(e,t){if(e.g){Jc(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Qu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Jc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Bo.clearTimeout(e.A),e.A=null)}function Zc(e){return e.g?e.g.readyState:0}function el(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function tl(e){var t="";return Cu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function nl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sc(e,t,n))}function rl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function il(e){this.Ga=0,this.j=[],this.l=new gs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rl("baseRetryDelayMs",5e3,e),this.hb=rl("retryDelaySeedMs",1e4,e),this.eb=rl("forwardChannelMaxRetries",2,e),this.xa=rl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ec(e&&e.concurrentRequestLimit),this.Ja=new Dc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function al(e){if(ul(e),3==e.H){var t=e.W++,n=ic(e.I);if(sc(n,"SID",e.K),sc(n,"RID",t),sc(n,"TYPE","terminate"),ll(e,n),(t=new Us(e,e.l,t)).L=2,t.A=cc(ic(n)),n=!1,Bo.navigator&&Bo.navigator.sendBeacon)try{n=Bo.navigator.sendBeacon(t.A.toString(),"")}catch(vD){}!n&&Bo.Image&&((new Image).src=t.A,n=!0),n||(t.g=_l(t.l,null),t.g.ha(t.A)),t.G=Date.now(),$s(t)}kl(e)}function ol(e){e.g&&(pl(e),e.g.cancel(),e.g=null)}function ul(e){ol(e),e.u&&(Bo.clearTimeout(e.u),e.u=null),yl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Bo.clearTimeout(e.m),e.m=null)}function sl(e){if(!Ic(e.i)&&!e.m){e.m=!0;var t=e.Na;is||us(),as||(is(),as=!0),os.add(t,e),e.C=0}}function cl(e,t){var n;n=t?t.m:e.W++;var r=ic(e.I);sc(r,"SID",e.K),sc(r,"RID",n),sc(r,"AID",e.V),ll(e,r),e.o&&e.s&&nl(r,e.o,e.s),n=new Us(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=fl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Pc(e.i,n),Ws(n,r,t)}function ll(e,t){e.na&&Cu(e.na,(function(e,n){sc(t,n,e)})),e.h&&tc({},(function(e,n){sc(t,n,e)}))}function fl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?$o(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Lc(l,o,"req"+c+"_")}catch(Tn){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function hl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;is||us(),as||(is(),as=!0),os.add(t,e),e.A=0}}function dl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Cs($o(e.Ma,e),gl(e,e.A)),e.A++,!0)}function pl(e){null!=e.B&&(Bo.clearTimeout(e.B),e.B=null)}function vl(e){e.g=new Us(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ic(e.wa);sc(t,"RID","rpc"),sc(t,"SID",e.K),sc(t,"AID",e.V),sc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&sc(t,"TO",e.qa),sc(t,"TYPE","xmlhttp"),ll(e,t),e.o&&e.s&&nl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=cc(ic(t)),n.u=null,n.S=!0,Hs(n,e)}function yl(e){null!=e.v&&(Bo.clearTimeout(e.v),e.v=null)}function ml(e,t){var n=null;if(e.g==t){yl(e),pl(e),e.g=null;var r=2}else{if(!Oc(e.i,t))return;n=t.F,Ac(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Qu(r=_s(),new Is(r,n)),sl(e)}else hl(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Cc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Cs($o(e.Na,e,t),gl(e,e.C)),e.C++,!0))}(e,t)||2==r&&dl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:bl(e,5);break;case 4:bl(e,10);break;case 3:bl(e,6);break;default:bl(e,2)}}function gl(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function bl(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=$o(e.pb,e);n||(n=new rc("//www.google.com/images/cleardot.gif"),Bo.location&&"http"==Bo.location.protocol||ac(n,"https"),cc(n)),function(e,t){var n=new gs;if(Bo.Image){var r=new Image;r.onload=Yo(Mc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yo(Mc,n,r,"TestLoadImage: error",!1,t),r.onabort=Yo(Mc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yo(Mc,n,r,"TestLoadImage: timeout",!1,t),Bo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ts(2);e.H=0,e.h&&e.h.za(t),kl(e),ul(e)}function kl(e){if(e.H=0,e.ma=[],e.h){var t=Rc(e.i);0==t.length&&0==e.j.length||(tu(e.ma,t),tu(e.ma,e.j),e.i.i.length=0,eu(e.j),e.j.length=0),e.h.ya()}}function wl(e,t,n){var r=n instanceof rc?ic(n):new rc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),oc(r,r.m);else{var i=Bo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new rc(null);r&&ac(a,r),t&&(a.g=t),i&&oc(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&sc(r,n,t),sc(r,"VER",e.ra),ll(e,r),r}function _l(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Wc(new jc({ob:n})):new Wc(e.va)).Oa(e.J),t}function xl(){}function Sl(){if(fu&&!(10<=Number(wu)))throw Error("Environmental error: no available transport.")}function El(e,t){Gu.call(this),this.g=new il(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!iu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!iu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cl(this)}function Tl(e){Ms.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Il(){js.call(this),this.status=1}function Cl(e){this.g=e}function Ol(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Pl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Al(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Fo=Wc.prototype).Oa=function(e){this.M=e},Fo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ds.g(),this.C=this.u?Rs(this.u):Rs(Ds),this.g.onreadystatechange=$o(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Qc(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=I(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Bo.FormData&&e instanceof Bo.FormData,!(0<=Zo(Gc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=I(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jc(this),0<this.B&&((this.L=function(e){return fu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$o(this.ua,this)):this.A=fs(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Qc(this,u)}},Fo.ua=function(){"undefined"!=typeof zo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qu(this,"timeout"),this.abort(8))},Fo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qu(this,"complete"),Qu(this,"abort"),Xc(this))},Fo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xc(this,!0)),Wc.$.N.call(this)},Fo.La=function(){this.s||(this.G||this.v||this.l?Yc(this):this.kb())},Fo.kb=function(){Yc(this)},Fo.isActive=function(){return!!this.g},Fo.da=function(){try{return 2<Zc(this)?this.g.status:-1}catch(sD){return-1}},Fo.ja=function(){try{return this.g?this.g.responseText:""}catch(sD){return""}},Fo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qc(t)}},Fo.Ia=function(){return this.m},Fo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Fo=il.prototype).ra=8,Fo.H=1,Fo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Us(this,this.l,e),n=this.s;if(this.U&&(n?Au(n=Ou(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=fl(this,t,r),sc(i=ic(this.I),"RID",e),sc(i,"CVER",22),this.F&&sc(i,"X-HTTP-Session-Id",this.F),ll(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(tl(n)))+"&"+r:this.o&&nl(i,this.o,n)),Pc(this.i,t),this.bb&&sc(i,"TYPE","init"),this.P?(sc(i,"$req",r),sc(i,"SID","null"),t.aa=!0,Ws(t,i,null)):Ws(t,i,r),this.H=2}}else 3==this.H&&(e?cl(this,e):0==this.j.length||Ic(this.i)||cl(this))},Fo.Ma=function(){if(this.u=null,vl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Cs($o(this.jb,this),e)}},Fo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ts(10),ol(this),vl(this))},Fo.ib=function(){null!=this.v&&(this.v=null,ol(this),dl(this),Ts(19))},Fo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ts(2)):(this.l.info("Failed to ping google.com"),Ts(1))},Fo.isActive=function(){return!!this.h&&this.h.isActive(this)},(Fo=xl.prototype).Ba=function(){},Fo.Aa=function(){},Fo.za=function(){},Fo.ya=function(){},Fo.isActive=function(){return!0},Fo.Va=function(){},Sl.prototype.g=function(e,t){return new El(e,t)},Xo(El,Gu),El.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ts(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=wl(e,null,e.Y),sl(e)},El.prototype.close=function(){al(this.g)},El.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yu(e),e=n);t.j.push(new Sc(t.fb++,e)),3==t.H&&sl(t)},El.prototype.N=function(){this.g.h=null,delete this.j,al(this.g),delete this.g,El.$.N.call(this)},Xo(Tl,Ms),Xo(Il,js),Xo(Cl,xl),Cl.prototype.Ba=function(){Qu(this.g,"a")},Cl.prototype.Aa=function(e){Qu(this.g,new Tl(e))},Cl.prototype.za=function(e){Qu(this.g,new Il)},Cl.prototype.ya=function(){Qu(this.g,"b")},Xo(Ol,(function(){this.blockSize=-1})),Ol.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ol.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Pl(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Pl(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Pl(this,r),i=0;break}}this.h=i,this.i+=t},Ol.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Rl={};function Nl(e){return-128<=e&&128>e?function(e,t){var n=Rl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Al([0|e],0>e?-1:0)})):new Al([0|e],0>e?-1:0)}function Dl(e){if(isNaN(e)||!isFinite(e))return Ml;if(0>e)return zl(Dl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ll;return new Al(t,0)}var Ll=4294967296,Ml=Nl(0),jl=Nl(1),Fl=Nl(16777216);function Ul(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Vl(e){return-1==e.h}function zl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Al(n,~e.h).add(jl)}function Bl(e,t){return e.add(zl(t))}function ql(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Wl(e,t){this.g=e,this.h=t}function Hl(e,t){if(Ul(t))throw Error("division by zero");if(Ul(e))return new Wl(Ml,Ml);if(Vl(e))return t=Hl(zl(e),t),new Wl(zl(t.g),zl(t.h));if(Vl(t))return t=Hl(e,zl(t)),new Wl(zl(t.g),t.h);if(30<e.g.length){if(Vl(e)||Vl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=jl,r=t;0>=r.X(e);)n=Kl(n),r=Kl(r);var i=Gl(n,1),a=Gl(r,1);for(r=Gl(r,2),n=Gl(n,2);!Ul(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Gl(r,1),n=Gl(n,1)}return t=Bl(e,i.R(t)),new Wl(i,t)}for(i=Ml;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Dl(n)).R(t);Vl(o)||0<o.X(e);)o=(a=Dl(n-=r)).R(t);Ul(a)&&(a=jl),i=i.add(a),e=Bl(e,o)}return new Wl(i,e)}function Kl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Al(n,e.h)}function Gl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Al(i,e.h)}(Fo=Al.prototype).ea=function(){if(Vl(this))return-zl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ll+r)*t,t*=Ll}return e},Fo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ul(this))return"0";if(Vl(this))return"-"+zl(this).toString(e);for(var t=Dl(Math.pow(e,6)),n=this,r="";;){var i=Hl(n,t).g,a=((0<(n=Bl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ul(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Fo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Fo.X=function(e){return Vl(e=Bl(this,e))?-1:Ul(e)?0:1},Fo.abs=function(){return Vl(this)?zl(this):this},Fo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Al(n,-2147483648&n[n.length-1]?-1:0)},Fo.R=function(e){if(Ul(this)||Ul(e))return Ml;if(Vl(this))return Vl(e)?zl(this).R(zl(e)):zl(zl(this).R(e));if(Vl(e))return zl(this.R(zl(e)));if(0>this.X(Fl)&&0>e.X(Fl))return Dl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,ql(n,2*r+2*i),n[2*r+2*i+1]+=a*s,ql(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,ql(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,ql(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Al(n,0)},Fo.gb=function(e){return Hl(this,e).h},Fo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Al(n,this.h&e.h)},Fo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Al(n,this.h|e.h)},Fo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Al(n,this.h^e.h)},Sl.prototype.createWebChannel=Sl.prototype.g,El.prototype.send=El.prototype.u,El.prototype.open=El.prototype.m,El.prototype.close=El.prototype.close,Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Ps.COMPLETE="complete",Ns.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",Gu.prototype.listen=Gu.prototype.O,Wc.prototype.listenOnce=Wc.prototype.P,Wc.prototype.getLastError=Wc.prototype.Sa,Wc.prototype.getLastErrorCode=Wc.prototype.Ia,Wc.prototype.getStatus=Wc.prototype.da,Wc.prototype.getResponseJson=Wc.prototype.Wa,Wc.prototype.getResponseText=Wc.prototype.ja,Wc.prototype.send=Wc.prototype.ha,Wc.prototype.setWithCredentials=Wc.prototype.Oa,Ol.prototype.digest=Ol.prototype.l,Ol.prototype.reset=Ol.prototype.reset,Ol.prototype.update=Ol.prototype.j,Al.prototype.add=Al.prototype.add,Al.prototype.multiply=Al.prototype.R,Al.prototype.modulo=Al.prototype.gb,Al.prototype.compare=Al.prototype.X,Al.prototype.toNumber=Al.prototype.ea,Al.prototype.toString=Al.prototype.toString,Al.prototype.getBits=Al.prototype.D,Al.fromNumber=Dl,Al.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return zl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Dl(Math.pow(n,8)),i=Ml,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Dl(Math.pow(n,o)),i=i.R(o).add(Dl(u))):i=(i=i.R(r)).add(Dl(u))}return i};var Ql=Vo.createWebChannelTransport=function(){return new Sl},$l=Vo.getStatEventTarget=function(){return _s()},Yl=Vo.ErrorCode=Os,Xl=Vo.EventType=Ps,Jl=Vo.Event=ks,Zl=Vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ef=(Vo.FetchXmlHttpFactory=jc,Vo.WebChannel=Ns),tf=Vo.XhrIo=Wc,nf=Vo.Md5=Ol,rf=Vo.Integer=Al,af="@firebase/firestore",of=function(){function e(t){d(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();of.UNAUTHENTICATED=new of(null),of.GOOGLE_CREDENTIALS=new of("google-credentials-uid"),of.FIRST_PARTY=new of("first-party-uid"),of.MOCK_USER=new of("mock-user");var uf="10.7.0",sf=new ga("@firebase/firestore");function cf(){return sf.logLevel}function lf(e){if(sf.logLevel<=fa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(df);sf.debug.apply(sf,["Firestore (".concat(uf,"): ").concat(e)].concat(h(i)))}}function ff(e){if(sf.logLevel<=fa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(df);sf.error.apply(sf,["Firestore (".concat(uf,"): ").concat(e)].concat(h(i)))}}function hf(e){if(sf.logLevel<=fa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(df);sf.warn.apply(sf,["Firestore (".concat(uf,"): ").concat(e)].concat(h(i)))}}function df(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function pf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(uf,") INTERNAL ASSERTION FAILED: ")+e;throw ff(t),new Error(t)}function vf(e,t){e||pf()}function yf(e,t){return e}var mf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gf=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(Ki),bf=m((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),kf=m((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),wf=function(){function e(){d(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(of.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_f=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),xf=function(){function e(t){d(this,e),this.t=t,this.currentUser=of.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new bf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new bf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){lf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(lf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(lf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(vf("string"==typeof n.accessToken),new kf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return vf(null===e||"string"==typeof e),new of(e)}}]),e}(),Sf=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=of.FIRST_PARTY,this.I=new Map}return m(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Ef=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new Sf(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(of.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tf=m((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),If=function(){function e(t){d(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&lf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,lf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){lf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):lf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(vf("string"==typeof t.token),e.R=t.token,new Tf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Cf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Of=function(){function e(){d(this,e)}return m(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Cf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Pf(e,t){return e<t?-1:e>t?1:0}function Af(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Rf(e){return e+"\0"}var Nf=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new gf(mf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gf(mf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new gf(mf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gf(mf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pf(this.nanoseconds,e.nanoseconds):Pf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Df=function(){function e(t){d(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Nf(0,0))}},{key:"max",value:function(){return new e(new Nf(253402300799,999999999))}}]),e}(),Lf=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&pf(),void 0===r?r=t.length-n:r>t.length-n&&pf(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mf=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new gf(mf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lf),jf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ff=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return jf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new gf(mf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new gf(mf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new gf(mf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new gf(mf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lf),Uf=function(){function e(t){d(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Mf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mf.fromString(t))}},{key:"fromName",value:function(t){return new e(Mf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Mf.emptyPath())}},{key:"comparator",value:function(e,t){return Mf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mf(t.slice()))}}]),e}(),Vf=m((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function zf(e){return e.fields.find((function(e){return 2===e.kind}))}function Bf(e){return e.fields.filter((function(e){return 2!==e.kind}))}Vf.UNKNOWN_ID=-1;var qf=m((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Wf=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,Gf.min())}}]),e}();function Hf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Df.fromTimestamp(1e9===r?new Nf(n+1,0):new Nf(n,r));return new Gf(i,Uf.empty(),t)}function Kf(e){return new Gf(e.readTime,e.key,-1)}var Gf=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(Df.min(),Uf.empty(),-1)}},{key:"max",value:function(){return new e(Df.max(),Uf.empty(),-1)}}]),e}();function Qf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Uf.comparator(e.documentKey,t.documentKey))?n:Pf(e.largestBatchId,t.largestBatchId)}var $f="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yf=function(){function e(){d(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Xf(e){return Jf.apply(this,arguments)}function Jf(){return(Jf=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===mf.FAILED_PRECONDITION&&t.message===$f){e.next=2;break}throw t;case 2:lf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zf=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&pf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),eh=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new bf,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new rh(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=sh(e.target.error);r.V.reject(new rh(t,n))}}return m(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(lf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ah(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new rh(n,t)}}}]),e}(),th=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(Vi())&&ff("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"O",value:function(){var e=ri(ti().mark((function e(t){var n=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return lf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new rh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new gf(mf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new gf(mf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new rh(t,n))},i.onupgradeneeded=function(e){lf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){lf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ri(ti().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=ti().mark((function e(){var n,u,s,l;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=eh.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),Zf.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.m;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,lf("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return lf("SimpleDb","Removing database:",e),oh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Hi())return!1;if(e.C())return!0;var t=Vi(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),nh=function(){function e(t){d(this,e),this.k=t,this.q=!1,this.K=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return oh(this.k.delete())}}]),e}(),rh=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,mf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(gf);function ih(e){return"IndexedDbTransactionError"===e.name}var ah=function(){function e(t){d(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(lf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(lf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),oh(n)}},{key:"add",value:function(e){return lf("SimpleDb","ADD",this.store.name,e,e),oh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return oh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),lf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return lf("SimpleDb","DELETE",this.store.name,e),oh(this.store.delete(e))}},{key:"count",value:function(){return lf("SimpleDb","COUNT",this.store.name),oh(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Zf((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Zf((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){lf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Zf((function(n,r){t.onerror=function(e){var t=sh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Zf((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new nh(i),o=t(i.primaryKey,i.value,a);if(o instanceof Zf){var u=o.catch((function(e){return a.done(),Zf.reject(e)}));n.push(u)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return Zf.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function oh(e){return new Zf((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=sh(e.target.error);n(t)}}))}var uh=!1;function sh(e){var t=th.S(Vi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new gf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return uh||(uh=!0,setTimeout((function(){throw r}),0)),r}}return e}var ch=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.X=n,this.task=null}return m(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;lf("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=lf,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ih(e.t4)){e.next=17;break}lf("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Xf(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),lh=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"te",value:function(){var e=ri(ti().mark((function e(){var t,n=this,r=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Zf.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return lf("IndexBackiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return lf("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Kf(t);Qf(r,n)>0&&(n=r)})),new Gf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),fh=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function hh(e){return null==e}function dh(e){return 0===e&&1/e==-1/0}function ph(e){return"number"==typeof e&&Number.isInteger(e)&&!dh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function vh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mh(t)),t=yh(e.get(n),t);return mh(t)}function yh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function mh(e){return e+"\x01\x01"}function gh(e){var t=e.length;if(vf(t>=2),2===t)return vf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&pf(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:pf()}a=o+2}return new Mf(r)}fh._e=-1;var bh=["userId","batchId"];function kh(e,t){return[e,vh(t)]}function wh(e,t,n){return[e,vh(t),n]}var _h={},xh=["prefixPath","collectionGroup","readTime","documentId"],Sh=["prefixPath","collectionGroup","documentId"],Eh=["collectionGroup","readTime","prefixPath","documentId"],Th=["canonicalId","targetId"],Ih=["targetId","path"],Ch=["path","targetId"],Oh=["collectionId","parent"],Ph=["indexId","uid"],Ah=["uid","sequenceNumber"],Rh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nh=["indexId","uid","orderedDocumentKey"],Dh=["userId","collectionPath","documentId"],Lh=["userId","collectionPath","largestBatchId"],Mh=["userId","collectionGroup","largestBatchId"],jh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Fh=[].concat(h(jh),["documentOverlays"]),Uh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vh=Uh,zh=[].concat(Vh,["indexConfiguration","indexState","indexEntries"]),Bh=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return m(n)}(Yf);function qh(e,t){var n=yf(e);return th.M(n.ae,t)}function Wh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Kh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Gh=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||$h.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$h.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$h.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Qh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Qh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Qh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Qh(this.root,e,this.comparator,!0)}}]),e}(),Qh=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),$h=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw pf();if(this.right.isRed())throw pf();var e=this.left.check();if(e!==this.right.check())throw pf();return e+(this.isRed()?0:1)}}]),e}();$h.EMPTY=null,$h.RED=!0,$h.BLACK=!1,$h.EMPTY=new(function(){function e(){d(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw pf()}},{key:"value",get:function(){throw pf()}},{key:"color",get:function(){throw pf()}},{key:"left",get:function(){throw pf()}},{key:"right",get:function(){throw pf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new $h(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Yh=function(){function e(t){d(this,e),this.comparator=t,this.data=new Gh(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Xh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Xh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Xh=function(){function e(t){d(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Jh(e){return e.hasNext()?e.getNext():void 0}var Zh=function(){function e(t){d(this,e),this.fields=t,t.sort(Ff.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new Yh(Ff.comparator),i=I(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=I(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Af(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ed=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(E(Error));var td=function(e){function t(e){d(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ed("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();td.EMPTY_BYTE_STRING=new td("");var nd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rd(e){if(vf(!!e),"string"==typeof e){var t=0,n=nd.exec(e);if(vf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:id(e.seconds),nanos:id(e.nanos)}}function id(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ad(e){return"string"==typeof e?td.fromBase64String(e):td.fromUint8Array(e)}function od(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ud(e){var t=e.mapValue.fields.__previous_value__;return od(t)?ud(t):t}function sd(e){var t=rd(e.mapValue.fields.__local_write_time__.timestampValue);return new Nf(t.seconds,t.nanos)}var cd=m((function e(t,n,r,i,a,o,u,s,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),ld=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hd={nullValue:"NULL_VALUE"};function dd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?od(e)?4:Id(e)?9007199254740991:10:pf()}function pd(e,t){if(e===t)return!0;var n=dd(e);if(n!==dd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sd(e).isEqual(sd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rd(e.timestampValue),r=rd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ad(e.bytesValue).isEqual(ad(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return id(e.geoPointValue.latitude)===id(t.geoPointValue.latitude)&&id(e.geoPointValue.longitude)===id(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return id(e.integerValue)===id(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=id(e.doubleValue),r=id(t.doubleValue);return n===r?dh(n)===dh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Af(e.arrayValue.values||[],t.arrayValue.values||[],pd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wh(n)!==Wh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pd(n[i],r[i])))return!1;return!0}(e,t);default:return pf()}}function vd(e,t){return void 0!==(e.values||[]).find((function(e){return pd(e,t)}))}function yd(e,t){if(e===t)return 0;var n=dd(e),r=dd(t);if(n!==r)return Pf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=id(e.integerValue||e.doubleValue),r=id(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return md(e.timestampValue,t.timestampValue);case 4:return md(sd(e),sd(t));case 5:return Pf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ad(e),r=ad(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pf(n[i],r[i]);if(0!==a)return a}return Pf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pf(id(e.latitude),id(t.latitude));return 0!==n?n:Pf(id(e.longitude),id(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=yd(n[i],r[i]);if(a)return a}return Pf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===fd.mapValue&&t===fd.mapValue)return 0;if(e===fd.mapValue)return 1;if(t===fd.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Pf(r[o],a[o]);if(0!==u)return u;var s=yd(n[r[o]],i[a[o]]);if(0!==s)return s}return Pf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw pf()}}function md(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pf(e,t);var n=rd(e),r=rd(t),i=Pf(n.seconds,r.seconds);return 0!==i?i:Pf(n.nanos,r.nanos)}function gd(e){return bd(e)}function bd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ad(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Uf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=bd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(bd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):pf()}function kd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wd(e){return!!e&&"integerValue"in e}function _d(e){return!!e&&"arrayValue"in e}function xd(e){return!!e&&"nullValue"in e}function Sd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ed(e){return!!e&&"mapValue"in e}function Td(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Hh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Td(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Td(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Id(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cd(e){return"nullValue"in e?hd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?kd(ld.empty(),Uf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:pf()}function Od(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?kd(ld.empty(),Uf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?fd:pf()}function Pd(e,t){var n=yd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ad(e,t){var n=yd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Rd=function(){function e(t){d(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ed(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(t)}},{key:"setAll",value:function(e){var t=this,n=Ff.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Td(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return pd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ed(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Hh(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Td(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Nd(e){var t=[];return Hh(e.fields,(function(e,n){var r=new Ff([e]);if(Ed(n)){var i=Nd(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=I(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Zh(t)}var Dd=function(){function e(t,n,r,i,a,o,u){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Df.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Rd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Rd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Df.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Df.min(),Df.min(),Df.min(),Rd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Df.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Df.min(),Df.min(),Rd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Df.min(),Df.min(),Rd.empty(),2)}}]),e}(),Ld=m((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function Md(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Uf.comparator(Uf.fromName(o.referenceValue),n.key):yd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pd(e.position[n],t.position[n]))return!1;return!0}var Fd=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function Ud(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Vd=m((function e(){d(this,e)})),zd=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yd(t,this.value)):null!==t&&dd(this.value)===dd(t)&&this.matchesComparison(yd(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pf()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Xd(e,t,r):"array-contains"===t?new tp(e,r):"in"===t?new np(e,r):"not-in"===t?new rp(e,r):"array-contains-any"===t?new ip(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Jd(e,n):new Zd(e,n)}}]),n}(Vd),Bd=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return m(n,[{key:"matches",value:function(e){return qd(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Vd);function qd(e){return"and"===e.op}function Wd(e){return"or"===e.op}function Hd(e){return Kd(e)&&qd(e)}function Kd(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Bd)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Gd(e){if(e instanceof zd)return e.field.canonicalString()+e.op.toString()+gd(e.value);if(Hd(e))return e.filters.map((function(e){return Gd(e)})).join(",");var t=e.filters.map((function(e){return Gd(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Qd(e,t){return e instanceof zd?function(e,t){return t instanceof zd&&e.op===t.op&&e.field.isEqual(t.field)&&pd(e.value,t.value)}(e,t):e instanceof Bd?function(e,t){return t instanceof Bd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Qd(n,t.filters[r])}),!0)}(e,t):void pf()}function $d(e,t){var n=e.filters.concat(t);return Bd.create(n,e.op)}function Yd(e){return e instanceof zd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(gd(e.value))}(e):e instanceof Bd?function(e){return e.op.toString()+" {"+e.getFilters().map(Yd).join(" ,")+"}"}(e):"Filter"}var Xd=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Uf.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=Uf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(zd),Jd=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=ep("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zd),Zd=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=ep("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zd);function ep(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Uf.fromName(e.referenceValue)}))}var tp=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return _d(t)&&vd(t.arrayValue,this.value)}}]),n}(zd),np=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vd(this.value.arrayValue,t)}}]),n}(zd),rp=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vd(this.value.arrayValue,t)}}]),n}(zd),ip=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!_d(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vd(t.value.arrayValue,e)}))}}]),n}(zd),ap=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ce=null}));function op(e){return new ap(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function up(e){var t=yf(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Gd(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return gd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return gd(e)})).join(",")),t.ce=n}return t.ce}function sp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ud(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Qd(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jd(e.startAt,t.startAt)&&jd(e.endAt,t.endAt)}function cp(e){return Uf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function lp(e,t){return e.filters.filter((function(e){return e instanceof zd&&e.field.isEqual(t)}))}function fp(e,t,n){var r,i=hd,a=!0,o=I(lp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=hd,c=!0;switch(u.op){case"<":case"<=":s=Cd(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=hd}Pd({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Pd({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function hp(e,t,n){var r,i=fd,a=!0,o=I(lp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=fd,c=!0;switch(u.op){case">=":case">":s=Od(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=fd}Ad({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ad({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var dp=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function pp(e,t,n,r,i,a,o,u){return new dp(e,t,n,r,i,a,o,u)}function vp(e){return new dp(e)}function yp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function mp(e){return null!==e.collectionGroup}function gp(e){var t=yf(e);if(null===t.le){t.le=[];var n,r=new Set,i=I(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(s){i.e(s)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",u=function(e){var t=new Yh(Ff.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);u.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Fd(e,o))})),r.has(Ff.keyField().canonicalString())||t.le.push(new Fd(Ff.keyField(),o))}return t.le}function bp(e){var t=yf(e);return t.he||(t.he=kp(t,gp(e))),t.he}function kp(e,t){if("F"===e.limitType)return op(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Fd(e.field,t)}));var n=e.endAt?new Ld(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ld(e.startAt.position,e.startAt.inclusive):null;return op(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function wp(e,t){var n=e.filters.concat([t]);return new dp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _p(e,t,n){return new dp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xp(e,t){return sp(bp(e),bp(t))&&e.limitType===t.limitType}function Sp(e){return"".concat(up(bp(e)),"|lt:").concat(e.limitType)}function Ep(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Yd(e)})).join(", "),"]")),hh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return gd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return gd(e)})).join(",")),"Target(".concat(t,")")}(bp(e)),"; limitType=").concat(e.limitType,")")}function Tp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Uf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(gp(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Md(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gp(e),t))&&!(e.endAt&&!function(e,t,n){var r=Md(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gp(e),t))}(e,t)}function Ip(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cp(e){return function(t,n){var r,i=!1,a=I(gp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Op(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Op(e,t,n){var r=e.field.isKeyField()?Uf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yd(r,i):pf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pf()}}var Pp=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Hh(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Kh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ap=new Gh(Uf.comparator);function Rp(){return Ap}var Np=new Gh(Uf.comparator);function Dp(){for(var e=Np,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Lp(e){var t=Np;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Mp(){return Fp()}function jp(){return Fp()}function Fp(){return new Pp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Up=new Gh(Uf.comparator),Vp=new Yh(Uf.comparator);function zp(){for(var e=Vp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Bp=new Yh(Pf);function qp(){return Bp}function Wp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function Hp(e){return{integerValue:""+e}}function Kp(e,t){return ph(t)?Hp(t):Wp(e,t)}var Gp=m((function e(){d(this,e),this._=void 0}));function Qp(e,t,n){return e instanceof Xp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&od(t)&&(t=ud(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jp?Zp(e,t):e instanceof ev?tv(e,t):function(e,t){var n=Yp(e,t),r=rv(n)+rv(e.Ie);return wd(n)&&wd(e.Ie)?Hp(r):Wp(e.serializer,r)}(e,t)}function $p(e,t,n){return e instanceof Jp?Zp(e,t):e instanceof ev?tv(e,t):n}function Yp(e,t){return e instanceof nv?function(e){return wd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Xp=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n)}(Gp),Jp=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Gp);function Zp(e,t){var n,r=iv(t),i=I(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return pd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ev=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Gp);function tv(e,t){var n,r=iv(t),i=I(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!pd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nv=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return m(n)}(Gp);function rv(e){return id(e.integerValue||e.doubleValue)}function iv(e){return _d(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var av=m((function e(t,n){d(this,e),this.field=t,this.transform=n}));var ov=m((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),uv=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function sv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var cv=m((function e(){d(this,e)}));function lv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _v(e.key,uv.none()):new vv(e.key,e.data,uv.none());var n,r=e.data,i=Rd.empty(),a=new Yh(Ff.comparator),o=I(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new yv(e.key,i,new Zh(a.toArray()),uv.none())}function fv(e,t,n){e instanceof vv?function(e,t,n){var r=e.value.clone(),i=gv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yv?function(e,t,n){if(sv(e.precondition,t)){var r=gv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hv(e,t,n,r){return e instanceof vv?function(e,t,n,r){if(!sv(e.precondition,t))return n;var i=e.value.clone(),a=bv(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yv?function(e,t,n,r){if(!sv(e.precondition,t))return n;var i=bv(e.fieldTransforms,r,t),a=t.data;return a.setAll(mv(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return sv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dv(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Yp(a.transform,o||null);null!=u&&(null===r&&(r=Rd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function pv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Af(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jp&&t instanceof Jp||e instanceof ev&&t instanceof ev?Af(e.elements,t.elements,pd):e instanceof nv&&t instanceof nv?pd(e.Ie,t.Ie):e instanceof Xp&&t instanceof Xp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var vv=function(e){b(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(cv),yv=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(cv);function mv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gv(e,t,n){var r=new Map;vf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,$p(o,u,n[i]))}return r}function bv(e,t,n){var r,i=new Map,a=I(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Qp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var kv,wv,_v=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(cv),xv=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(cv),Sv=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=I(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=hv(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=I(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=hv(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=jp();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=lv(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Df.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),zp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Af(this.mutations,e.mutations,(function(e,t){return pv(e,t)}))&&Af(this.baseMutations,e.baseMutations,(function(e,t){return pv(e,t)}))}}]),e}(),Ev=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){vf(t.mutations.length===r.length);for(var i=Up,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Tv=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Iv=m((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function Cv(e){switch(e){default:return pf();case mf.CANCELLED:case mf.UNKNOWN:case mf.DEADLINE_EXCEEDED:case mf.RESOURCE_EXHAUSTED:case mf.INTERNAL:case mf.UNAVAILABLE:case mf.UNAUTHENTICATED:return!1;case mf.INVALID_ARGUMENT:case mf.NOT_FOUND:case mf.ALREADY_EXISTS:case mf.PERMISSION_DENIED:case mf.FAILED_PRECONDITION:case mf.ABORTED:case mf.OUT_OF_RANGE:case mf.UNIMPLEMENTED:case mf.DATA_LOSS:return!0}}function Ov(e){if(void 0===e)return ff("GRPC error has no .code"),mf.UNKNOWN;switch(e){case kv.OK:return mf.OK;case kv.CANCELLED:return mf.CANCELLED;case kv.UNKNOWN:return mf.UNKNOWN;case kv.DEADLINE_EXCEEDED:return mf.DEADLINE_EXCEEDED;case kv.RESOURCE_EXHAUSTED:return mf.RESOURCE_EXHAUSTED;case kv.INTERNAL:return mf.INTERNAL;case kv.UNAVAILABLE:return mf.UNAVAILABLE;case kv.UNAUTHENTICATED:return mf.UNAUTHENTICATED;case kv.INVALID_ARGUMENT:return mf.INVALID_ARGUMENT;case kv.NOT_FOUND:return mf.NOT_FOUND;case kv.ALREADY_EXISTS:return mf.ALREADY_EXISTS;case kv.PERMISSION_DENIED:return mf.PERMISSION_DENIED;case kv.FAILED_PRECONDITION:return mf.FAILED_PRECONDITION;case kv.ABORTED:return mf.ABORTED;case kv.OUT_OF_RANGE:return mf.OUT_OF_RANGE;case kv.UNIMPLEMENTED:return mf.UNIMPLEMENTED;case kv.DATA_LOSS:return mf.DATA_LOSS;default:return pf()}}(wv=kv||(kv={}))[wv.OK=0]="OK",wv[wv.CANCELLED=1]="CANCELLED",wv[wv.UNKNOWN=2]="UNKNOWN",wv[wv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wv[wv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wv[wv.NOT_FOUND=5]="NOT_FOUND",wv[wv.ALREADY_EXISTS=6]="ALREADY_EXISTS",wv[wv.PERMISSION_DENIED=7]="PERMISSION_DENIED",wv[wv.UNAUTHENTICATED=16]="UNAUTHENTICATED",wv[wv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wv[wv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wv[wv.ABORTED=10]="ABORTED",wv[wv.OUT_OF_RANGE=11]="OUT_OF_RANGE",wv[wv.UNIMPLEMENTED=12]="UNIMPLEMENTED",wv[wv.INTERNAL=13]="INTERNAL",wv[wv.UNAVAILABLE=14]="UNAVAILABLE",wv[wv.DATA_LOSS=15]="DATA_LOSS";var Pv=null;function Av(){return new TextEncoder}var Rv=new rf([4294967295,4294967295],0);function Nv(e){var t=Av().encode(e),n=new nf;return n.update(t),new Uint8Array(n.digest())}function Dv(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new rf([n,r],0),new rf([i,a],0)]}var Lv=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mv("Invalid padding: ".concat(n));if(r<0)throw new Mv("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Mv("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Mv("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=rf.fromNumber(this.Te)}return m(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(rf.fromNumber(n)));return 1===r.compare(Rv)&&(r=new rf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=l(Dv(Nv(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=l(Dv(Nv(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Mv=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(E(Error)),jv=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Fv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Df.min(),i,new Gh(Pf),Rp(),zp())}}]),e}(),Fv=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,zp(),zp(),zp())}}]),e}(),Uv=m((function e(t,n,r,i){d(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),Vv=m((function e(t,n){d(this,e),this.targetId=t,this.fe=n})),zv=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:td.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bv=function(){function e(){d(this,e),this.ge=0,this.pe=Hv(),this.ye=td.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return m(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=zp(),t=zp(),n=zp();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pf()}})),new Fv(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=Hv()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,vf(this.ge>=0)}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),qv=function(){function e(t){d(this,e),this.Le=t,this.ke=new Map,this.qe=Rp(),this.Qe=Wv(),this.Ke=new Gh(Pf)}return m(e,[{key:"$e",value:function(e){var t,n=I(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(u){n.e(u)}finally{n.f()}var i,a=I(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:pf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(cp(i))if(0===n){var a=new Uf(i.path);this.We(t,a,Dd.newNoDocument(a,Df.min()))}else vf(1===n);else{var o=this.Ze(t);if(o!==n){var u=this.Xe(e),s=u?this.et(u,e,o):1;if(0!==s){this.He(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==Pv||Pv.tt(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Le.nt(),u,s))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=ad(o).toUint8Array()}catch(e){if(e instanceof ed)return hf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Lv(n,s,l)}catch(e){return hf(e instanceof Mv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&cp(a.target)){var o=new Uf(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,Dd.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=zp();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new jv(e,n,this.Ke,this.qe,r);return this.qe=Rp(),this.Qe=Wv(),this.Ke=new Gh(Pf),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new Bv,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new Yh(Pf),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||lf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new Bv),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wv(){return new Gh(Uf.comparator)}function Hv(){return new Gh(Uf.comparator)}var Kv={asc:"ASCENDING",desc:"DESCENDING"},Gv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qv={and:"AND",or:"OR"},$v=m((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function Yv(e,t){return e.useProto3Json||hh(t)?t:{value:t}}function Xv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zv(e,t){return Xv(e,t.toTimestamp())}function ey(e){return vf(!!e),Df.fromTimestamp(function(e){var t=rd(e);return new Nf(t.seconds,t.nanos)}(e))}function ty(e,t){return function(e){return new Mf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ny(e){var t=Mf.fromString(e);return vf(Ey(t)),t}function ry(e,t){return ty(e.databaseId,t.path)}function iy(e,t){var n=ny(t);if(n.get(1)!==e.databaseId.projectId)throw new gf(mf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gf(mf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Uf(sy(n))}function ay(e,t){return ty(e.databaseId,t)}function oy(e){var t=ny(e);return 4===t.length?Mf.emptyPath():sy(t)}function uy(e){return new Mf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sy(e){return vf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cy(e,t,n){return{name:ry(e,t),fields:n.value.mapValue.fields}}function ly(e,t,n){var r=iy(e,t.name),i=ey(t.updateTime),a=t.createTime?ey(t.createTime):Df.min(),o=new Rd({mapValue:{fields:t.fields}}),u=Dd.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function fy(e,t){return"found"in t?function(e,t){vf(!!t.found),t.found.name,t.found.updateTime;var n=iy(e,t.found.name),r=ey(t.found.updateTime),i=t.found.createTime?ey(t.found.createTime):Df.min(),a=new Rd({mapValue:{fields:t.found.fields}});return Dd.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){vf(!!t.missing),vf(!!t.readTime);var n=iy(e,t.missing),r=ey(t.readTime);return Dd.newNoDocument(n,r)}(e,t):pf()}function hy(e,t){var n;if(t instanceof vv)n={update:cy(e,t.key,t.value)};else if(t instanceof _v)n={delete:ry(e,t.key)};else if(t instanceof yv)n={update:cy(e,t.key,t.data),updateMask:Sy(t.fieldMask)};else{if(!(t instanceof xv))return pf();n={verify:ry(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ev)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw pf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pf()}(e,t.precondition)),n}function dy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?uv.updateTime(ey(e.updateTime)):void 0!==e.exists?uv.exists(e.exists):uv.none()}(t.currentDocument):uv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)vf("REQUEST_TIME"===t.setToServerValue),n=new Xp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Jp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ev(i)}else"increment"in t?n=new nv(e,t.increment):pf();var a=Ff.fromServerFormat(t.fieldPath);return new av(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=iy(e,t.update.name),a=new Rd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Zh(t.map((function(e){return Ff.fromServerFormat(e)})))}(t.updateMask);return new yv(i,a,o,n,r)}return new vv(i,a,n,r)}if(t.delete){var u=iy(e,t.delete);return new _v(u,n)}if(t.verify){var s=iy(e,t.verify);return new xv(s,n)}return pf()}function py(e,t){return{documents:[ay(e,t.path)]}}function vy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ay(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ay(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return xy(Bd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:wy(e.field),direction:gy(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Yv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function yy(e){var t=oy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=my(e);return t instanceof Bd&&Hd(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Fd(_y(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return hh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ld(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ld(n,t)}(n.endAt)),pp(t,i,u,o,s,"F",c,l)}function my(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_y(e.unaryFilter.field);return zd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_y(e.unaryFilter.field);return zd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_y(e.unaryFilter.field);return zd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_y(e.unaryFilter.field);return zd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pf()}}(e):void 0!==e.fieldFilter?function(e){return zd.create(_y(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Bd.create(e.compositeFilter.filters.map((function(e){return my(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pf()}}(e.compositeFilter.op))}(e):pf()}function gy(e){return Kv[e]}function by(e){return Gv[e]}function ky(e){return Qv[e]}function wy(e){return{fieldPath:e.canonicalString()}}function _y(e){return Ff.fromServerFormat(e.fieldPath)}function xy(e){return e instanceof zd?function(e){if("=="===e.op){if(Sd(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NAN"}};if(xd(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sd(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NOT_NAN"}};if(xd(e.value))return{unaryFilter:{field:wy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wy(e.field),op:by(e.op),value:e.value}}}(e):e instanceof Bd?function(e){var t=e.getFilters().map((function(e){return xy(e)}));return 1===t.length?t[0]:{compositeFilter:{op:ky(e.op),filters:t}}}(e):pf()}function Sy(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ey(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ty=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Df.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Df.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:td.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Iy=m((function e(t){d(this,e),this.ut=t}));function Cy(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Oy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ry(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xv(e,t.version.toTimestamp()),createTime:Xv(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Py(t.version)};else{if(!t.isUnknownDocument())return pf();r.unknownDocument={path:n.path.toArray(),version:Py(t.version)}}return r}function Oy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Py(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ay(e){var t=new Nf(e.seconds,e.nanoseconds);return Df.fromTimestamp(t)}function Ry(e,t){for(var n=(t.baseMutations||[]).map((function(t){return dy(e.ut,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return dy(e.ut,t)})),u=Nf.fromMillis(t.localWriteTimeMs);return new Sv(t.batchId,u,n,o)}function Ny(e){var t,n=Ay(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Ay(e.lastLimboFreeSnapshotVersion):Df.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return vf(1===e.documents.length),bp(vp(oy(e.documents[0])))}(e.query):function(e){return bp(yy(e))}(e.query),new Ty(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,td.fromBase64String(e.resumeToken))}function Dy(e,t){var n,r=Py(t.snapshotVersion),i=Py(t.lastLimboFreeSnapshotVersion);n=cp(t.target)?py(e.ut,t.target):vy(e.ut,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:up(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ly(e){var t=yy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_p(t,t.limit,"L"):t}function My(e,t){return new Tv(t.largestBatchId,dy(e.ut,t.overlayMutation))}function jy(e,t){var n=t.path.lastSegment();return[e,vh(t.path.popLast()),n]}function Fy(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Py(r.readTime),documentKey:vh(r.documentKey.path),largestBatchId:r.largestBatchId}}var Uy=function(){function e(){d(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return Vy(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Ay(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Vy(e).put(function(e){return{bundleId:e.id,createTime:Py(ey(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return zy(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Ly(e.bundledQuery),readTime:Ay(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return zy(e).put(function(e){return{name:e.name,readTime:Py(ey(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Vy(e){return qh(e,"bundles")}function zy(e){return qh(e,"namedQueries")}var By=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return qy(e).get(jy(this.userId,t)).next((function(e){return e?My(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mp();return Zf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Tv(t,a);i.push(r.lt(e,o))})),Zf.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(vh(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(qy(e).H("collectionPathOverlayIndex",i))})),Zf.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Mp(),a=vh(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return qy(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=My(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Mp(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qy(e).Y({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=My(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"lt",value:function(e,t){return qy(e).put(function(e,t,n){var r=l(jy(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:hy(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ct",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function qy(e){return qh(e,"documentOverlays")}var Wy=function(){function e(){d(this,e)}return m(e,[{key:"ht",value:function(e,t){this.Pt(e,t),t.It()}},{key:"Pt",value:function(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(id(e.integerValue));else if("doubleValue"in e){var n=id(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),dh(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt("".concat(r.seconds||"")),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ad(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?Id(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):pf()}},{key:"At",value:function(e,t){this.Tt(t,25),this.wt(e,t)}},{key:"wt",value:function(e,t){t.dt(e)}},{key:"gt",value:function(e,t){var n=e.fields||{};this.Tt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.At(a,t),this.Pt(n[a],t)}}},{key:"yt",value:function(e,t){var n=e.values||[];this.Tt(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Pt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ft",value:function(e,t){var n=this;this.Tt(t,37),Uf.fromName(e).path.forEach((function(e){n.Tt(t,60),n.wt(e,t)}))}},{key:"Tt",value:function(e,t){e.Et(t)}},{key:"Rt",value:function(e){e.Et(2)}}]),e}();function Hy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ky(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Hy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Wy.St=new Wy;var Gy=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"bt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Dt(n.value),n=t.next();this.Ct()}},{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{var a=r.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Ot",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Nt",value:function(e){var t=this.Bt(e),n=Ky(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"kt",value:function(e){var t=this.Bt(e),n=Ky(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qt",value:function(){this.Qt(255),this.Qt(255)}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ut",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Dt",value:function(e){var t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}},{key:"Ct",value:function(){this.Qt(0),this.Qt(1)}},{key:"Mt",value:function(){this.$t(0),this.$t(1)}},{key:"Qt",value:function(e){this.Lt(1),this.buffer[this.position++]=e}},{key:"$t",value:function(e){this.Lt(1),this.buffer[this.position++]=~e}},{key:"Lt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Qy=function(){function e(t){d(this,e),this.Wt=t}return m(e,[{key:"Vt",value:function(e){this.Wt.bt(e)}},{key:"dt",value:function(e){this.Wt.xt(e)}},{key:"Et",value:function(e){this.Wt.Nt(e)}},{key:"It",value:function(){this.Wt.qt()}}]),e}(),$y=function(){function e(t){d(this,e),this.Wt=t}return m(e,[{key:"Vt",value:function(e){this.Wt.vt(e)}},{key:"dt",value:function(e){this.Wt.Ot(e)}},{key:"Et",value:function(e){this.Wt.kt(e)}},{key:"It",value:function(){this.Wt.Kt()}}]),e}(),Yy=function(){function e(){d(this,e),this.Wt=new Gy,this.Gt=new Qy(this.Wt),this.zt=new $y(this.Wt)}return m(e,[{key:"seed",value:function(e){this.Wt.seed(e)}},{key:"jt",value:function(e){return 0===e?this.Gt:this.zt}},{key:"Ut",value:function(){return this.Wt.Ut()}},{key:"reset",value:function(){this.Wt.reset()}}]),e}(),Xy=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"Ht",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Jy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Zy(e.arrayValue,t.arrayValue))?n:0!==(n=Zy(e.directionalValue,t.directionalValue))?n:Uf.comparator(e.documentKey,t.documentKey)}function Zy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var em=function(){function e(t){d(this,e),this.Jt=new Yh((function(e,t){return Ff.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=I(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"Xt",get:function(){return this.Jt.size>1}},{key:"en",value:function(e){if(vf(e.collectionGroup===this.collectionId),this.Xt)return!1;var t=zf(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Bf(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){var o=this.Jt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var u=n[i];if(!this.nn(o,u)||!this.rn(this.Yt[a++],u))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],s))return!1}return!0}},{key:"sn",value:function(){if(this.Xt)return null;var e,t=new Yh(Ff.comparator),n=[],r=I(this.Zt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new qf(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new qf(i.field,0))}}}catch(s){r.e(s)}finally{r.f()}var a,o=I(this.Yt);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||t.has(u.field)||(t=t.add(u.field),n.push(new qf(u.field,"asc"===u.dir?0:1)))}}catch(s){o.e(s)}finally{o.f()}return new Vf(Vf.UNKNOWN_ID,this.collectionId,n,Wf.empty())}},{key:"tn",value:function(e){var t,n=I(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function tm(e){var t,n;if(vf(e instanceof zd||e instanceof Bd),e instanceof zd){if(e instanceof np){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return zd.create(e.field,"==",t)})))||[];return Bd.create(r,"or")}return e}var i=e.filters.map((function(e){return tm(e)}));return Bd.create(i,e.op)}function nm(e){if(0===e.getFilters().length)return[];var t=om(tm(e));return vf(am(t)),rm(t)||im(t)?[t]:t.getFilters()}function rm(e){return e instanceof zd}function im(e){return e instanceof Bd&&Hd(e)}function am(e){return rm(e)||im(e)||function(e){if(e instanceof Bd&&Wd(e)){var t,n=I(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!rm(r)&&!im(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function om(e){if(vf(e instanceof zd||e instanceof Bd),e instanceof zd)return e;if(1===e.filters.length)return om(e.filters[0]);var t=e.filters.map((function(e){return om(e)})),n=Bd.create(t,e.op);return am(n=cm(n))?n:(vf(n instanceof Bd),vf(qd(n)),vf(n.filters.length>1),n.filters.reduce((function(e,t){return um(e,t)})))}function um(e,t){var n;return vf(e instanceof zd||e instanceof Bd),vf(t instanceof zd||t instanceof Bd),n=e instanceof zd?t instanceof zd?function(e,t){return Bd.create([e,t],"and")}(e,t):sm(e,t):t instanceof zd?sm(t,e):function(e,t){if(vf(e.filters.length>0&&t.filters.length>0),qd(e)&&qd(t))return $d(e,t.getFilters());var n=Wd(e)?e:t,r=Wd(e)?t:e,i=n.filters.map((function(e){return um(e,r)}));return Bd.create(i,"or")}(e,t),cm(n)}function sm(e,t){if(qd(t))return $d(t,e.getFilters());var n=t.filters.map((function(t){return um(e,t)}));return Bd.create(n,"or")}function cm(e){if(vf(e instanceof zd||e instanceof Bd),e instanceof zd)return e;var t=e.getFilters();if(1===t.length)return cm(t[0]);if(Kd(e))return e;var n=t.map((function(e){return cm(e)})),r=[];return n.forEach((function(t){t instanceof zd?r.push(t):t instanceof Bd&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:Bd.create(r,e.op)}var lm=function(){function e(){d(this,e),this.on=new fm}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),Zf.resolve()}},{key:"getCollectionParents",value:function(e,t){return Zf.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Zf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Zf.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Zf.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Zf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Zf.resolve(null)}},{key:"getIndexType",value:function(e,t){return Zf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Zf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Zf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Zf.resolve(Gf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Zf.resolve(Gf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Zf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Zf.resolve()}}]),e}(),fm=function(){function e(){d(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yh(Mf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Yh(Mf.comparator)).toArray()}}]),e}(),hm=new Uint8Array(0),dm=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this._n=new fm,this.an=new Pp((function(e){return up(e)}),(function(e,t){return sp(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:vh(i)};return pm(e).put(a)}return Zf.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Rf(t),""],!1,!0);return pm(e).W(r).next((function(e){var r,i=I(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(gh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ym(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=mm(e);return a.next((function(e){o.put(Fy(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ym(e),r=mm(e),i=vm(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=ym(e),n=vm(e),r=mm(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Zf.forEach(this.un(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new em(t).sn();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=vm(e),i=!0,a=new Map;return Zf.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=zp(),o=[];return Zf.forEach(a,(function(i,a){lf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(up(t)));var u=function(e,t){var n=zf(t);if(void 0===n)return null;var r,i=I(lp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=I(Bf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=I(lp(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=I(Bf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?fp(e,o.fieldPath,e.startAt):hp(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ld(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=I(Bf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?hp(e,o.fieldPath,e.endAt):fp(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ld(r,i)}(a,i),f=n.ln(i,a,c),h=n.ln(i,a,l),d=n.hn(i,a,s),p=n.Pn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Zf.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Uf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Zf.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:nm(Bd.create(e.filters,"and")).map((function(t){return op(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.In(t[d/c]):hm,f=u.Tn(e,s,n[d%c],r),p=u.En(e,s,i[d%c],a),v=o.map((function(t){return u.Tn(e,s,t,!0)}));l.push.apply(l,h(u.createRange(f,p,v)))},d=0;d<s;++d)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new Xy(e,Uf.empty(),t,n);return r?i:i.Ht()}},{key:"En",value:function(e,t,n,r){var i=new Xy(e,Uf.empty(),t,n);return r?i.Ht():i}},{key:"cn",value:function(e,t){var n=new em(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Zf.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Yh(Ff.comparator),r=!1,i=I(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=I(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=I(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new Yy,i=I(Bf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.jt(a.kind);Wy.St.ht(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ut()}},{key:"In",value:function(e){var t=new Yy;return Wy.St.ht(e,t.jt(0)),t.Ut()}},{key:"An",value:function(e,t){var n=new Yy;return Wy.St.ht(kd(this.databaseId,t),n.jt(function(e){var t=Bf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Yy);var i,a=0,o=I(Bf(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=I(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.Rn(t,s.fieldPath)&&_d(c))r=this.Vn(r,s,c);else{var h=f.jt(s.kind);Wy.St.ht(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ut();return t}},{key:"Vn",value:function(e,t,n){var r,i=h(e),a=[],o=I(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=I(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Yy;f.seed(l.Ut()),Wy.St.ht(s,f.jt(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zd&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ym(e),i=mm(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Zf.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Wf(t.sequenceNumber,new Gf(Ay(t.readTime),new Uf(gh(t.documentKey)),t.largestBatchId)):Wf.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new qf(Ff.fromServerFormat(n),r)}));return new Vf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ym(e),a=mm(e);return this.fn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Zf.forEach(t,(function(t){return a.put(Fy(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Zf.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Zf.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Zf.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?Zf.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return vm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return vm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=vm(e),i=new Yh(Jy);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new Xy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new Yh(Jy),r=this.dn(t,e);if(null==r)return n;var i=zf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(_d(a)){var o,u=I(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Xy(t.indexId,e.key,this.In(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Xy(t.indexId,e.key,hm,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;lf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Jh(a),s=Jh(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Jh(o)):l?(i(u),u=Jh(a)):(u=Jh(a),s=Jh(o))}}(r,i,Jy,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),Zf.waitFor(o)}},{key:"fn",value:function(e){var t=1;return mm(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Jy(e,t)})).filter((function(e,t,n){return!t||0!==Jy(e,n[t-1])}));var r=[];r.push(e);var i,a=I(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Jy(o,e),s=Jy(o,t);if(0===u)r[0]=e.Ht();else if(u>0&&s<0)r.push(o),r.push(o.Ht());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,hm,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,hm,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Jy(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(gm)}},{key:"getMinOffset",value:function(e,t){var n=this;return Zf.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||pf()}))})).next(gm)}}]),e}();function pm(e){return qh(e,"collectionParents")}function vm(e){return qh(e,"indexEntries")}function ym(e){return qh(e,"indexConfiguration")}function mm(e){return qh(e,"indexState")}function gm(e){vf(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Qf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gf(t.readTime,t.documentKey,n)}var bm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},km=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function wm(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Y({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){vf(1===u)})));var c,l=[],f=I(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=wh(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Zf.waitFor(a).next((function(){return l}))}function _m(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pf();t=e.noDocument}return JSON.stringify(t).length}km.DEFAULT_COLLECTION_PERCENTILE=10,km.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,km.DEFAULT=new km(41943040,km.DEFAULT_COLLECTION_PERCENTILE,km.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),km.DISABLED=new km(-1,0,0);var xm=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Em(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Tm(e),o=Em(e);return o.add({}).next((function(u){vf("number"==typeof u);var s,c=new Sv(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return hy(e.ut,t)})),i=n.mutations.map((function(t){return hy(e.ut,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Yh((function(e,t){return Pf(e.canonicalString(),t.canonicalString())})),d=I(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=wh(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,_h))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[u]=c.keys()})),Zf.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Em(e).get(t).next((function(e){return e?(vf(e.userId===n.userId),Ry(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.Dn[t]?Zf.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Em(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(vf(t.batchId>=r),a=Ry(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Em(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Em(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ry(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=kh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Tm(e).Y({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=gh(c);if(s===n.userId&&t.path.isEqual(h))return Em(e).get(f).next((function(e){if(!e)throw pf();vf(e.userId===n.userId),a.push(Ry(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Yh(Pf),i=[];return t.forEach((function(t){var a=kh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Tm(e).Y({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=gh(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),Zf.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=kh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Yh(Pf);return Tm(e).Y({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=gh(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.vn(e,u)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Em(e).get(t).next((function(e){if(null===e)throw pf();vf(e.userId===n.userId),r.push(Ry(n.serializer,e))})))})),Zf.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return wm(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),Zf.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Zf.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return Tm(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=gh(e[1]);i.push(a)}else r.done()})).next((function(){vf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Sm(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return Im(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ct",value:function(t,n,r,i){return vf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Sm(e,t,n){var r=kh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Tm(e).Y({range:a,J:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Em(e){return qh(e,"mutations")}function Tm(e){return qh(e,"documentMutations")}function Im(e){return qh(e,"mutationQueues")}var Cm=function(){function e(t){d(this,e),this.xn=t}return m(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),Om=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new Cm(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return Df.fromTimestamp(new Nf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Pm(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return vf(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Pm(e).Y((function(o,u){var s=Ny(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Zf.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Pm(e).Y((function(e,n){var r=Ny(n);t(r)}))}},{key:"Bn",value:function(e){return Am(e).get("targetGlobalKey").next((function(e){return vf(null!==e),e}))}},{key:"Ln",value:function(e,t){return Am(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return Pm(e).put(Dy(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=up(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Pm(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ny(n);sp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Rm(e);return t.forEach((function(t){var o=vh(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Zf.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Rm(e);return Zf.forEach(t,(function(t){var a=vh(t.path);return Zf.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Rm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rm(e),i=zp();return r.Y({range:n,J:!0},(function(e,t,n){var r=gh(e[1]),a=new Uf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=vh(t.path),r=IDBKeyRange.bound([n],[Rf(n)],!1,!0),i=0;return Rm(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return Pm(e).get(t).next((function(e){return e?Ny(e):null}))}}]),e}();function Pm(e){return qh(e,"targets")}function Am(e){return qh(e,"targetGlobal")}function Rm(e){return qh(e,"targetDocuments")}function Nm(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Pf(r,o);return 0===s?Pf(i,u):s}var Dm=function(){function e(t){d(this,e),this.Qn=t,this.buffer=new Yh(Nm),this.Kn=0}return m(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Nm(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Lm=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;lf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ih(e.t0)){e.next=12;break}lf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Xf(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Mm=function(){function e(t,n){d(this,e),this.zn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Zf.resolve(fh._e);var r=new Dm(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(lf("LruGarbageCollector","Garbage collection skipped; disabled"),Zf.resolve(bm)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(lf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),bm):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(lf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),cf()<=fa.DEBUG&&lf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Zf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function jm(e,t){return new Mm(e,t)}var Fm=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=jm(this,n)}return m(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Um(e,n)}},{key:"removeReference",value:function(e,t,n){return Um(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Um(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return Im(e).Z((function(r){return Sm(e,r,t).next((function(e){return e&&(n=!0),Zf.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Df.min()),Rm(e).delete(function(e){return[0,vh(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Zf.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Um(e,t)}},{key:"Zn",value:function(e,t){var n,r=Rm(e),i=fh._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==fh._e&&t(new Uf(gh(n)),i),i=s,n=u):i=fh._e})).next((function(){i!==fh._e&&t(new Uf(gh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Um(e,t){return Rm(e).put(function(e,t){return{targetId:0,path:vh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Vm=function(){function e(){d(this,e),this.changes=new Pp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Zf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),zm=function(){function e(t){d(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Hm(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Hm(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Oy(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Dd.newInvalidDocument(t);return Hm(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Km(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:Dd.newInvalidDocument(t)};return Hm(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Km(t))},(function(e,i){r={document:n.tr(t,i),size:_m(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Rp();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=Rp(),i=new Gh(Uf.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,_m(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return Zf.resolve();var r=new Yh(Qm);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Km(r.first()),Km(r.last())),a=r.getIterator(),o=a.getNext();return Hm(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Uf.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Qm(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(Km(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,u=[o.popLast().toArray(),o.lastSegment(),Oy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hm(e).W(IDBKeyRange.bound(u,s,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Rp(),u=I(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=a.tr(Uf.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(Tp(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){u.e(l)}finally{u.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Rp(),o=Gm(t,n),u=Gm(t,Gf.max());return Hm(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.tr(Uf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new qm(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Wm(e).get("remoteDocumentGlobalKey").next((function(e){return vf(!!e),e}))}},{key:"er",value:function(e,t){return Wm(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ly(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Uf.fromSegments(t.noDocument.path),i=Ay(t.noDocument.readTime);n=Dd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return pf();var a=Uf.fromSegments(t.unknownDocument.path),o=Ay(t.unknownDocument.version);n=Dd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Nf(e[0],e[1]);return Df.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Df.min()))return n}return Dd.newInvalidDocument(e)}}]),e}();function Bm(e){return new zm(e)}var qm=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new Pp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Yh((function(e,t){return Pf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Cy(t._r.serializer,o);i=i.add(a.path.popLast());var c=_m(s);r+=c-u.size,n.push(t._r.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Cy(t._r.serializer,o.convertToNoDocument(Df.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),Zf.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Vm);function Wm(e){return qh(e,"remoteDocumentGlobal")}function Hm(e){return qh(e,"remoteDocumentsV14")}function Km(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Gm(e,t){var n=t.documentKey.path.toArray();return[e,Oy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qm(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Pf(n[a],r[a]))return i;return(i=Pf(n.length,r.length))||((i=Pf(n[n.length-2],r[r.length-2]))||Pf(n[n.length-1],r[r.length-1]))}var $m=m((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ym=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&hv(r.mutation,e,Zh.empty(),Nf.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,zp()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zp(),i=Mp();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Dp();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Mp();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,zp())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Rp(),a=Fp(),o=Fp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof yv)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),hv(o.mutation,t,o.mutation.getFieldMask(),Nf.now())):a.set(t.key,Zh.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new $m(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Fp(),i=new Gh((function(e,t){return e-t})),a=zp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=I(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Zh.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||zp()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=jp();c.forEach((function(e){if(!a.has(e)){var n=lv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Zf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Uf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Zf.resolve(Mp()),u=-1,s=a;return o.next((function(t){return Zf.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Zf.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,zp())})).next((function(e){return{batchId:u,changes:Lp(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Uf(t)).next((function(e){var t=Dp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Dp();return this.indexManager.getCollectionParents(e,a).next((function(u){return Zf.forEach(u,(function(u){var s=function(e,t){return new dp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dd.newInvalidDocument(r)))}));var n=Dp();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&hv(a.mutation,r,Zh.empty(),Nf.now()),Tp(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Xm=function(){function e(t){d(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return Zf.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ey(e.createTime)}}(t)),Zf.resolve()}},{key:"getNamedQuery",value:function(e,t){return Zf.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Ly(e.bundledQuery),readTime:ey(e.readTime)}}(t)),Zf.resolve()}}]),e}(),Jm=function(){function e(){d(this,e),this.overlays=new Gh(Uf.comparator),this.lr=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return Zf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mp();return Zf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.lt(e,t,i)})),Zf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),Zf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Mp(),i=t.length+1,a=new Uf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Zf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Gh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Mp(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Mp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Zf.resolve(s)}},{key:"lt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Tv(t,n));var a=this.lr.get(t);void 0===a&&(a=zp(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),Zm=function(){function e(){d(this,e),this.hr=new Yh(eg.Pr),this.Ir=new Yh(eg.Tr)}return m(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new eg(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new eg(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new Uf(new Mf([])),r=new eg(n,e),i=new eg(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new Uf(new Mf([])),n=new eg(t,e),r=new eg(t,e+1),i=zp();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new eg(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),eg=function(){function e(t,n){d(this,e),this.key=t,this.gr=n}return m(e,null,[{key:"Pr",value:function(e,t){return Uf.comparator(e.key,t.key)||Pf(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return Pf(e.gr,t.gr)||Uf.comparator(e.key,t.key)}}]),e}(),tg=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Yh(eg.Pr)}return m(e,[{key:"checkEmpty",value:function(e){return Zf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Sv(i,t,n,r);this.mutationQueue.push(a);var o,u=I(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.yr=this.yr.add(new eg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Zf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Zf.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return Zf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Zf.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return Zf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new eg(t,0),i=new eg(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),Zf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Yh(Pf);return t.forEach((function(e){var t=new eg(e,0),i=new eg(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),Zf.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Uf.isDocumentKey(i)||(i=i.child(""));var a=new eg(new Uf(i),0),o=new Yh(Pf);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),Zf.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;vf(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return Zf.forEach(t.mutations,(function(i){var a=new eg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new eg(t,0),r=this.yr.firstAfterOrEqual(n);return Zf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Zf.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ng=function(){function e(t){d(this,e),this.Cr=t,this.docs=new Gh(Uf.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Zf.resolve(n?n.document.mutableCopy():Dd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Rp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dd.newInvalidDocument(e))})),Zf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Rp(),a=t.path,o=new Uf(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Qf(Kf(l),n)<=0||(r.has(l.key)||Tp(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Zf.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){pf()}},{key:"vr",value:function(e,t){return Zf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new rg(this)}},{key:"getSize",value:function(e){return Zf.resolve(this.size)}}]),e}(),rg=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this))._r=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),Zf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(Vm),ig=function(){function e(t){d(this,e),this.persistence=t,this.Fr=new Pp((function(e){return up(e)}),sp),this.lastRemoteSnapshotVersion=Df.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Zm,this.targetCount=0,this.Nr=Cm.On()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),Zf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Zf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Zf.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),Zf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Zf.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new Cm(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,Zf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),Zf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Zf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Zf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Zf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return Zf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),Zf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Zf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),Zf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return Zf.resolve(n)}},{key:"containsKey",value:function(e,t){return Zf.resolve(this.Or.containsKey(t))}}]),e}(),ag=function(){function e(t,n){var r=this;d(this,e),this.Br={},this.overlays={},this.Lr=new fh(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new ig(this),this.indexManager=new lm,this.remoteDocumentCache=function(e){return new ng(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new Iy(n),this.Kr=new Xm(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Jm,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new tg(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;lf("MemoryPersistence","Starting transaction:",e);var i=new og(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return Zf.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),og=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(Yf),ug=function(){function e(t){d(this,e),this.persistence=t,this.Gr=new Zm,this.zr=null}return m(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw pf()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Zf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Zf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),Zf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zf.forEach(this.Hr,(function(r){var i=Uf.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,Df.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return Zf.or([function(){return Zf.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),sg=function(){function e(t){d(this,e),this.serializer=t}return m(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new eh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bh,{unique:!0}),e.createObjectStore("documentMutations")}(e),cg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Zf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),cg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Df.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Zf.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Dh});t.createIndex("collectionPathOverlayIndex",Lh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Mh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:xh});t.createIndex("documentKeyIndex",Sh),t.createIndex("collectionGroupIndex",Eh)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ph}).createIndex("sequenceNumberIndex",Ah,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Rh}).createIndex("documentKeyIndex",Nh,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=_m(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Zf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Zf.forEach(r,(function(r){vf(r.userId===n.userId);var i=Ry(t.serializer,r);return wm(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new Mf(n),o=function(e){return[0,vh(e)]}(a);r.push(t.get(o).next((function(n){return n?Zf.resolve():function(n){return t.put({targetId:0,path:vh(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Zf.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Oh});var n=t.store("collectionParents"),r=new fm,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:vh(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new Mf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],gh(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=Ny(r),a=Dy(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Uf(Mf.fromString(e.document.name).popFirst(5)):e.noDocument?Uf.fromSegments(e.noDocument.path):e.unknownDocument?Uf.fromSegments(e.unknownDocument.path):pf()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Zf.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=Bm(this.serializer),a=new ag(ug.jr,this.serializer.ut);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:zp();Ry(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Zf.forEach(r,(function(e,r){var o=new of(r),u=By.ct(n.serializer,o),s=a.getIndexManager(o),c=xm.ct(o,n.serializer,s,a.referenceDelegate);return new Ym(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Bh(t,fh._e),e).next()}))}))}}]),e}();function cg(e){e.createObjectStore("targetDocuments",{keyPath:Ih}).createIndex("documentTargetsIndex",Ch,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Th,{unique:!0}),e.createObjectStore("targetGlobal")}var lg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fg=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=u,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.D())throw new gf(mf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fm(this,i),this.Ii=n+"main",this.serializer=new Iy(s),this.Ti=new th(this.Ii,this.ai,new sg(this.serializer)),this.qr=new Om(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Bm(this.serializer),this.Kr=new Uy,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&ff("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new gf(mf.FAILED_PRECONDITION,lg);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new fh(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=ri(ti().mark((function n(r){return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.L(function(){var t=ri(ti().mark((function t(n){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return dg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(ih(t))return lf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return lf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return hg(e).get("owner").next((function(e){return Zf.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return dg(e).delete(this.clientId)}},{key:"bi",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i,a=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qh(e,"clientMetadata");return t.W().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Zf.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=I(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?Zf.resolve(!0):hg(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new gf(mf.FAILED_PRECONDITION,lg);return!1}}return!(!t.networkEnabled||!t.inForeground)||dg(e).W().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&lf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ri(ti().mark((function e(){var t=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Bh(e,fh._e);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return dg(t).W().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return xm.ct(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new dm(e,this.serializer.ut.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return By.ct(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;lf("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?zh:14===e?Vh:13===e?Uh:12===e?Fh:11===e?jh:void pf()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new Bh(a,r.Lr?r.Lr.next():fh._e),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw ff("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new gf(mf.FAILED_PRECONDITION,$f);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return hg(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new gf(mf.FAILED_PRECONDITION,lg)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hg(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=hg(e);return n.get("owner").next((function(e){return t.wi(e)?(lf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Zf.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ff("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;!zi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return lf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ff("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ff("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return th.D()}}]),e}();function hg(e){return qh(e,"owner")}function dg(e){return qh(e,"clientMetadata")}function pg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vg=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return m(e,null,[{key:"Qi",value:function(t,n){var r,i=zp(),a=zp(),o=I(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),yg=function(){function e(){d(this,e),this._documentReadCount=0}return m(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),mg=function(){function e(){d(this,e),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return m(e,[{key:"initialize",value:function(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.zi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new yg;return i.Hi(e,t,n).next((function(r){if(a.result=r,i.$i)return i.Ji(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Ji",value:function(e,t,n,r){return n.documentReadCount<this.Ui?(cf()<=fa.DEBUG&&lf("QueryEngine","SDK will not create cache indexes for query:",Ep(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Zf.resolve()):(cf()<=fa.DEBUG&&lf("QueryEngine","Query:",Ep(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(cf()<=fa.DEBUG&&lf("QueryEngine","The SDK decides to create cache indexes for query:",Ep(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bp(t))):Zf.resolve())}},{key:"zi",value:function(e,t){var n=this;if(yp(t))return Zf.resolve(null);var r=bp(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=_p(t,null,"F"),r=bp(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=zp.apply(void 0,h(i));return n.Gi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Yi(t,i);return n.Zi(t,o,a,r.readTime)?n.zi(e,_p(t,null,"F")):n.Xi(e,o,t,r)}))}))})))}))}},{key:"ji",value:function(e,t,n,r){var i=this;return yp(t)||r.isEqual(Df.min())?Zf.resolve(null):this.Gi.getDocuments(e,n).next((function(a){var o=i.Yi(t,a);return i.Zi(t,o,n,r)?Zf.resolve(null):(cf()<=fa.DEBUG&&lf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ep(t)),i.Xi(e,o,t,Hf(r,-1)).next((function(e){return e})))}))}},{key:"Yi",value:function(e,t){var n=new Yh(Cp(e));return t.forEach((function(t,r){Tp(e,r)&&(n=n.add(r))})),n}},{key:"Zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Hi",value:function(e,t,n){return cf()<=fa.DEBUG&&lf("QueryEngine","Using full collection scan to execute query:",Ep(t)),this.Gi.getDocumentsMatchingQuery(e,t,Gf.min(),n)}},{key:"Xi",value:function(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),gg=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.es=n,this.serializer=i,this.ts=new Gh(Pf),this.ns=new Pp((function(e){return up(e)}),sp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}return m(e,[{key:"os",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ym(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ts)}))}}]),e}();function bg(e,t,n,r){return new gg(e,t,n,r)}function kg(e,t){return wg.apply(this,arguments)}function wg(){return wg=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.os(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=zp(),s=I(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=I(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=I(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=I(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{_s:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function _g(e,t){var n=yf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Zf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);vf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=zp(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function xg(e){var t=yf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function Sg(e,t){var n=yf(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(td.EMPTY_BYTE_STRING,Df.min()).withLastLimboFreeSnapshotVersion(Df.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var u=Rp(),s=zp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Eg(e,a,t.documentUpdates).next((function(e){u=e.us,s=e.cs}))),!r.isEqual(Df.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Zf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.ts=i,e}))}function Eg(e,t,n){var r=zp(),i=zp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Rp();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Df.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):lf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{us:r,cs:i}}))}function Tg(e,t){var n=yf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ig(e,t){var n=yf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,Zf.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new Ty(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}function Cg(e,t,n){return Og.apply(this,arguments)}function Og(){return Og=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yf(t),a=i.ts.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ih(e.t1)){e.next=12;break}throw e.t1;case 12:lf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ts=i.ts.remove(n),i.ns.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Og.apply(this,arguments)}function Pg(e,t,n){var r=yf(e),i=Df.min(),a=zp();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=yf(e),i=r.ns.get(n);return void 0!==i?Zf.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,bp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.es.getDocumentsMatchingQuery(e,t,n?i:Df.min(),n?a:zp())})).next((function(e){return Ng(r,Ip(t),e),{documents:e,ls:a}}))}))}function Ag(e,t){var n=yf(e),r=yf(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function Rg(e,t){var n=yf(e),r=n.rs.get(t)||Df.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ss.getAllFromCollectionGroup(e,t,Hf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ng(n,t,e),e}))}function Ng(e,t,n){var r=e.rs.get(t)||Df.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}function Dg(e,t,n,r){return Lg.apply(this,arguments)}function Lg(){return Lg=ri(ti().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=yf(t),o=zp(),u=Rp(),s=I(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.hs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ps(l)).setReadTime(n.Is(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ss.newChangeBuffer({trackRemovals:!0}),e.next=7,Ig(a,function(e){return bp(vp(Mf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Eg(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs)})).next((function(){return t.us}))}))})));case 9:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}function Mg(e,t){return jg.apply(this,arguments)}function jg(){return jg=ri(ti().mark((function e(t,n){var r,i,a,o=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:zp(),e.next=3,Ig(t,bp(Ly(n.bundledQuery)));case 3:return i=e.sent,a=yf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ey(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(td.EMPTY_BYTE_STRING,t);return a.ts=a.ts.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Fg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ug(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Vg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var zg=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new gf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ff("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Bg=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new gf(i.error.code,i.error.message))),a?new e(t,i.state,r):(ff("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),qg=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"Ts",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=qp(),o=0;i&&o<r.activeTargetIds.length;++o)i=ph(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ff("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Wg=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"Ts",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ff("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Hg=function(){function e(){d(this,e),this.activeTargetIds=qp()}return m(e,[{key:"ds",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Es",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Kg=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Gh(Pf),this.started=!1,this.ps=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ys=Fg(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Hg),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}return m(e,[{key:"start",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=I(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Rs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Fg(this.persistenceKey,i)))&&(o=qg.Ts(i,a))&&(this.gs=this.gs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Fs(),(u=this.storage.getItem(this.Cs))&&(s=this.Ms(u))&&this.xs(s),c=I(this.ps);try{for(c.s();!(l=c.n()).done;)f=l.value,this.fs(f)}catch(d){c.e(d)}finally{c.f()}this.ps=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Os(this.gs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ns(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ns(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Vg(this.persistenceKey,e));if(n){var r=Bg.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ls.As(e),this.Fs()}},{key:"isLocalQueryTarget",value:function(e){return this.Ls.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Vg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ks(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Qs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return lf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){lf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){lf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"fs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(lf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void ff("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(ri(ti().mark((function e(){var r,i,a,o,u,s,c;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ss.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ks(n.key),e.abrupt("return",t.$s(r,null));case 6:if(!(i=t.Us(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$s(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.bs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ws(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Gs(a));case 16:e.next=41;break;case 18:if(!t.Ds.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.zs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Cs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ms(n.newValue))){e.next=30;break}return e.abrupt("return",t.xs(u));case 30:e.next=41;break;case 32:if(n.key!==t.ws){e.next=37;break}s=function(e){var t=fh._e;if(null!=e)try{var n=JSON.parse(e);vf("number"==typeof n),t=n}catch(e){ff("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==fh._e&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.vs){e.next=41;break}return c=t.Hs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Js(e)})));case 41:e.next=44;break;case 43:t.ps.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ls",get:function(){return this.gs.get(this.Rs)}},{key:"Fs",value:function(){this.setItem(this.ys,this.Ls.Es())}},{key:"Ns",value:function(e,t,n){var r=new zg(this.currentUser,e,t,n),i=Ug(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}},{key:"Bs",value:function(e){var t=Ug(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"qs",value:function(e){var t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}},{key:"ks",value:function(e,t,n){var r=Vg(this.persistenceKey,e),i=new Bg(e,t,n);this.setItem(r,i.Es())}},{key:"Qs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}},{key:"Ks",value:function(e){var t=this.Ss.exec(e);return t?t[1]:null}},{key:"Us",value:function(e,t){var n=this.Ks(e);return qg.Ts(n,t)}},{key:"Ws",value:function(e,t){var n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return zg.Ts(new of(i),r,t)}},{key:"zs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]);return Bg.Ts(r,t)}},{key:"Ms",value:function(e){return Wg.Ts(e)}},{key:"Hs",value:function(e){return JSON.parse(e)}},{key:"Gs",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Ys(t.batchId,t.state,t.error));case 2:lf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"js",value:function(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}},{key:"$s",value:function(e,t){var n=this,r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),a=this.Os(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Xs(o,u).then((function(){n.gs=r}))}},{key:"xs",value:function(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Os",value:function(e){var t=qp();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Gg=function(){function e(){d(this,e),this.eo=new Hg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.eo.ds(e),this.no[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.no[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.eo.As(e)}},{key:"isLocalQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.no[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.eo=new Hg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Qg=function(){function e(){d(this,e)}return m(e,[{key:"ro",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$g=function(){function e(){var t=this;d(this,e),this.io=function(){return t.so()},this.oo=function(){return t._o()},this.ao=[],this.uo()}return m(e,[{key:"ro",value:function(e){this.ao.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){lf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_o",value:function(){lf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Yg=null;function Xg(){return null===Yg?Yg=268435456+Math.round(2147483648*Math.random()):Yg++,"0x"+Yg.toString(16)}var Jg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Zg=function(){function e(t){d(this,e),this.co=t.co,this.lo=t.lo}return m(e,[{key:"ho",value:function(e){this.Po=e}},{key:"Io",value:function(e){this.To=e}},{key:"onMessage",value:function(e){this.Eo=e}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(e){this.co(e)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(e){this.To(e)}},{key:"Vo",value:function(e){this.Eo(e)}}]),e}(),eb="WebChannelConnection",tb=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return m(n,[{key:"Do",value:function(e,t,n,r){var i=Xg();return new Promise((function(a,o){var u=new tf;u.setWithCredentials(!0),u.listenOnce(Xl.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Yl.NO_ERROR:var t=u.getResponseJson();lf(eb,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Yl.TIMEOUT:lf(eb,"RPC '".concat(e,"' ").concat(i," timed out")),o(new gf(mf.DEADLINE_EXCEEDED,"Request time out"));break;case Yl.HTTP_ERROR:var n=u.getStatus();if(lf(eb,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(mf).indexOf(t)>=0?t:mf.UNKNOWN}(s.status);o(new gf(c,s.message))}else o(new gf(mf.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new gf(mf.UNAVAILABLE,"Connection failed."));break;default:pf()}}finally{lf(eb,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);lf(eb,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"vo",value:function(e,t,n){var r=Xg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ql(),o=$l(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");lf(eb,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new Zg({co:function(t){h?lf(eb,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(lf(eb,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),lf(eb,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},lo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,ef.EventType.OPEN,(function(){h||lf(eb,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,ef.EventType.CLOSE,(function(){h||(h=!0,lf(eb,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Ro())})),p(l,ef.EventType.ERROR,(function(t){h||(h=!0,hf(eb,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Ro(new gf(mf.UNAVAILABLE,"The operation could not be completed")))})),p(l,ef.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];vf(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){lf(eb,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=kv[e];if(void 0!==t)return Ov(t)}(u),c=o.message;void 0===s&&(s=mf.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Ro(new gf(s,c)),l.close()}else lf(eb,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Vo(i)}})),p(o,Jl.STAT_EVENT,(function(t){t.stat===Zl.PROXY?lf(eb,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Zl.NOPROXY&&lf(eb,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+t.host,this.fo="projects/".concat(r,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return m(e,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(e,t,n,r,i){var a=Xg(),o=this.So(e,t);lf("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,r,i),this.Do(e,o,u,n).then((function(t){return lf("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw hf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Co",value:function(e,t,n,r,i,a){return this.wo(e,t,n,r,i)}},{key:"bo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"So",value:function(e,t){var n=Jg[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function nb(){return"undefined"!=typeof window?window:null}function rb(){return"undefined"!=typeof document?document:null}function ib(e){return new $v(e,!0)}var ab=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&lf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),e}(),ob=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.si=t,this.Ko=r,this.$o=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new ab(t,n)}return m(e,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var e=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return e.Xo()})))}},{key:"e_",value:function(e){this.t_(),this.stream.send(e)}},{key:"Xo",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ho()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var e=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():n&&n.code===mf.RESOURCE_EXHAUSTED?(ff(n.toString()),ff("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===mf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Io(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Uo===n&&e.s_(i,a)}),(function(n){t((function(){var t=new gf(mf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.o_(t)}))}))}},{key:"s_",value:function(e,t){var n=this,r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((function(){r((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(e){r((function(){return n.o_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Jo",value:function(){var e=this;this.state=5,this.zo.ko(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"o_",value:function(e){return lf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"i_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.Uo===e?n():(lf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ub=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return m(n,[{key:"__",value:function(e,t){return this.connection.vo("Listen",e,t)}},{key:"onMessage",value:function(e){this.zo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(vf(void 0===t||"string"==typeof t),td.fromBase64String(t||"")):(vf(void 0===t||t instanceof Uint8Array),td.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?mf.UNKNOWN:Ov(e.code);return new gf(t,e.message||"")}(o);n=new zv(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=iy(e,s.document.name),l=ey(s.document.updateTime),f=s.document.createTime?ey(s.document.createTime):Df.min(),h=new Rd({mapValue:{fields:s.document.fields}}),d=Dd.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Uv(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=iy(e,y.document),g=y.readTime?ey(y.readTime):Df.min(),b=Dd.newNoDocument(m,g),k=y.removedTargetIds||[];n=new Uv([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=iy(e,w.document),x=w.removedTargetIds||[];n=new Uv([],x,_,null)}else{if(!("filter"in t))return pf();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,I=S.unchangedNames,C=new Iv(T,I),O=S.targetId;n=new Vv(O,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Df.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Df.min():t.readTime?ey(t.readTime):Df.min()}(e);return this.listener.a_(t,n)}},{key:"u_",value:function(e){var t={};t.database=uy(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=cp(r)?{documents:py(e,r)}:{query:vy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Jv(e,t.resumeToken);var i=Yv(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Df.min())>0){n.readTime=Xv(e,t.snapshotVersion.toTimestamp());var a=Yv(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}},{key:"c_",value:function(e){var t={};t.database=uy(this.serializer),t.removeTarget=e,this.e_(t)}}]),n}(ob),sb=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.l_=!1,s}return m(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,jo(k(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(e,t){return this.connection.vo("Write",e,t)}},{key:"onMessage",value:function(e){if(vf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();var t=function(e,t){return e&&e.length>0?(vf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ey(e.updateTime):ey(t);return n.isEqual(Df.min())&&(n=ey(t)),new ov(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ey(e.commitTime);return this.listener.I_(n,t)}return vf(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var e={};e.database=uy(this.serializer),this.e_(e)}},{key:"P_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hy(t.serializer,e)}))};this.e_(n)}}]),n}(ob),cb=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.d_=!1,o}return m(n,[{key:"A_",value:function(){if(this.d_)throw new gf(mf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(e,t,n){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.wo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new gf(mf.UNKNOWN,e.toString())}))}},{key:"Co",value:function(e,t,n,r){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection.Co(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new gf(mf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}(m((function e(){d(this,e)})));var lb=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return m(e,[{key:"g_",value:function(){var e=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.m_=null,e.y_("Backend didn't respond within 10 seconds."),e.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}},{key:"set",value:function(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}},{key:"p_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"y_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(ff(t),this.f_=!1):lf("OnlineStateTracker",t)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),e}(),fb=m((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro((function(e){r.enqueueAndForget(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=_b(o),!e.t0){e.next=5;break}return lf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yf(t)).C_.add(4),e.next=4,pb(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),e.next=8,hb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.M_=new lb(r,i)}));function hb(e){return db.apply(this,arguments)}function db(){return(db=ri(ti().mark((function e(t){var n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_b(t)){e.next=18;break}n=I(t.v_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function pb(e){return vb.apply(this,arguments)}function vb(){return(vb=ri(ti().mark((function e(t){var n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.v_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function yb(e,t){var n=yf(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),wb(n)?kb(n):Xb(n).Ho()&&gb(n,t))}function mb(e,t){var n=yf(e),r=Xb(n);n.D_.delete(t),r.Ho()&&bb(n,t),0===n.D_.size&&(r.Ho()?r.Zo():_b(n)&&n.M_.set("Unknown"))}function gb(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Df.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xb(e).u_(t)}function bb(e,t){e.x_.Oe(t),Xb(e).c_(t)}function kb(e){e.x_=new qv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.D_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),Xb(e).start(),e.M_.g_()}function wb(e){return _b(e)&&!Xb(e).jo()&&e.D_.size>0}function _b(e){return 0===yf(e).C_.size}function xb(e){e.x_=void 0}function Sb(e){return Eb.apply(this,arguments)}function Eb(){return(Eb=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.D_.forEach((function(e,n){gb(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tb(e,t){return Ib.apply(this,arguments)}function Ib(){return(Ib=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xb(t),wb(t)?(t.M_.w_(n),kb(t)):t.M_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cb(e,t,n){return Ob.apply(this,arguments)}function Ob(){return Ob=ri(ti().mark((function e(t,n,r){var i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.M_.set("Online"),!(n instanceof zv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.D_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.D_.delete(o),t.x_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),lf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Pb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Uv?t.x_.$e(n):n instanceof Vv?t.x_.Je(n):t.x_.Ge(n),r.isEqual(Df.min())){e.next=29;break}return e.prev=14,e.next=17,xg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.x_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.D_.get(t);if(r){e.D_.set(t,r.withResumeToken(td.EMPTY_BYTE_STRING,r.snapshotVersion)),bb(e,t);var i=new Ty(r.target,t,n,r.sequenceNumber);gb(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),lf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Pb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ob.apply(this,arguments)}function Pb(e,t,n){return Ab.apply(this,arguments)}function Ab(){return Ab=ri(ti().mark((function e(t,n,r){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ih(n)){e.next=2;break}throw n;case 2:return t.C_.add(1),e.next=5,pb(t);case 5:t.M_.set("Offline"),r||(r=function(){return xg(t.localStore)}),t.asyncQueue.enqueueRetryable(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.C_.delete(1),e.next=6,hb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function Rb(e,t){return t().catch((function(n){return Pb(e,n,t)}))}function Nb(e){return Db.apply(this,arguments)}function Db(){return Db=ri(ti().mark((function e(t){var n,r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yf(t),r=Jb(n),i=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!Lb(n)){e.next=19;break}return e.prev=3,e.next=6,Tg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.b_.length&&r.Zo(),e.abrupt("break",19);case 10:i=a.batchId,Mb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Pb(n,e.t0);case 17:e.next=2;break;case 19:jb(n)&&Fb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Db.apply(this,arguments)}function Lb(e){return _b(e)&&e.b_.length<10}function Mb(e,t){e.b_.push(t);var n=Jb(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function jb(e){return _b(e)&&!Jb(e).jo()&&e.b_.length>0}function Fb(e){Jb(e).start()}function Ub(e){return Vb.apply(this,arguments)}function Vb(){return(Vb=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jb(t).E_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zb(e){return Bb.apply(this,arguments)}function Bb(){return Bb=ri(ti().mark((function e(t){var n,r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jb(t),r=I(t.b_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.P_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function qb(e,t,n){return Wb.apply(this,arguments)}function Wb(){return Wb=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.b_.shift(),a=Ev.from(i,n,r),e.next=3,Rb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Nb(t);case 5:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Hb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Jb(t).h_,!e.t0){e.next=4;break}return e.next=4,function(){var e=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Cv(e)&&e!==mf.ABORTED}(n.code)){e.next=7;break}return r=t.b_.shift(),Jb(t).Yo(),e.next=5,Rb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Nb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:jb(t)&&Fb(t);case 5:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Gb(e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=ri(ti().mark((function e(t,n){var r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yf(t)).asyncQueue.verifyOperationInProgress(),lf("RemoteStore","RemoteStore received new credentials"),i=_b(r),r.C_.add(3),e.next=6,pb(r);case 6:return i&&r.M_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.C_.delete(3),e.next=12,hb(r);case 12:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}function $b(e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yf(t),!n){e.next=7;break}return r.C_.delete(2),e.next=5,hb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.C_.add(2),e.next=12,pb(r);case 12:r.M_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Yb.apply(this,arguments)}function Xb(e){return e.O_||(e.O_=function(e,t,n){var r=yf(e);return r.A_(),new ub(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Sb.bind(null,e),Io:Tb.bind(null,e),a_:Cb.bind(null,e)}),e.v_.push(function(){var t=ri(ti().mark((function t(n){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.O_.Yo(),wb(e)?kb(e):e.M_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.O_.stop();case 6:xb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.O_}function Jb(e){return e.N_||(e.N_=function(e,t,n){var r=yf(e);return r.A_(),new sb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Ub.bind(null,e),Io:Hb.bind(null,e),T_:zb.bind(null,e),I_:qb.bind(null,e)}),e.v_.push(function(){var t=ri(ti().mark((function t(n){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.N_.Yo(),t.next=4,Nb(e);case 4:t.next=9;break;case 6:return t.next=8,e.N_.stop();case 8:e.b_.length>0&&(lf("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}var Zb=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gf(mf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ek(e,t){if(ff("AsyncQueue","".concat(t,": ").concat(e)),ih(e))return new gf(mf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var tk=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Uf.comparator(e.key,n.key)}:function(e,t){return Uf.comparator(e.key,t.key)},this.keyedMap=Dp(),this.sortedSet=new Gh(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),nk=function(){function e(){d(this,e),this.B_=new Gh(Uf.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):pf():this.B_=this.B_.insert(t,e)}},{key:"L_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),rk=function(){function e(t,n,r,i,a,o,u,s,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,tk.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ik=m((function e(){d(this,e),this.k_=void 0,this.listeners=[]})),ak=m((function e(){d(this,e),this.queries=new Pp((function(e){return Sp(e)}),xp),this.onlineState="Unknown",this.q_=new Set}));function ok(e,t){return uk.apply(this,arguments)}function uk(){return uk=ri(ti().mark((function e(t,n){var r,i,a,o,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ik),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.k_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ek(e.t0,"Initialization of query '".concat(Ep(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Q_(r.onlineState),o.k_&&n.K_(o.k_)&&hk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),uk.apply(this,arguments)}function sk(e,t){return ck.apply(this,arguments)}function ck(){return ck=ri(ti().mark((function e(t,n){var r,i,a,o,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){var n,r=yf(e),i=!1,a=I(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=I(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.K_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.k_=o}}}catch(f){a.e(f)}finally{a.f()}i&&hk(r)}function fk(e,t,n){var r=yf(e),i=r.queries.get(t);if(i){var a,o=I(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function hk(e){e.q_.forEach((function(e){e.next()}))}var dk=function(){function e(t,n,r){d(this,e),this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"K_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new rk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.W_?this.z_(e)&&(this.U_.next(e),a=!0):this.j_(e,this.onlineState)&&(this.H_(e),a=!0),this.G_=e,a}},{key:"onError",value:function(e){this.U_.error(e)}},{key:"Q_",value:function(e){this.onlineState=e;var t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}},{key:"j_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(e){e=rk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}]),e}(),pk=function(){function e(t,n){d(this,e),this.Y_=t,this.byteLength=n}return m(e,[{key:"Z_",value:function(){return"metadata"in this.Y_}}]),e}(),vk=function(){function e(t){d(this,e),this.serializer=t}return m(e,[{key:"hs",value:function(e){return iy(this.serializer,e)}},{key:"Ps",value:function(e){return e.metadata.exists?ly(this.serializer,e.document,!1):Dd.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}},{key:"Is",value:function(e){return ey(e)}}]),e}(),yk=function(){function e(t,n,r){d(this,e),this.X_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mk(t)}return m(e,[{key:"ea",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;var n=Mf.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ta",value:function(e){var t,n=new Map,r=new vk(this.serializer),i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.hs(a.metadata.name),s=I(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||zp()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dg(this.localStore,new vk(this.serializer),this.documents,this.X_.id);case 2:t=e.sent,n=this.ta(this.documents),r=I(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Mg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function mk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var gk=m((function e(t){d(this,e),this.key=t})),bk=m((function e(t){d(this,e),this.key=t})),kk=function(){function e(t,n){d(this,e),this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=zp(),this.mutatedKeys=zp(),this._a=Cp(t),this.aa=new tk(this._a)}return m(e,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(e,t){var n=this,r=t?t.la:new nk,i=t?t.aa:this.aa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Tp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ha(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n._a(f,s)>0||c&&n._a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:u,mutatedKeys:a}}},{key:"ha",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;var o=e.la.L_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pf()}};return n(e)-n(t)}(e.type,t.type)||i._a(e.doc,t.doc)})),this.Pa(n),r=null!=r&&r;var u=t&&!r?this.Ia():[],s=0===this.oa.size&&this.current&&!r?1:0,c=s!==this.sa;return this.sa=s,0!==o.length||c?{snapshot:new rk(this.query,e.aa,a,o,e.mutatedKeys,0===s,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:u}:{Ta:u}}},{key:"Q_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new nk,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}},{key:"Pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ia=t.ia.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ia=t.ia.delete(e)})),this.current=e.current)}},{key:"Ia",value:function(){var e=this;if(!this.current)return[];var t=this.oa;this.oa=zp(),this.aa.forEach((function(t){e.Ea(t.key)&&(e.oa=e.oa.add(t.key))}));var n=[];return t.forEach((function(t){e.oa.has(t)||n.push(new bk(t))})),this.oa.forEach((function(e){t.has(e)||n.push(new gk(e))})),n}},{key:"da",value:function(e){this.ia=e.ls,this.oa=zp();var t=this.ca(e.documents);return this.applyChanges(t,!0)}},{key:"Aa",value:function(){return rk.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),e}(),wk=m((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),_k=m((function e(t){d(this,e),this.key=t,this.Ra=!1})),xk=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Pp((function(e){return Sp(e)}),xp),this.fa=new Map,this.ga=new Set,this.pa=new Gh(Uf.comparator),this.ya=new Map,this.wa=new Zm,this.Sa={},this.ba=new Map,this.Da=Cm.Nn(),this.onlineState="Unknown",this.Ca=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),e}();function Sk(e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=ri(ti().mark((function e(t,n){var r,i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mw(t),!(o=r.ma.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Aa(),e.next=15;break;case 6:return e.next=8,Ig(r.localStore,bp(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Tk(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&yb(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Tk(e,t,n,r,i){return Ik.apply(this,arguments)}function Ik(){return Ik=ri(ti().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.va=function(e,n,r){return function(){var e=ri(ti().mark((function e(t,n,r,i){var a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ca(r),e.t0=a.Zi,!e.t0){e.next=6;break}return e.next=5,Pg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ca(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=i&&null!=i.targetMismatches.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o,u),e.abrupt("return",(Gk(t,n.targetId,s.Ta),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Pg(t.localStore,n,!0);case 3:return o=e.sent,u=new kk(n,o.ls),s=u.ca(o.documents),c=Fv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Gk(t,r,l.Ta),f=new wk(n,r,u),e.abrupt("return",(t.ma.set(n,f),t.fa.has(r)?t.fa.get(r).push(n):t.fa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Ck(e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=ri(ti().mark((function e(t,n){var r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yf(t),i=r.ma.get(n),!((a=r.fa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.fa.set(i.targetId,a.filter((function(e){return!xp(e,n)}))),void r.ma.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Cg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mb(r.remoteStore,i.targetId),Hk(r,i.targetId)})).catch(Xf);case 9:e.next=14;break;case 11:return Hk(r,i.targetId),e.next=14,Cg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Pk(e,t,n){return Ak.apply(this,arguments)}function Ak(){return Ak=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gw(t),e.prev=1,e.next=4,function(e,t){var n,r,i=yf(e),a=Nf.now(),o=t.reduce((function(e,t){return e.add(t.key)}),zp());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Rp(),s=zp();return i.ss.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=I(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=dv(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new yv(c.key,l,Nd(l.value.mapValue),uv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Lp(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Sa[e.currentUser.toKey()];r||(r=new Gh(Pf)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Yk(i,a.changes);case 9:return e.next=11,Nb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ek(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ak.apply(this,arguments)}function Rk(e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=ri(ti().mark((function e(t,n){var r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),e.prev=1,e.next=4,Sg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ya.get(t);n&&(vf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ra=!0:e.modifiedDocuments.size>0?vf(n.Ra):e.removedDocuments.size>0&&(vf(n.Ra),n.Ra=!1))})),e.next=8,Yk(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Xf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Nk.apply(this,arguments)}function Dk(e,t,n){var r=yf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ma.forEach((function(e,n){var r=n.view.Q_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=I(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Q_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&hk(n)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Lk(e,t,n){return Mk.apply(this,arguments)}function Mk(){return Mk=ri(ti().mark((function e(t,n,r){var i,a,o,u,s,c;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ya.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Gh(Uf.comparator)).insert(o,Dd.newNoDocument(o,Df.min())),s=zp().add(o),c=new jv(Df.min(),new Map,new Gh(Pf),u,s),e.next=9,Rk(i,c);case 9:i.pa=i.pa.remove(o),i.ya.delete(n),$k(i),e.next=16;break;case 14:return e.next=16,Cg(i.localStore,n,!1).then((function(){return Hk(i,n,r)})).catch(Xf);case 16:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function jk(e,t){return Fk.apply(this,arguments)}function Fk(){return Fk=ri(ti().mark((function e(t,n){var r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),i=n.batch.batchId,e.prev=1,e.next=4,_g(r.localStore,n);case 4:return a=e.sent,Wk(r,i,null),qk(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Yk(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Fk.apply(this,arguments)}function Uk(e,t,n){return Vk.apply(this,arguments)}function Vk(){return Vk=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yf(t),e.prev=1,e.next=4,function(e,t){var n=yf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return vf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Wk(i,n,r),qk(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Yk(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Vk.apply(this,arguments)}function zk(e,t){return Bk.apply(this,arguments)}function Bk(){return Bk=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _b((r=yf(t)).remoteStore)||lf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=yf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ba.get(i)||[]).push(n),r.ba.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ek(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Bk.apply(this,arguments)}function qk(e,t){(e.ba.get(t)||[]).forEach((function(e){e.resolve()})),e.ba.delete(t)}function Wk(e,t,n){var r=yf(e),i=r.Sa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Hk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e.fa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ma.delete(a),n&&e.Va.Fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((function(t){e.wa.containsKey(t)||Kk(e,t)}))}function Kk(e,t){e.ga.delete(t.path.canonicalString());var n=e.pa.get(t);null!==n&&(mb(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),$k(e))}function Gk(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof gk?(e.wa.addReference(a.key,t),Qk(e,a)):a instanceof bk?(lf("SyncEngine","Document no longer in limbo: "+a.key),e.wa.removeReference(a.key,t),e.wa.containsKey(a.key)||Kk(e,a.key)):pf()}}catch(o){i.e(o)}finally{i.f()}}function Qk(e,t){var n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(lf("SyncEngine","New document in limbo: "+n),e.ga.add(r),$k(e))}function $k(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){var t=e.ga.values().next().value;e.ga.delete(t);var n=new Uf(Mf.fromString(t)),r=e.Da.next();e.ya.set(r,new _k(n)),e.pa=e.pa.insert(n,r),yb(e.remoteStore,new Ty(bp(vp(n.path)),r,"TargetPurposeLimboResolution",fh._e))}}function Yk(e,t,n){return Xk.apply(this,arguments)}function Xk(){return Xk=ri(ti().mark((function e(t,n,r){var i,a,o,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yf(t),a=[],o=[],u=[],e.t0=i.ma.isEmpty(),e.t0){e.next=9;break}return i.ma.forEach((function(e,t){u.push(i.va(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=vg.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Va.a_(a),e.next=9,function(){var e=ri(ti().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Zf.forEach(n,(function(t){return Zf.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Zf.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ih(e.t0)){e.next=10;break}throw e.t0;case 10:lf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ts.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ts=r.ts.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Jk(e,t){return Zk.apply(this,arguments)}function Zk(){return Zk=ri(ti().mark((function e(t,n){var r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yf(t)).currentUser.isEqual(n)){e.next=11;break}return lf("SyncEngine","User change. New user:",n.toKey()),e.next=5,kg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ba.forEach((function(e){e.forEach((function(e){e.reject(new gf(mf.CANCELLED,t))}))})),e.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Yk(r,i._s);case 11:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function ew(e,t){var n=yf(e),r=n.ya.get(t);if(r&&r.Ra)return zp().add(r.key);var i=zp(),a=n.fa.get(t);if(!a)return i;var o,u=I(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ma.get(s);i=i.unionWith(c.view.ua)}}catch(l){u.e(l)}finally{u.f()}return i}function tw(e,t){return nw.apply(this,arguments)}function nw(){return nw=ri(ti().mark((function e(t,n){var r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),e.next=3,Pg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.da(i),e.abrupt("return",(r.isPrimaryClient&&Gk(r,n.targetId,a.Ta),a));case 6:case"end":return e.stop()}}),e)}))),nw.apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return iw=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),e.abrupt("return",Rg(r.localStore,n).then((function(e){return Yk(r,e)})));case 2:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e,t,n,r){return ow.apply(this,arguments)}function ow(){return ow=ri(ti().mark((function e(t,n,r,i){var a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yf(t),e.next=3,function(e,t){var n=yf(e),r=yf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Zf.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Nb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Wk(a,n,i||null),qk(a,n),function(e,t){yf(yf(e).mutationQueue).Fn(t)}(a.localStore,n)):pf();case 11:return e.next=13,Yk(a,o);case 13:e.next=16;break;case 15:lf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}function uw(e,t){return sw.apply(this,arguments)}function sw(){return sw=ri(ti().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mw(r=yf(t)),gw(r),!0!==n||!0===r.Ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,cw(r,i.toArray());case 5:return a=e.sent,r.Ca=!0,e.next=9,$b(r.remoteStore,!0);case 9:o=I(a);try{for(o.s();!(u=o.n()).done;)s=u.value,yb(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ca){e.next=25;break}return c=[],l=Promise.resolve(),r.fa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Hk(r,t),Cg(r.localStore,t,!0)})),mb(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,cw(r,c);case 21:return function(e){var t=yf(e);t.ya.forEach((function(e,n){mb(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Gh(Uf.comparator)}(r),r.Ca=!1,e.next=25,$b(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function cw(e,t,n){return lw.apply(this,arguments)}function lw(){return lw=ri(ti().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=yf(t),a=[],o=[],u=I(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.fa.get(c))||0===f.length){e.next=34;break}return e.next=11,Ig(i.localStore,bp(f[0]));case 11:l=e.sent,h=I(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ma.get(p),e.next=20,tw(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ag(i.localStore,c);case 36:return m=e.sent,e.next=39,Ig(i.localStore,m);case 39:return l=e.sent,e.next=42,Tk(i,fw(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Va.a_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),lw.apply(this,arguments)}function fw(e){return pp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hw(e){return function(e){return yf(yf(e).persistence).Bi()}(yf(e).localStore)}function dw(e,t,n,r){return pw.apply(this,arguments)}function pw(){return pw=ri(ti().mark((function e(t,n,r,i){var a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=yf(t)).Ca){e.next=3;break}return e.abrupt("return",void lf("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.fa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Rg(a.localStore,Ip(o[0]));case 10:return u=e.sent,s=jv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,td.EMPTY_BYTE_STRING),e.next=14,Yk(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Cg(a.localStore,n,!0);case 17:return Hk(a,n,i),e.abrupt("break",20);case 19:pf();case 20:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t,n){return yw.apply(this,arguments)}function yw(){return yw=ri(ti().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=mw(t)).Ca){e.next=45;break}a=I(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.fa.has(u)){e.next=10;break}return lf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Ag(i.localStore,u);case 12:return s=e.sent,e.next=15,Ig(i.localStore,s);case 15:return c=e.sent,e.next=18,Tk(i,fw(s),c.targetId,!1,c.resumeToken);case 18:yb(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=I(r),e.prev=30,h=ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.fa.has(t),!e.t0){e.next=5;break}return e.next=5,Cg(i.localStore,t,!1).then((function(){mb(i.remoteStore,t),Hk(i,t)})).catch(Xf);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yw.apply(this,arguments)}function mw(e){var t=yf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ew.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lk.bind(null,t),t.Va.a_=lk.bind(null,t.eventManager),t.Va.Fa=fk.bind(null,t.eventManager),t}function gw(e){var t=yf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Uk.bind(null,t),t}function bw(e,t,n){var r=yf(e);(function(){var e=ri(ti().mark((function e(t,n,r){var i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=yf(e),r=ey(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(mk(i)),a=new yk(i,t.localStore,n.serializer),e.next=15,n.Ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ea(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Yk(t,s.ra,void 0);case 31:return e.next=33,function(e,t){var n=yf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.na));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(hf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var kw=function(){function e(){d(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=ib(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return bg(this.persistence,new mg,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new ag(ug.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Gg}},{key:"terminate",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ww=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).xa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=ri(ti().mark((function e(t){var r=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.xa.initialize(this,t);case 4:return e.next=6,gw(this.xa.syncEngine);case 6:return e.next=8,Nb(this.xa.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return bg(this.persistence,new mg,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Lm(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new lh(t,this.persistence);return new ch(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?km.withCacheSize(this.cacheSizeBytes):km.DEFAULT;return new fg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,nb(),rb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Gg}}]),n}(kw),_w=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).xa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=ri(ti().mark((function e(t){var r,i=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.xa.syncEngine,e.t0=this.sharedClientState instanceof Kg,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Ys:aw.bind(null,r),Zs:dw.bind(null,r),Xs:vw.bind(null,r),Bi:hw.bind(null,r),Js:rw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uw(i.xa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=nb();if(!Kg.D(t))throw new gf(mf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ww),xw=function(){function e(){d(this,e)}return m(e,[{key:"initialize",value:function(){var e=ri(ti().mark((function e(t,n){var r=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Dk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jk.bind(null,this.syncEngine),e.next=12,$b(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ak}},{key:"createDatastore",value:function(e){var t=ib(e.databaseInfo.databaseId),n=function(e){return new tb(e)}(e.databaseInfo);return function(e,t,n,r){return new cb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new fb(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Dk(t.syncEngine,e,0)}),$g.D()?new $g:new Qg)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new xk(e,t,n,r,i,a);return o&&(u.Ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yf(t),lf("RemoteStore","RemoteStore shutting down."),n.C_.add(5),e.next=5,pb(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Sw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ri(ti().mark((function r(){var i;return ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Ew=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Oa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Oa(this.observer.error,e):ff("Uncaught Error in snapshot listener:",e.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Tw=function(){function e(t,n){var r=this;d(this,e),this.Ba=t,this.serializer=n,this.metadata=new bf,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((function(e){e&&e.Z_()?r.metadata.resolve(e.Y_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Ba.cancel()}},{key:"getMetadata",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ka());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.La.decode(t),r=Number(n),isNaN(r)&&this.Qa("length string (".concat(n,") is not valid number")),e.next=9,this.Ka(r);case 9:return i=e.sent,e.abrupt("return",new pk(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"qa",value:function(){var e=ri(ti().mark((function e(){var t,n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.$a()<0)){e.next=7;break}return e.next=3,this.Ua();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.$a())<0&&this.Qa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ka",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ua();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Qa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.La.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qa",value:function(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ua",value:function(){var e=ri(ti().mark((function e(){var t,n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Iw=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=ri(ti().mark((function e(t){var n,r=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new gf(mf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ri(ti().mark((function e(t,n){var r,i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),i=uy(r.serializer)+"/documents",a={documents:n.map((function(e){return ry(r.serializer,e)}))},e.next=5,r.Co("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=fy(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());vf(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ri(ti().mark((function e(){var t,n=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Uf.fromPath(t);n.mutations.push(new xv(r,n.precondition(r)))})),e.next=7,function(){var e=ri(ti().mark((function e(t,n){var r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yf(t),i=uy(r.serializer)+"/documents",a={writes:n.map((function(e){return hy(r.serializer,e)}))},e.next=3,r.wo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pf();t=Df.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new gf(mf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Df.min())?uv.exists(!1):uv.updateTime(t):uv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Df.min()))throw new gf(mf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return uv.updateTime(t)}return uv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Cw=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Wa=r.maxAttempts,this.zo=new ab(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.Wa-=1,this.Ga()}},{key:"Ga",value:function(){var e=this;this.zo.ko(ri(ti().mark((function t(){var n,r;return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Iw(e.datastore),(r=e.za(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ja(t)}))}))})).catch((function(t){e.ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"za",value:function(e){try{var t=this.updateFunction(e);return!hh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ja",value:function(e){var t=this;this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ga(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ha",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cv(t)}return!1}}]),e}(),Ow=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=of.UNAUTHENTICATED,this.clientId=Of.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return lf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new gf(mf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ri(ti().mark((function n(){var r;return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ek(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Pw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=ri(ti().mark((function e(t,n){var r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),lf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,kg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Rw(e,t){return Nw.apply(this,arguments)}function Nw(){return Nw=ri(ti().mark((function e(t,n){var r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Lw(t);case 3:return r=e.sent,lf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Gb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Gb(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Nw.apply(this,arguments)}function Dw(e){return"FirebaseError"===e.name?e.code===mf.FAILED_PRECONDITION||e.code===mf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Lw(e){return Mw.apply(this,arguments)}function Mw(){return Mw=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return lf("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Pw(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Dw(n=e.t0)){e.next=13;break}throw n;case 13:return hf("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Pw(t,new kw);case 16:e.next=21;break;case 18:return lf("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Pw(t,new kw);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Mw.apply(this,arguments)}function jw(e){return Fw.apply(this,arguments)}function Fw(){return(Fw=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return lf("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Rw(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return lf("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Rw(t,new xw);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uw(e){return Lw(e).then((function(e){return e.persistence}))}function Vw(e){return Lw(e).then((function(e){return e.localStore}))}function zw(e){return jw(e).then((function(e){return e.remoteStore}))}function Bw(e){return jw(e).then((function(e){return e.syncEngine}))}function qw(e){return jw(e).then((function(e){return e.datastore}))}function Ww(e){return Hw.apply(this,arguments)}function Hw(){return Hw=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Sk.bind(null,n.syncEngine),r.onUnlisten=Ck.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Kw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bf;return e.asyncQueue.enqueueAndForget(ri(ti().mark((function i(){return ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ew({next:function(a){t.enqueueAndForget((function(){return sk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new gf(mf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new gf(mf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new dk(vp(n.path),a,{includeMetadataChanges:!0,J_:!0});return ok(e,o)},i.next=3,Ww(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Gw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bf;return e.asyncQueue.enqueueAndForget(ri(ti().mark((function i(){return ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ew({next:function(n){t.enqueueAndForget((function(){return sk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new gf(mf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new dk(n,a,{includeMetadataChanges:!0,J_:!0});return ok(e,o)},i.next=3,Ww(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Qw(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var $w=new Map;function Yw(e,t,n){if(!n)throw new gf(mf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xw(e,t,n,r){if(!0===t&&!0===r)throw new gf(mf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Jw(e){if(!Uf.isDocumentKey(e))throw new gf(mf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zw(e){if(Uf.isDocumentKey(e))throw new gf(mf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function e_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":pf()}function t_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gf(mf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=e_(e);throw new gf(mf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function n_(e,t){if(t<=0)throw new gf(mf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var r_=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new gf(mf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gf(mf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Xw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gf(mf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new gf(mf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new gf(mf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),i_=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new gf(mf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new gf(mf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wf;switch(e.type){case"firstParty":return new Ef(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gf(mf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=$w.get(e);t&&(lf("ComponentProvider","Removing Datastore"),$w.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function a_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=t_(e,i_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&hf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=of.MOCK_USER;else{u=Ui(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new gf(mf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new of(c)}e._authCredentials=new _f(new kf(u,s))}}var o_=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),u_=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new s_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),s_=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,vp(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new u_(this.firestore,null,new Uf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(o_);function c_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=aa(e),Yw("collection","path",t),e instanceof i_){var a=Mf.fromString.apply(Mf,[t].concat(r));return Zw(a),new s_(e,null,a)}if(!(e instanceof u_||e instanceof s_))throw new gf(mf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mf.fromString.apply(Mf,[t].concat(r)));return Zw(o),new s_(e.firestore,null,o)}function l_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=aa(e),1===arguments.length&&(t=Of.newId()),Yw("doc","path",t),e instanceof i_){var a=Mf.fromString.apply(Mf,[t].concat(r));return Jw(a),new u_(e,null,new Uf(a))}if(!(e instanceof u_||e instanceof s_))throw new gf(mf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mf.fromString.apply(Mf,[t].concat(r)));return Jw(o),new u_(e.firestore,e instanceof s_?e.converter:null,new Uf(o))}function f_(e,t){return e=aa(e),t=aa(t),(e instanceof u_||e instanceof s_)&&(t instanceof u_||t instanceof s_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function h_(e,t){return e=aa(e),t=aa(t),e instanceof o_&&t instanceof o_&&e.firestore===t.firestore&&xp(e._query,t._query)&&e.converter===t.converter}var d_=function(){function e(){var t=this;d(this,e),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new ab(this,"async_queue_retry"),this.iu=function(){var e=rb();e&&lf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zo.Qo()};var n=rb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return m(e,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.su(),this.ou(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Za){this.Za=!0,this.nu=e||!1;var t=rb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(e){var t=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new bf;return this.ou((function(){return t.Za&&t.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ya.push(e),t._u()}))}},{key:"_u",value:function(){var e=ri(ti().mark((function e(){var t=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ya.length){e.next=14;break}return e.prev=1,e.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ih(e.t0)){e.next=12;break}throw e.t0;case 12:lf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return t._u()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t=this,n=this.Ja.then((function(){return t.tu=!0,e().catch((function(e){t.eu=e,t.tu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ff("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.tu=!1,e}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.su(),this.ru.indexOf(e)>-1&&(t=0);var i=Zb.createAndSchedule(this,e,t,n,(function(e){return r.au(e)}));return this.Xa.push(i),i}},{key:"su",value:function(){this.eu&&pf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ja,e.next=3,t;case 3:if(t!==this.Ja){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(e){var t,n=I(this.Xa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"lu",value:function(e){var t=this;return this.uu().then((function(){t.Xa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.Xa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.uu()}))}},{key:"hu",value:function(e){this.ru.push(e)}},{key:"au",value:function(e){var t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}]),e}();function p_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var v_=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new bf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),y_=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new d_,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||g_(this),this._firestoreClient.terminate()}}]),n}(i_);function m_(e){return e._firestoreClient||g_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function g_(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new cd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Qw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ow(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function b_(e,t,n){var r=new bf;return e.asyncQueue.enqueue(ri(ti().mark((function i(){var a;return ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Pw(e,n);case 3:return i.next=5,Rw(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),Dw(a=i.t0)){i.next=13;break}throw a;case 13:hf("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function k_(e){return function(e){var t=new bf;return e.asyncQueue.enqueueAndForget(ri(ti().mark((function n(){return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=zk,n.next=3,Bw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(m_(e=t_(e,y_)))}function w_(e){return function(e){return e.asyncQueue.enqueue(ri(ti().mark((function t(){var n,r;return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uw(e);case 2:return n=t.sent,t.next=5,zw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=yf(e);return t.C_.delete(0),hb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(m_(e=t_(e,y_)))}function __(e){return function(e){return e.asyncQueue.enqueue(ri(ti().mark((function t(){var n,r;return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uw(e);case 2:return n=t.sent,t.next=5,zw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yf(t)).C_.add(0),e.next=4,pb(n);case 4:n.M_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(m_(e=t_(e,y_)))}function x_(e,t){var n=m_(e=t_(e,y_)),r=new v_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Tw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Sw(e,t);if(e instanceof ArrayBuffer)return Sw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Av().encode(e):e),t)}(n,ib(t));e.asyncQueue.enqueueAndForget(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bw,t.next=3,Bw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function S_(e,t){return function(e,t){return e.asyncQueue.enqueue(ri(ti().mark((function n(){return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=yf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,Vw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(m_(e=t_(e,y_)),t).then((function(t){return t?new o_(e,null,t.query):null}))}function E_(e){if(e._initialized||e._terminated)throw new gf(mf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var T_=function(){function e(t){d(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(td.fromBase64String(t))}catch(t){throw new gf(mf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(td.fromUint8Array(t))}}]),e}(),I_=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new gf(mf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ff(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var C_=m((function e(t){d(this,e),this._methodName=t})),O_=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new gf(mf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gf(mf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pf(this._lat,e._lat)||Pf(this._long,e._long)}}]),e}(),P_=/^__.*__$/,A_=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yv(e,this.data,this.fieldMask,t,this.fieldTransforms):new vv(e,this.data,t,this.fieldTransforms)}}]),e}(),R_=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new yv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function N_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pf()}}var D_=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}},{key:"Vu",value:function(e){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(e){return ex(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Pu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Au(this.path.get(e))}},{key:"Au",value:function(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(N_(this.Iu)&&P_.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}]),e}(),L_=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ib(t)}return m(e,[{key:"pu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new D_({Iu:e,methodName:t,gu:n,path:Ff.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function M_(e){var t=e._freezeSettings(),n=ib(e._databaseId);return new L_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function j_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.pu(a.merge||a.mergeFields?2:0,t,n,i);Y_("Data must be an object, but it was:",o,r);var u,s,c=Q_(r,o);if(a.merge)u=new Zh(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=I(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=X_(t,l.value,n);if(!o.contains(d))throw new gf(mf.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));tx(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Zh(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new A_(new Rd(c),u,s)}var F_=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(C_);function U_(e,t,n){return new D_({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var V_=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new av(e.path,new Xp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(C_),z_=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).yu=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=U_(this,e,!0),n=this.yu.map((function(e){return G_(e,t)})),r=new Jp(n);return new av(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(C_),B_=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).yu=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=U_(this,e,!0),n=this.yu.map((function(e){return G_(e,t)})),r=new ev(n);return new av(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(C_),q_=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wu=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new nv(e.serializer,Kp(e.serializer,this.wu));return new av(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(C_);function W_(e,t,n,r){var i=e.pu(1,t,n);Y_("Data must be an object, but it was:",i,r);var a=[],o=Rd.empty();Hh(r,(function(e,r){var u=Z_(t,e,n);r=aa(r);var s=i.Ru(u);if(r instanceof F_)a.push(u);else{var c=G_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Zh(a);return new R_(o,u,i.fieldTransforms)}function H_(e,t,n,r,i,a){var o=e.pu(1,t,n),u=[X_(t,r,n)],s=[i];if(a.length%2!=0)throw new gf(mf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(X_(t,a[c])),s.push(a[c+1]);for(var l=[],f=Rd.empty(),h=u.length-1;h>=0;--h)if(!tx(l,u[h])){var d=u[h],p=s[h];p=aa(p);var v=o.Ru(d);if(p instanceof F_)l.push(d);else{var y=G_(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Zh(l);return new R_(f,m,o.fieldTransforms)}function K_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return G_(n,e.pu(r?4:3,t))}function G_(e,t){if($_(e=aa(e)))return Y_("Unsupported field value:",t,e),Q_(e,t);if(e instanceof C_)return function(e,t){if(!N_(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=I(e);try{for(a.s();!(n=a.n()).done;){var o=G_(n.value,t.Vu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=aa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Nf.fromDate(e);return{timestampValue:Xv(t.serializer,n)}}if(e instanceof Nf){var r=new Nf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xv(t.serializer,r)}}if(e instanceof O_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof T_)return{bytesValue:Jv(t.serializer,e._byteString)};if(e instanceof u_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.mu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ty(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(e_(e)))}(e,t)}function Q_(e,t){var n={};return Kh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hh(e,(function(e,r){var i=G_(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nf||e instanceof O_||e instanceof T_||e instanceof u_||e instanceof C_)}function Y_(e,t,n){if(!$_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=e_(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function X_(e,t,n){if((t=aa(t))instanceof I_)return t._internalPath;if("string"==typeof t)return Z_(e,t);throw ex("Field path arguments must be of type string or ",e,!1,void 0,n)}var J_=new RegExp("[~\\*/\\[\\]]");function Z_(e,t,n){if(t.search(J_)>=0)throw ex("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(I_,h(t.split(".")))._internalPath}catch(Xo){throw ex("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ex(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new gf(mf.INVALID_ARGUMENT,u+e+s)}function tx(e,t){return e.some((function(e){return e.isEqual(t)}))}var nx=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new u_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new rx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ix("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),rx=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return jo(k(n.prototype),"data",this).call(this)}}]),n}(nx);function ix(e,t){return"string"==typeof t?Z_(e,t):t instanceof I_?t._internalPath:t._delegate._internalPath}function ax(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gf(mf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ox=m((function e(){d(this,e)})),ux=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n)}(ox);function sx(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof ox&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof lx})).length,n=e.filter((function(e){return e instanceof cx})).length;if(t>1||t>0&&n>0)throw new gf(mf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=I(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var cx=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return _x(e._query,t),new o_(e.firestore,e.converter,wp(e._query,t))}},{key:"_parse",value:function(e){var t=M_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new gf(mf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){wx(o,a);var s,c=[],l=I(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(kx(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=kx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||wx(o,a),u=K_(n,t,o,"in"===a||"not-in"===a);return zd.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ux);var lx=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Bd.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=I(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;_x(r,a),r=wp(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new o_(e.firestore,e.converter,wp(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ox);var fx=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fd(t,n)}(e._query,this._field,this._direction);return new o_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new dp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ux);var hx=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new o_(e.firestore,e.converter,_p(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ux);var dx=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=bx(e,this.type,this._docOrFields,this._inclusive);return new o_(e.firestore,e.converter,function(e,t){return new dp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ux);function px(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dx._create("startAt",t,!0)}function vx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dx._create("startAfter",t,!1)}var yx=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=bx(e,this.type,this._docOrFields,this._inclusive);return new o_(e.firestore,e.converter,function(e,t){return new dp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ux);function mx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yx._create("endBefore",t,!1)}function gx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yx._create("endAt",t,!0)}function bx(e,t,n,r){if(n[0]=aa(n[0]),n[0]instanceof nx)return function(e,t,n,r,i){if(!r)throw new gf(mf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=I(gp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(kd(t,r.key));else{var c=r.data.field(s.field);if(od(c))throw new gf(mf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new gf(mf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ld(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=M_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new gf(mf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!mp(e)&&-1!==c.indexOf("/"))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Mf.fromString(c));if(!Uf.isDocumentKey(l))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Uf(l);u.push(kd(t,f))}else{var h=K_(n,r,c);u.push(h)}}return new Ld(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function kx(e,t,n){if("string"==typeof(n=aa(n))){if(""===n)throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mp(t)&&-1!==n.indexOf("/"))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mf.fromString(n));if(!Uf.isDocumentKey(r))throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return kd(e,new Uf(r))}if(n instanceof u_)return kd(e,n._key);throw new gf(mf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(e_(n),"."))}function wx(e,t){if(!Array.isArray(e)||0===e.length)throw new gf(mf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _x(e,t){var n=function(e,t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i,a=I(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gf(mf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new gf(mf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var xx=function(){function e(){d(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return id(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ad(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pf()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Hh(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new O_(id(e.latitude),id(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ud(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=rd(e);return new Nf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mf.fromString(e);vf(Ey(n));var r=new ld(n.get(1),n.get(3)),i=new Uf(n.popFirst(5));return r.isEqual(t)||ff("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Sx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ex=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new T_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new u_(this.firestore,null,t)}}]),n}(xx);var Tx=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ix=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return m(n,[{key:"exists",value:function(){return jo(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Cx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ix("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(nx),Cx=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jo(k(n.prototype),"data",this).call(this,e)}}]),n}(Ix),Ox=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tx(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Cx(n._firestore,n._userDataWriter,r.key,r,new Tx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gf(mf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Cx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Cx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Px(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Px(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pf()}}function Ax(e,t){return e instanceof Ix&&t instanceof Ix?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ox&&t instanceof Ox&&e._firestore===t._firestore&&h_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Rx=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new T_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new u_(this.firestore,null,t)}}]),n}(xx);function Nx(e){e=t_(e,u_);var t=t_(e.firestore,y_),n=m_(t),r=new Rx(t);return function(e,t){var n=new bf;return e.asyncQueue.enqueueAndForget(ri(ti().mark((function r(){return ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=yf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new gf(mf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ek(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ix(t,r,e._key,n,new Tx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Dx(e){e=t_(e,o_);var t=t_(e.firestore,y_),n=m_(t),r=new Rx(t);return ax(e._query),Gw(n,e._query).then((function(n){return new Ox(t,r,e,n)}))}function Lx(e){e=t_(e,o_);var t=t_(e.firestore,y_),n=m_(t),r=new Rx(t);return function(e,t){var n=new bf;return e.asyncQueue.enqueueAndForget(ri(ti().mark((function r(){return ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ri(ti().mark((function e(t,n,r){var i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pg(t,n,!0);case 3:i=e.sent,a=new kk(n,i.ls),o=a.ca(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ek(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ox(t,r,e,n)}))}function Mx(e){e=t_(e,o_);var t=t_(e.firestore,y_),n=m_(t),r=new Rx(t);return Gw(n,e._query,{source:"server"}).then((function(n){return new Ox(t,r,e,n)}))}function jx(e,t,n){e=t_(e,u_);var r=t_(e.firestore,y_),i=Sx(e.converter,t,n);return zx(r,[j_(M_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,uv.none())])}function Fx(e,t,n){e=t_(e,u_);for(var r=t_(e.firestore,y_),i=M_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return zx(r,[("string"==typeof(t=aa(t))||t instanceof I_?H_(i,"updateDoc",e._key,t,n,o):W_(i,"updateDoc",e._key,t)).toMutation(e._key,uv.exists(!0))])}function Ux(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=aa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||p_(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(p_(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof u_)l=t_(e.firestore,y_),f=vp(e._key.path),c={next:function(t){n[s]&&n[s](Bx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=t_(e,o_);l=t_(p.firestore,y_),f=p._query;var v=new Rx(l);c={next:function(e){n[s]&&n[s](new Ox(l,v,p,e))},error:n[s+1],complete:n[s+2]},ax(e._query)}return function(e,t,n,r){var i=new Ew(r),a=new dk(t,i,n);return e.asyncQueue.enqueueAndForget(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ok,t.next=3,Ww(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Na(),e.asyncQueue.enqueueAndForget(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sk,t.next=3,Ww(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(m_(l),f,h,c)}function Vx(e,t){return function(e,t){var n=new Ew(t);return e.asyncQueue.enqueueAndForget(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yf(e).q_.add(t),t.next()},t.next=3,Ww(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Na(),e.asyncQueue.enqueueAndForget(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yf(e).q_.delete(t)},t.next=3,Ww(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(m_(e=t_(e,y_)),p_(t)?t:{next:t})}function zx(e,t){return function(e,t){var n=new bf;return e.asyncQueue.enqueueAndForget(ri(ti().mark((function r(){return ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Pk,r.next=3,Bw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(m_(e),t)}function Bx(e,t,n){var r=n.docs.get(t._key),i=new Rx(e);return new Ix(e,i,t._key,r,new Tx(n.hasPendingWrites,n.fromCache),t.converter)}var qx={maxAttempts:5},Wx=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=M_(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Hx(e,this._firestore),i=Sx(r.converter,t,n),a=j_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,uv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Hx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=aa(t))||t instanceof I_?H_(this._dataReader,"WriteBatch.update",i._key,t,n,o):W_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,uv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Hx(e,this._firestore);return this._mutations=this._mutations.concat(new _v(t._key,uv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new gf(mf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Hx(e,t){if((e=aa(e)).firestore!==t)throw new gf(mf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Kx=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=Hx(e,this._firestore),i=new Rx(this._firestore);return jo(k(n.prototype),"get",this).call(this,e).then((function(e){return new Ix(t._firestore,i,r._key,e._document,new Tx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=M_(t)}return m(e,[{key:"get",value:function(e){var t=this,n=Hx(e,this._firestore),r=new Ex(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return pf();var i=e[0];if(i.isFoundDocument())return new nx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new nx(t._firestore,r,n._key,null,n.converter);throw pf()}))}},{key:"set",value:function(e,t,n){var r=Hx(e,this._firestore),i=Sx(r.converter,t,n),a=j_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Hx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=aa(t))||t instanceof I_?H_(this._dataReader,"Transaction.update",i._key,t,n,o):W_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Hx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Gx(e,t,n){e=t_(e,y_);var r=Object.assign(Object.assign({},qx),n);return function(e){if(e.maxAttempts<1)throw new gf(mf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new bf;return e.asyncQueue.enqueueAndForget(ri(ti().mark((function i(){var a;return ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,qw(e);case 2:a=i.sent,new Cw(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(m_(e),(function(n){return t(new Kx(e,n))}),r)}function Qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new z_("arrayUnion",t)}function $x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new B_("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){uf=e}(ro),Ya(new oa("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new y_(new xf(e.getProvider("auth-internal")),new If(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gf(mf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),co(af,"4.4.0",e),co(af,"4.4.0","esm2017")}();function Yx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Xx(){if("undefined"===typeof Uint8Array)throw new gf("unimplemented","Uint8Arrays are not available in this environment.")}function Jx(){if("undefined"==typeof atob)throw new gf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Zx=function(){function e(t){d(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return Jx(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Xx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Jx(),new e(T_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Xx(),new e(T_.fromUint8Array(t))}}]),e}();function eS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var tS=function(){function e(){d(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){E_(e=t_(e,y_));var n=m_(e);if(n._uninitializedComponentsProvider)throw new gf(mf.FAILED_PRECONDITION,"SDK cache is already specified.");hf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new xw;return b_(n,i,new ww(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){E_(e=t_(e,y_));var t=m_(e);if(t._uninitializedComponentsProvider)throw new gf(mf.FAILED_PRECONDITION,"SDK cache is already specified.");hf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new xw;return b_(t,r,new _w(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new gf(mf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new bf;return e._queue.enqueueAndForgetEvenWhileRestricted(ri(ti().mark((function n(){return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(th.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,th.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(pg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),nS=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ld||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return w_(this._delegate)}},{key:"disableNetwork",value:function(){return __(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Xw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return k_(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Vx(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new gf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new yS(this,c_(this._delegate,e))}catch(t){throw sS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new uS(this,l_(this._delegate,e))}catch(t){throw sS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new dS(this,function(e,t){if(e=t_(e,i_),Yw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gf(mf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new o_(e,null,function(e){return new dp(Mf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw sS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Gx(this._delegate,(function(n){return e(new iS(t,n))}))}},{key:"batch",value:function(){var e=this;return m_(this._delegate),new aS(new Wx(this._delegate,(function(t){return zx(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return x_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return S_(this._delegate,e).then((function(e){return e?new dS(t,e):null}))}}]),e}(),rS=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new Zx(new T_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return uS.forKey(t,this.firestore,null)}}]),n}(xx);var iS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new rS(t)}return m(e,[{key:"get",value:function(e){var t=this,n=mS(e);return this._delegate.get(n).then((function(e){return new fS(t._firestore,new Ix(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=mS(e);return n?(Yx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=mS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mS(e);return this._delegate.delete(t),this}}]),e}(),aS=function(){function e(t){d(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=mS(e);return n?(Yx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=mS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),oS=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new Cx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new rS(t),n),i.set(n,a)),a}}]),e}();oS.INSTANCES=new WeakMap;var uS=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rS(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new yS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new yS(this.firestore,c_(this._delegate,e))}catch(t){throw sS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=aa(e))instanceof u_&&f_(this._delegate,e)}},{key:"set",value:function(e,t){t=Yx("DocumentReference.set",t);try{return t?jx(this._delegate,e,t):jx(this._delegate,e)}catch(n){throw sS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Fx(this._delegate,e):Fx.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw sS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return zx(t_(e.firestore,y_),[new _v(e._key,uv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cS(n),a=lS(n,(function(t){return new fS(e.firestore,new Ix(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ux(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Nx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=t_(e,u_);var t=t_(e.firestore,y_);return Kw(m_(t),e._key,{source:"server"}).then((function(n){return Bx(t,e,n)}))}(this._delegate):function(e){e=t_(e,u_);var t=t_(e.firestore,y_);return Kw(m_(t),e._key).then((function(n){return Bx(t,e,n)}))}(this._delegate),t.then((function(e){return new fS(n.firestore,new Ix(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new gf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new u_(n._delegate,r,new Uf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new u_(n._delegate,r,t))}}]),e}();function sS(e,t,n){return e.message=e.message.replace(t,n),e}function cS(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!eS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function lS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=eS(e[0])?e[0]:eS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new uS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Ax(this._delegate,e._delegate)}}]),e}(),hS=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||pf()}(void 0!==t),t}}]),n}(fS),dS=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new rS(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,sx(this._delegate,function(e,t,n){var r=t,i=ix("where",e);return cx._create(i,r,n)}(t,n,r)))}catch(i){throw sS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,sx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ix("orderBy",e);return fx._create(n,t)}(t,n)))}catch(r){throw sS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,sx(this._delegate,function(e){return n_("limit",e),hx._create("limit",e,"F")}(t)))}catch(n){throw sS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,sx(this._delegate,function(e){return n_("limitToLast",e),hx._create("limitToLast",e,"L")}(t)))}catch(n){throw sS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,sx(this._delegate,px.apply(void 0,arguments)))}catch(t){throw sS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,sx(this._delegate,vx.apply(void 0,arguments)))}catch(t){throw sS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,sx(this._delegate,mx.apply(void 0,arguments)))}catch(t){throw sS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,sx(this._delegate,gx.apply(void 0,arguments)))}catch(t){throw sS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return h_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Lx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Mx(this._delegate):Dx(this._delegate)).then((function(e){return new vS(t.firestore,new Ox(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=cS(n),a=lS(n,(function(t){return new vS(e.firestore,new Ox(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ux(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(oS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),pS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new hS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),vS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new dS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new hS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new pS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Ax(this._delegate,e._delegate)}}]),e}(),yS=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new uS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new uS(this.firestore,void 0===e?l_(this._delegate):l_(this._delegate,e))}catch(t){throw sS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=t_(e.firestore,y_),r=l_(e),i=Sx(e.converter,t);return zx(n,[j_(M_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,uv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new uS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return f_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(oS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(dS);function mS(e){return t_(e,u_)}var gS,bS,kS=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(I_,n)}return m(e,[{key:"isEqual",value:function(e){return(e=aa(e))instanceof I_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ff.keyField().canonicalString())}}]),e}(),wS=function(){function e(t){d(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new V_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new F_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Qx.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=$x.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new q_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),_S={Firestore:nS,GeoPoint:O_,Timestamp:Nf,Blob:Zx,Transaction:iS,WriteBatch:aS,DocumentReference:uS,DocumentSnapshot:fS,Query:dS,QueryDocumentSnapshot:hS,QuerySnapshot:vS,CollectionReference:yS,FieldPath:kS,FieldValue:wS,setLogLevel:function(e){!function(e){sf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new oa("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},_S)))})(gS=Mo,(function(e,t){return new nS(e,t,new tS)})),gS.registerVersion("@firebase/firestore-compat","0.3.23");var xS={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},SS="EMAIL_SIGNIN",ES="PASSWORD_RESET",TS="RECOVER_EMAIL",IS="REVERT_SECOND_FACTOR_ADDITION",CS="VERIFY_AND_CHANGE_EMAIL",OS="VERIFY_EMAIL";function PS(){return ci({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var AS=function(){var e;return ci(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ci(e,"argument-error",""),ci(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ci(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ci(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ci(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ci(e,"cordova-not-ready","Cordova framework is not ready."),ci(e,"cors-unsupported","This browser is not supported."),ci(e,"credential-already-in-use","This credential is already associated with a different user account."),ci(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ci(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ci(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ci(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ci(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ci(e,"email-already-in-use","The email address is already in use by another account."),ci(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ci(e,"expired-action-code","The action code has expired."),ci(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ci(e,"internal-error","An internal AuthError has occurred."),ci(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ci(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ci(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ci(e,"invalid-auth-event","An internal AuthError has occurred."),ci(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ci(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ci(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ci(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ci(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ci(e,"invalid-email","The email address is badly formatted."),ci(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ci(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ci(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ci(e,"invalid-credential","The supplied auth credential is incorrect, malformed or has expired."),ci(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ci(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ci(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ci(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ci(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ci(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ci(e,"wrong-password","The password is invalid or the user does not have a password."),ci(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ci(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ci(e,"invalid-provider-id","The specified provider ID is invalid."),ci(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ci(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ci(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ci(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ci(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ci(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ci(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ci(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ci(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ci(e,"missing-continue-uri","A continue URL must be provided in the request."),ci(e,"missing-iframe-start","An internal AuthError has occurred."),ci(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ci(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ci(e,"missing-password","A non-empty password must be provided"),ci(e,"missing-multi-factor-info","No second factor identifier is provided."),ci(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ci(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ci(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ci(e,"app-deleted","This instance of FirebaseApp has been deleted."),ci(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ci(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ci(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ci(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ci(e,"no-auth-event","An internal AuthError has occurred."),ci(e,"no-such-provider","User was not linked to an account with the given provider."),ci(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ci(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ci(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ci(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ci(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ci(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ci(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ci(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ci(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ci(e,"rejected-credential","The request contains malformed or mismatching credentials."),ci(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ci(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ci(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ci(e,"timeout","The operation has timed out."),ci(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ci(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ci(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ci(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ci(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ci(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ci(e,"unverified-email","The operation requires a verified email."),ci(e,"user-cancelled","The user did not grant your application the permissions it requested."),ci(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ci(e,"user-disabled","The user account has been disabled by an administrator."),ci(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ci(e,"user-signed-out",""),ci(e,"weak-password","The password must be 6 characters long or more."),ci(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ci(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),ci(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),ci(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),ci(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),ci(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),ci(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),ci(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),ci(e,"invalid-req-type","Invalid request parameters."),ci(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),ci(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),ci(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},RS=PS,NS=new Gi("auth","Firebase",PS()),DS=new ga("@firebase/auth");function LS(e){if(DS.logLevel<=fa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];DS.warn.apply(DS,["Auth (".concat(ro,"): ").concat(e)].concat(n))}}function MS(e){if(DS.logLevel<=fa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];DS.error.apply(DS,["Auth (".concat(ro,"): ").concat(e)].concat(n))}}function jS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zS.apply(void 0,[e].concat(n))}function FS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zS.apply(void 0,[e].concat(n))}function US(e,t,n){var r=Object.assign(Object.assign({},RS()),ci({},t,n));return new Gi("auth","Firebase",r).create(t,{appName:e.name})}function VS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&jS(e,"argument-error"),US(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function zS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return NS.create.apply(NS,[e].concat(n))}function BS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw zS.apply(void 0,[t].concat(r))}}function qS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw MS(t),new Error(t)}function WS(e,t){e||qS(t)}function HS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function KS(){return"http:"===GS()||"https:"===GS()}function GS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var QS=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,WS(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vi())||qi()}return m(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(KS()||Bi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function $S(e,t){WS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var YS=function(){function e(){d(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void qS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void qS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void qS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),XS=(ci(bS={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ci(bS,"MISSING_CUSTOM_TOKEN","internal-error"),ci(bS,"INVALID_IDENTIFIER","invalid-email"),ci(bS,"MISSING_CONTINUE_URI","internal-error"),ci(bS,"INVALID_PASSWORD","wrong-password"),ci(bS,"MISSING_PASSWORD","missing-password"),ci(bS,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),ci(bS,"EMAIL_EXISTS","email-already-in-use"),ci(bS,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ci(bS,"INVALID_IDP_RESPONSE","invalid-credential"),ci(bS,"INVALID_PENDING_TOKEN","invalid-credential"),ci(bS,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ci(bS,"MISSING_REQ_TYPE","internal-error"),ci(bS,"EMAIL_NOT_FOUND","user-not-found"),ci(bS,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ci(bS,"EXPIRED_OOB_CODE","expired-action-code"),ci(bS,"INVALID_OOB_CODE","invalid-action-code"),ci(bS,"MISSING_OOB_CODE","internal-error"),ci(bS,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ci(bS,"INVALID_ID_TOKEN","invalid-user-token"),ci(bS,"TOKEN_EXPIRED","user-token-expired"),ci(bS,"USER_NOT_FOUND","user-token-expired"),ci(bS,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ci(bS,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),ci(bS,"INVALID_CODE","invalid-verification-code"),ci(bS,"INVALID_SESSION_INFO","invalid-verification-id"),ci(bS,"INVALID_TEMPORARY_PROOF","invalid-credential"),ci(bS,"MISSING_SESSION_INFO","missing-verification-id"),ci(bS,"SESSION_EXPIRED","code-expired"),ci(bS,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ci(bS,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ci(bS,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ci(bS,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ci(bS,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ci(bS,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ci(bS,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ci(bS,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ci(bS,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ci(bS,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ci(bS,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ci(bS,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),ci(bS,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),ci(bS,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),ci(bS,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),ci(bS,"MISSING_CLIENT_TYPE","missing-client-type"),ci(bS,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),ci(bS,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),ci(bS,"INVALID_REQ_TYPE","invalid-req-type"),bS),JS=new QS(3e4,6e4);function ZS(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function eE(e,t,n,r){return tE.apply(this,arguments)}function tE(){return tE=ri(ti().mark((function e(t,n,r,i){var a,o=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",nE(t,a,ri(ti().mark((function e(){var a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Zi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",YS.fetch()(oE(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t,n){return rE.apply(this,arguments)}function rE(){return rE=ri(ti().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},XS),n),e.prev=2,a=new sE(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw cE(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw cE(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw cE(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw cE(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw US(t,p,d);case 34:jS(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ki)){e.next=41;break}throw e.t0;case 41:jS(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),rE.apply(this,arguments)}function iE(e,t,n,r){return aE.apply(this,arguments)}function aE(){return aE=ri(ti().mark((function e(t,n,r,i){var a,o,u=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,eE(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&jS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$S(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function uE(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var sE=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(FS(n.auth,"network-request-failed"))}),JS.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function cE(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=FS(e,t,r);return i.customData._tokenResponse=n,i}function lE(e){return void 0!==e&&void 0!==e.getResponse}function fE(e){return void 0!==e&&void 0!==e.enterprise}var hE=function(){function e(t){if(d(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return m(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=I(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return uE(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function dE(e){return pE.apply(this,arguments)}function pE(){return pE=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return yE.apply(this,arguments)}function yE(){return yE=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"GET","/v2/recaptchaConfig",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function mE(e,t){return gE.apply(this,arguments)}function gE(){return gE=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function bE(e,t){return kE.apply(this,arguments)}function kE(){return kE=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function wE(e,t){return _E.apply(this,arguments)}function _E(){return _E=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function xE(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function SE(){return SE=ri(ti().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=aa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,BS((a=TE(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:xE(EE(a.auth_time)),issuedAtTime:xE(EE(a.iat)),expirationTime:xE(EE(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function EE(e){return 1e3*Number(e)}function TE(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return MS("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ni(r);return a?JSON.parse(a):(MS("Failed to decode base64 JWT payload"),null)}catch(o){return MS("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function IE(e,t){return CE.apply(this,arguments)}function CE(){return CE=ri(ti().mark((function e(t,n){var r=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ki&&OE(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),CE.apply(this,arguments)}function OE(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var PE=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),AE=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=xE(this.lastLoginAt),this.creationTime=xE(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function RE(e){return NE.apply(this,arguments)}function NE(){return NE=ri(ti().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,IE(t,wE(r,{idToken:i}));case 6:BS(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Je(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=LE(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new AE(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function DE(){return(DE=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=aa(t),e.next=3,RE(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LE(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function ME(e,t){return jE.apply(this,arguments)}function jE(){return jE=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nE(t,{},ri(ti().mark((function e(){var r,i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=oE(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",YS.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function FE(e,t){return UE.apply(this,arguments)}function UE(){return UE=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v2/accounts:revokeToken",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}var VE=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){BS(e.idToken,"internal-error"),BS("undefined"!==typeof e.idToken,"internal-error"),BS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=TE(e);return BS(t,"internal-error"),BS("undefined"!==typeof t.exp,"internal-error"),BS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ri(ti().mark((function e(t){var n,r=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],BS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ME(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return qS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(BS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(BS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(BS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function zE(e,t){BS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var BE=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Je(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new AE(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IE(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(BS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return SE.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return DE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(BS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){BS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ri(ti().mark((function e(t){var n,r,i=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,RE(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,IE(this,mE(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;BS(b&&x,t,"internal-error");var S=VE.fromJSON(this.name,x);BS("string"===typeof b,t,"internal-error"),zE(f,t.name),zE(h,t.name),BS("boolean"===typeof k,t,"internal-error"),BS("boolean"===typeof w,t,"internal-error"),zE(d,t.name),zE(p,t.name),zE(v,t.name),zE(y,t.name),zE(m,t.name),zE(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=ri(ti().mark((function t(n,r){var i,a,o,u=arguments;return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new VE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,RE(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),qE=new Map;function WE(e){WS(e instanceof Function,"Expected a class definition");var t=qE.get(e);return t?(WS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qE.set(e,t),t)}var HE=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();HE.type="NONE";var KE=HE;function GE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var QE=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=GE(this.userKey,a.apiKey,o),this.fullPersistenceKey=GE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?BE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ri(ti().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(WE(KE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||WE(KE),u=GE(i,n.config.apiKey,n.name),s=null,c=I(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=BE._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $E(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(YE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tT(t))return"Blackberry";if(nT(t))return"Webos";if(XE(t))return"Safari";if((t.includes("chrome/")||JE(t))&&!t.includes("edge/"))return"Chrome";if(eT(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function YE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/firefox\//i.test(e)}function XE(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/crios\//i.test(e)}function ZE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/iemobile/i.test(e)}function eT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/android/i.test(e)}function tT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/blackberry/i.test(e)}function nT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/webos/i.test(e)}function rT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function iT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return rT(e)||eT(e)||nT(e)||tT(e)||/windows phone/i.test(e)||ZE(e)}function aT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$E(Vi());break;case"Worker":t="".concat($E(Vi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ro,"/").concat(r)}var oT=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ri(ti().mark((function e(t){var n,r,i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=I(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=I(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(ln){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function uT(e){return sT.apply(this,arguments)}function sT(){return sT=ri(ti().mark((function e(t){var n,r=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",eE(t,"GET","/v2/passwordPolicy",ZS(t,n)));case 2:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}var cT=function(){function e(t){var n,r,i,a;d(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return m(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),lT=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hT(this),this.idTokenSubscription=new hT(this),this.beforeStateQueue=new oT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=WE(t)),this._initializationPromise=this.queue(ri(ti().mark((function r(){var i,a;return ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,QE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ri(ti().mark((function e(t){var n,r,i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return BS(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RE(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?aa(t):null)&&BS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ri(ti().mark((function e(t){var n,r=this,i=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&BS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ri(ti().mark((function n(){return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(WE(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=ri(ti().mark((function e(){var t,n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uT(this);case 2:t=e.sent,n=new cT(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Gi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,FE(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return BS(n=t&&WE(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,QE.create(this,[WE(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ri(ti().mark((function e(t){var n=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(BS(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return BS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ci({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ri(ti().mark((function e(){var t,n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&LS("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fT(e){return aa(e)}var hT=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=na((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return BS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function dT(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=FS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function pT(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vT=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=fT(t)}return m(e,[{key:"verify",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;fE(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ri(ti().mark((function e(n,r){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vE(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new hE(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&fE(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));dT("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yT(e,t,n){return mT.apply(this,arguments)}function mT(){return mT=ri(ti().mark((function e(t,n,r){var i,a,o,u,s=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new vT(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),mT.apply(this,arguments)}function gT(e,t,n,r){return bT.apply(this,arguments)}function bT(){return bT=ri(ti().mark((function e(t,n,r,i){var a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,yT(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=ri(ti().mark((function e(a){var o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,yT(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function kT(e,t,n){var r=fT(e);BS(r._canInitEmulator,r,"emulator-config-failed"),BS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=wT(t),o=function(e){var t=wT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:_T(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:_T(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wT(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _T(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var xT=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return qS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return qS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return qS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return qS("not implemented")}}]),e}();function ST(e,t){return ET.apply(this,arguments)}function ET(){return ET=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:resetPassword",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function TT(e,t){return IT.apply(this,arguments)}function IT(){return IT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function CT(e,t){return OT.apply(this,arguments)}function OT(){return OT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function PT(e,t){return AT.apply(this,arguments)}function AT(){return AT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:update",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function RT(e,t){return NT.apply(this,arguments)}function NT(){return NT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iE(t,"POST","/v1/accounts:signInWithPassword",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function DT(e,t){return LT.apply(this,arguments)}function LT(){return LT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:sendOobCode",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e,t){return jT.apply(this,arguments)}function jT(){return jT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DT(t,n));case 1:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function FT(e,t){return UT.apply(this,arguments)}function UT(){return UT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DT(t,n));case 1:case"end":return e.stop()}}),e)}))),UT.apply(this,arguments)}function VT(e,t){return zT.apply(this,arguments)}function zT(){return zT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DT(t,n));case 1:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function BT(e,t){return qT.apply(this,arguments)}function qT(){return qT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DT(t,n));case 1:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function WT(e,t){return HT.apply(this,arguments)}function HT(){return HT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iE(t,"POST","/v1/accounts:signInWithEmailLink",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}function KT(e,t){return GT.apply(this,arguments)}function GT(){return GT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iE(t,"POST","/v1/accounts:signInWithEmailLink",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}var QT=function(e){b(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",gT(t,n,"signInWithPassword",RT));case 5:return e.abrupt("return",WT(t,{email:this._email,oobCode:this._password}));case 6:jS(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",gT(t,r,"signUpPassword",CT));case 5:return e.abrupt("return",KT(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:jS(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(xT);function $T(e,t){return YT.apply(this,arguments)}function YT(){return YT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iE(t,"POST","/v1/accounts:signInWithIdp",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}var XT=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return $T(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$T(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$T(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Je(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(xT);function JT(e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:sendVerificationCode",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eI(){return eI=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iE(t,"POST","/v1/accounts:signInWithPhoneNumber",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(){return tI=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iE(t,"POST","/v1/accounts:signInWithPhoneNumber",ZS(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw cE(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}var nI=ci({},"USER_NOT_FOUND","user-not-found");function rI(){return rI=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",iE(t,"POST","/v1/accounts:signInWithPhoneNumber",ZS(t,r),nI));case 2:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}var iI=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return eI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return tI.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return rI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(xT);var aI=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=ea(ta(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);BS(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ea(ta(e)).link,n=t?ea(ta(t)).deep_link_id:null,r=ea(ta(e)).deep_link_id;return(r?ea(ta(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var oI=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return QT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=aI.parseLink(t);return BS(n,"argument-error"),QT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();oI.PROVIDER_ID="password",oI.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var uI=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),sI=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(uI),cI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return BS(e.idToken||e.accessToken,"argument-error"),XT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return BS("providerId"in t&&"signInMethod"in t,"argument-error"),XT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(sI),lI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return XT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(sI);lI.FACEBOOK_SIGN_IN_METHOD="facebook.com",lI.PROVIDER_ID="facebook.com";var fI=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return XT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(sI);fI.GOOGLE_SIGN_IN_METHOD="google.com",fI.PROVIDER_ID="google.com";var hI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return XT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(sI);hI.GITHUB_SIGN_IN_METHOD="github.com",hI.PROVIDER_ID="github.com";var dI=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return m(n,[{key:"_getIdTokenResponse",value:function(e){return $T(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$T(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$T(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xT),pI=function(e){b(n,e);var t=x(n);function n(e){return d(this,n),BS(e.startsWith("saml."),"argument-error"),t.call(this,e)}return m(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=dI.fromJSON(e);return BS(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return dI._create(r,n)}catch(i){return null}}}]),n}(uI),vI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return XT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(sI);function yI(e,t){return mI.apply(this,arguments)}function mI(){return mI=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iE(t,"POST","/v1/accounts:signUp",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}vI.TWITTER_SIGN_IN_METHOD="twitter.com",vI.PROVIDER_ID="twitter.com";var gI=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ri(ti().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,BE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=bI(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ri(ti().mark((function t(n,r,i){var a;return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=bI(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function bI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function kI(){return kI=ri(ti().mark((function e(t){var n,r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fT(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gI({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yI(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gI._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}var wI=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ki);function _I(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw wI._fromErrorAndOperation(e,n,t,r);throw n}))}function xI(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function SI(e,t){return EI.apply(this,arguments)}function EI(){return EI=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=aa(t),e.next=3,CI(!0,r,n);case 3:return e.t0=bE,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=xI(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function TI(e,t){return II.apply(this,arguments)}function II(){return II=ri(ti().mark((function e(t,n){var r,i,a=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=IE,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gI._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function CI(e,t,n){return OI.apply(this,arguments)}function OI(){return OI=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RE(n);case 2:i=xI(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",BS(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function PI(e,t){return AI.apply(this,arguments)}function AI(){return AI=ri(ti().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,IE(t,_I(i,a,n,t),r);case 6:return BS((o=e.sent).idToken,i,"internal-error"),BS(u=TE(o.idToken),i,"internal-error"),s=u.sub,BS(t.uid===s,i,"user-mismatch"),e.abrupt("return",gI._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&jS(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),AI.apply(this,arguments)}function RI(e,t){return NI.apply(this,arguments)}function NI(){return NI=ri(ti().mark((function e(t,n){var r,i,a,o,u=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,_I(t,i,n);case 4:return a=e.sent,e.next=7,gI._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function DI(e,t){return LI.apply(this,arguments)}function LI(){return LI=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RI(fT(t),n));case 1:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t){return jI.apply(this,arguments)}function jI(){return(jI=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=aa(t),e.next=3,CI(!1,r,n.providerId);case 3:return e.abrupt("return",TI(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FI(e,t){return UI.apply(this,arguments)}function UI(){return(UI=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PI(aa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VI(e,t){return zI.apply(this,arguments)}function zI(){return zI=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iE(t,"POST","/v1/accounts:signInWithCustomToken",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function BI(){return BI=ri(ti().mark((function e(t,n){var r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fT(t),e.next=3,VI(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gI._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}var qI=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return m(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?WI._fromServerResponse(e,t):"totpInfo"in t?HI._fromServerResponse(e,t):jS(e,"internal-error")}}]),e}(),WI=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qI),HI=function(e){b(n,e);var t=x(n);function n(e){return d(this,n),t.call(this,"totp",e)}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qI);function KI(e,t,n){var r;BS((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),BS("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(BS(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(BS(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function GI(e){return QI.apply(this,arguments)}function QI(){return QI=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=fT(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function $I(){return $I=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fT(t),a={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},r&&KI(i,a,r),e.next=5,gT(i,a,"getOobCode",FT);case 5:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function YI(){return YI=ri(ti().mark((function e(t,n,r){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ST(aa(t),{oobCode:n,newPassword:r}).catch(function(){var e=ri(ti().mark((function e(n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&GI(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function XI(){return XI=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PT(aa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=aa(t),e.next=3,ST(r,{oobCode:n});case 3:i=e.sent,BS(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return BS(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:BS(i.mfaInfo,r,"internal-error");case 13:BS(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=qI._fromServerResponse(fT(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eC(){return eC=ri(ti().mark((function e(t,n){var r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JI(aa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e,t,n){return nC.apply(this,arguments)}function nC(){return nC=ri(ti().mark((function e(t,n,r){var i,a,o,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fT(t),a=gT(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yI),e.next=5,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&GI(t),e}));case 5:return o=e.sent,e.next=8,gI._fromIdTokenResponse(i,"signIn",o);case 8:return u=e.sent,e.next=11,i._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(){return rC=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){BS(t.handleCodeInApp,i,"argument-error"),t&&KI(i,e,t)},i=fT(t),o(a={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},r),e.next=6,gT(i,a,"getOobCode",VT);case 6:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(){return iC=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=aa(t),BS((a=oI.credentialWithLink(n,r||HS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",DI(i,a));case 4:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:createAuthUri",ZS(t,n)));case 1:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function uC(){return uC=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=KS()?HS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,aC(aa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(){return(sC=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=aa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&KI(r.auth,a,n),e.next=8,MT(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cC(){return(cC=ri(ti().mark((function e(t,n,r){var i,a,o,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=aa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&KI(i.auth,o,r),e.next=8,BT(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lC(e,t){return fC.apply(this,arguments)}function fC(){return fC=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fC.apply(this,arguments)}function hC(){return(hC=ri(ti().mark((function e(t,n){var r,i,a,o,u,s,c;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=aa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,IE(a,lC(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dC(e,t,n){return pC.apply(this,arguments)}function pC(){return pC=ri(ti().mark((function e(t,n,r){var i,a,o,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,IE(t,TT(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}var vC=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),yC=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return m(n)}(vC),mC=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return m(n)}(vC),gC=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return m(n)}(yC),bC=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return m(n)}(vC),kC=function(e){b(n,e);var t=x(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return m(n)}(yC);function wC(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=TE(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new vC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new mC(a,i);case"github.com":return new gC(a,i);case"google.com":return new bC(a,i);case"twitter.com":return new kC(a,i,e.screenName||null);case"custom":case"anonymous":return new vC(a,null);default:return new vC(a,r,i)}}(n)}var _C=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return m(e,[{key:"toJSON",value:function(){return{multiFactorSession:ci({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),xC=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return m(e,[{key:"resolveSignIn",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=fT(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return qI._fromServerResponse(r,e)}));BS(i.mfaPendingCredential,r,"internal-error");var o=_C._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ri(ti().mark((function e(t){var a,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gI._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return BS(n.user,r,"internal-error"),e.abrupt("return",gI._forOperation(n.user,n.operationType,u));case 17:jS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function SC(e,t){return eE(e,"POST","/v2/accounts/mfaEnrollment:start",ZS(e,t))}function EC(e,t){return eE(e,"POST","/v2/accounts/mfaEnrollment:start",ZS(e,t))}function TC(e,t){return eE(e,"POST","/v2/accounts/mfaEnrollment:finalize",ZS(e,t))}function IC(e,t){return eE(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ZS(e,t))}var CC=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return qI._fromServerResponse(t.auth,e)})))}))}return m(e,[{key:"getSession",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_C,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ri(ti().mark((function e(t,n){var r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,IE(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ri(ti().mark((function e(t){var n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,IE(this.user,IC(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),OC=new WeakMap;var PC="__sak",AC=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(PC,"1"),this.storage.removeItem(PC),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var RC=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Vi();return XE(e)||rT(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=iT(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wi()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ri(ti().mark((function e(t,r){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ri(ti().mark((function e(t){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(AC);RC.type="LOCAL";var NC=RC,DC=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(AC);DC.type="SESSION";var LC=DC;function MC(e){return Promise.all(e.map(function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var jC=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ri(ti().mark((function e(t){var n,r,i,a,o,u,s,c;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,MC(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function FC(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jC.receivers=[];var UC=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ri(ti().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=FC("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function VC(){return window}function zC(e){VC().location.href=e}function BC(){return"undefined"!==typeof VC().WorkerGlobalScope&&"function"===typeof VC().importScripts}function qC(){return WC.apply(this,arguments)}function WC(){return(WC=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function HC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var KC="firebaseLocalStorageDb",GC="firebaseLocalStorage",QC="fbase_key",$C=function(){function e(t){d(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function YC(e,t){return e.transaction([GC],t?"readwrite":"readonly").objectStore(GC)}function XC(){var e=indexedDB.deleteDatabase(KC);return new $C(e).toPromise()}function JC(){var e=indexedDB.open(KC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(GC,{keyPath:QC})}catch(r){n(r)}})),e.addEventListener("success",ri(ti().mark((function n(){var r;return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(GC)){n.next=12;break}return r.close(),n.next=5,XC();case 5:return n.t0=t,n.next=8,JC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ZC(e,t,n){return eO.apply(this,arguments)}function eO(){return eO=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=YC(t,!0).put((ci(i={},QC,n),ci(i,"value",r),i)),e.abrupt("return",new $C(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),eO.apply(this,arguments)}function tO(e,t){return nO.apply(this,arguments)}function nO(){return nO=ri(ti().mark((function e(t,n){var r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YC(t,!1).get(n),e.next=3,new $C(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),nO.apply(this,arguments)}function rO(e,t){var n=YC(e,!0).delete(t);return new $C(n).toPromise()}var iO=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,JC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BC()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ri(ti().mark((function e(){var t=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=jC._getInstance(BC()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ri(ti().mark((function e(n,r){var i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ri(ti().mark((function e(){var t,n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new UC(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&HC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,JC();case 5:return t=e.sent,e.next=8,ZC(t,PC,"1");case 8:return e.next=10,rO(t,PC);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ri(ti().mark((function e(t,n){var r=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ZC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return tO(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ri(ti().mark((function e(t){var n=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rO(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=YC(e,!1).getAll();return new $C(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=I(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ri(ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();iO.type="LOCAL";var aO=iO;function oO(e,t){return eE(e,"POST","/v2/accounts/mfaSignIn:start",ZS(e,t))}function uO(e,t){return eE(e,"POST","/v2/accounts/mfaSignIn:finalize",ZS(e,t))}var sO=1e12,cO=function(){function e(t){d(this,e),this.auth=t,this.counter=sO,this._widgets=new Map}return m(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new lO(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||sO;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||sO;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||sO,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lO=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;BS(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return m(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var fO=pT("rcb"),hO=new QS(3e4,6e4),dO=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=VC().grecaptcha)||void 0===t?void 0:t.render)}return m(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return BS(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&lE(VC().grecaptcha)?Promise.resolve(VC().grecaptcha):new Promise((function(r,i){var a=VC().setTimeout((function(){i(FS(e,"network-request-failed"))}),hO.get());VC()[fO]=function(){VC().clearTimeout(a),delete VC()[fO];var o=VC().grecaptcha;if(o&&lE(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(FS(e,"internal-error"))},dT("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Zi({onload:fO,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(FS(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=VC().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var pO=function(){function e(){d(this,e)}return m(e,[{key:"load",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new cO(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),vO="recaptcha",yO={theme:"light",type:"image"},mO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},yO);d(this,e),this.parameters=r,this.type=vO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fT(t),this.isInvisible="invisible"===this.parameters.size,BS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;BS(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pO:new dO,this.validateStartingState()}return m(e,[{key:"verify",value:function(){var e=ri(ti().mark((function e(){var t,n,r,i=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){BS(!this.parameters.sitekey,this.auth,"argument-error"),BS(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),BS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=VC()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){BS(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ri(ti().mark((function e(){var t,n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BS(KS()&&!BC(),this.auth,"internal-error"),e.next=3,gO();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,dE(this.auth);case 8:BS(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return BS(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function gO(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var bO=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return m(e,[{key:"confirm",value:function(e){var t=iI._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function kO(){return kO=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fT(t),e.next=3,SO(i,n,aa(r));case 3:return a=e.sent,e.abrupt("return",new bO(a,(function(e){return DI(i,e)})));case 5:case"end":return e.stop()}}),e)}))),kO.apply(this,arguments)}function wO(e,t,n){return _O.apply(this,arguments)}function _O(){return(_O=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=aa(t),e.next=3,CI(!1,i,"phone");case 3:return e.next=5,SO(i.auth,n,aa(r));case 5:return a=e.sent,e.abrupt("return",new bO(a,(function(e){return MI(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xO(){return(xO=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=aa(t),e.next=3,SO(i.auth,n,aa(r));case 3:return a=e.sent,e.abrupt("return",new bO(a,(function(e){return FI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SO(e,t,n){return EO.apply(this,arguments)}function EO(){return EO=ri(ti().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,BS("string"===typeof a,t,"argument-error"),BS(r.type===vO,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return BS("enroll"===u.type,t,"internal-error"),e.next=13,SC(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return BS("signin"===u.type,t,"internal-error"),BS(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,oO(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,JT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),EO.apply(this,arguments)}function TO(){return(TO=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TI(aa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var IO=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=fT(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return SO(this.auth,e,aa(t))}}],[{key:"credential",value:function(e,t){return iI._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?iI._fromTokenResponse(n,r):null}}]),e}();function CO(e,t){return t?WE(t):(BS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}IO.PROVIDER_ID="phone",IO.PHONE_SIGN_IN_METHOD="phone";var OO=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return $T(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return $T(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return $T(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(xT);function PO(e){return RI(e.auth,new OO(e),e.bypassAuthState)}function AO(e){var t=e.auth,n=e.user;return BS(n,t,"internal-error"),PI(n,new OO(e),e.bypassAuthState)}function RO(e){return NO.apply(this,arguments)}function NO(){return NO=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,BS(r=t.user,n,"internal-error"),e.abrupt("return",TI(r,new OO(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}var DO=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ri(ti().mark((function t(n,r){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ri(ti().mark((function e(t){var n,r,i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PO;case"linkViaPopup":case"linkViaRedirect":return RO;case"reauthViaPopup":case"reauthViaRedirect":return AO;default:jS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){WS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){WS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),LO=new QS(2e3,1e4);function MO(e,t,n){return jO.apply(this,arguments)}function jO(){return jO=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fT(t),VS(t,n,uI),a=CO(i,r),o=new zO(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),jO.apply(this,arguments)}function FO(){return FO=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VS((i=aa(t)).auth,n,uI),a=CO(i.auth,r),o=new zO(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}function UO(e,t,n){return VO.apply(this,arguments)}function VO(){return VO=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VS((i=aa(t)).auth,n,uI),a=CO(i.auth,r),o=new zO(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}var zO=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o){var u;return d(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(u),u}return m(n,[{key:"executeNotNull",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return BS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ri(ti().mark((function e(){var t,n=this;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return WS(1===this.filter.length,"Popup operations only handle one event"),t=FC(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(FS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(FS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(FS(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,LO.get())}()}}]),n}(DO);zO.currentPopupAction=null;var BO="pendingRedirect",qO=new Map,WO=function(e){b(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=ri(ti().mark((function e(){var t,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qO.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,HO(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,jo(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:qO.set(this.auth._key(),t);case 21:return this.bypassAuthState||qO.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ri(ti().mark((function e(t){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",jo(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",jo(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(DO);function HO(e,t){return KO.apply(this,arguments)}function KO(){return KO=ri(ti().mark((function e(t,n){var r,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XO(n),i=YO(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),KO.apply(this,arguments)}function GO(e,t){return QO.apply(this,arguments)}function QO(){return QO=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YO(t)._set(XO(n),"true"));case 1:case"end":return e.stop()}}),e)}))),QO.apply(this,arguments)}function $O(e,t){qO.set(e._key(),t)}function YO(e){return WE(e._redirectPersistence)}function XO(e){return GE(BO,e.config.apiKey,e.name)}function JO(e,t,n){return function(e,t,n){return ZO.apply(this,arguments)}(e,t,n)}function ZO(){return ZO=ri(ti().mark((function e(t,n,r){var i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fT(t),VS(t,n,uI),e.next=4,i._initializationPromise;case 4:return a=CO(i,r),e.next=7,GO(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),ZO.apply(this,arguments)}function eP(e,t,n){return function(e,t,n){return tP.apply(this,arguments)}(e,t,n)}function tP(){return tP=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VS((i=aa(t)).auth,n,uI),e.next=4,i.auth._initializationPromise;case 4:return a=CO(i.auth,r),e.next=7,GO(a,i.auth);case 7:return e.next=9,sP(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),tP.apply(this,arguments)}function nP(e,t,n){return function(e,t,n){return rP.apply(this,arguments)}(e,t,n)}function rP(){return rP=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VS((i=aa(t)).auth,n,uI),e.next=4,i.auth._initializationPromise;case 4:return a=CO(i.auth,r),e.next=7,CI(!1,i,n.providerId);case 7:return e.next=9,GO(a,i.auth);case 9:return e.next=11,sP(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),rP.apply(this,arguments)}function iP(e,t){return aP.apply(this,arguments)}function aP(){return aP=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fT(t)._initializationPromise;case 2:return e.abrupt("return",oP(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),aP.apply(this,arguments)}function oP(e,t){return uP.apply(this,arguments)}function uP(){return uP=ri(ti().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=fT(t),a=CO(i,n),o=new WO(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),uP.apply(this,arguments)}function sP(e){return cP.apply(this,arguments)}function cP(){return(cP=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FC("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lP=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!hP(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(FS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fP(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(fP(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function fP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function hP(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function dP(e){return pP.apply(this,arguments)}function pP(){return pP=ri(ti().mark((function e(t){var n,r=arguments;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",eE(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pP.apply(this,arguments)}var vP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;function mP(){return mP=ri(ti().mark((function e(t){var n,r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dP(t);case 4:n=e.sent,r=n.authorizedDomains,i=I(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!gP(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:jS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),mP.apply(this,arguments)}function gP(e){var t=HS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!yP.test(r))return!1;if(vP.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var bP=new QS(3e4,6e4);function kP(){var e=VC().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var wP=null;function _P(e){return wP=wP||function(e){return new Promise((function(t,n){var r,i,a;function o(){kP(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){kP(),n(FS(e,"network-request-failed"))},timeout:bP.get()})}if(null===(i=null===(r=VC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=VC().gapi)||void 0===a?void 0:a.load)){var u=pT("iframefcb");return VC()[u]=function(){gapi.load?o():n(FS(e,"network-request-failed"))},dT("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw wP=null,e}))}(e),wP}var xP=new QS(5e3,15e3),SP="__/auth/iframe",EP="emulator/auth/iframe",TP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CP(e){var t=e.config;BS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$S(t,EP):"https://".concat(e.config.authDomain,"/").concat(SP),r={apiKey:t.apiKey,appName:e.name,v:ro},i=IP.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Zi(r).slice(1))}function OP(e){return PP.apply(this,arguments)}function PP(){return PP=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_P(t);case 2:return n=e.sent,BS(r=VC().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:CP(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TP,dontclear:!0},(function(e){return new Promise(function(){var n=ri(ti().mark((function n(r,i){var a,o,u;return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){VC().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=FS(t,"network-request-failed"),o=VC().setTimeout((function(){i(a)}),xP.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),PP.apply(this,arguments)}var AP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RP=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function NP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},AP),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Vi().toLowerCase();n&&(u=JE(c)?"_blank":n),YE(c)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return rT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new RP(null);var h=window.open(t||"",u,f);BS(h,e,"popup-blocked");try{h.focus()}catch(d){}return new RP(h)}var DP="__/auth/handler",LP="emulator/auth/handler",MP=encodeURIComponent("fac");function jP(e,t,n,r,i,a){return FP.apply(this,arguments)}function FP(){return FP=ri(ti().mark((function e(t,n,r,i,a,o){var u,s,c,f,h,d,p,v,y,m,g,b,k;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(BS(t.config.authDomain,t,"auth-domain-config-required"),BS(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:ro,eventId:a},n instanceof uI)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Yi(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)f=l(c[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof sI&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,y=0,m=Object.keys(v);y<m.length;y++)g=m[y],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(MP,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(UP(t),"?").concat(Zi(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),FP.apply(this,arguments)}function UP(e){var t=e.config;return t.emulator?$S(t,LP):"https://".concat(t.authDomain,"/").concat(DP)}var VP="webStorageSupport",zP=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LC,this._completeRedirectFn=oP,this._overrideRedirectResult=$O}return m(e,[{key:"_openPopup",value:function(){var e=ri(ti().mark((function e(t,n,r,i){var a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return WS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,jP(t,n,r,HS(),i);case 3:return o=e.sent,e.abrupt("return",NP(t,o,FC()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ri(ti().mark((function e(t,n,r,i){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,jP(t,n,r,HS(),i);case 4:return zC(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(WS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OP(t);case 2:return n=e.sent,r=new lP(t),n.register("authEvent",(function(e){return BS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(VP,{type:VP},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[VP];void 0!==i&&t(!!i),jS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mP.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return iT()||XE()||rT()}}]),e}(),BP=zP,qP=function(){function e(t){d(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return qS("unexpected MultiFactorSessionType")}}}]),e}(),WP=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return eE(e,"POST","/v2/accounts/mfaEnrollment:finalize",ZS(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return eE(e,"POST","/v2/accounts/mfaSignIn:finalize",ZS(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(qP),HP=function(){function e(){d(this,e)}return m(e,null,[{key:"assertion",value:function(e){return WP._fromCredential(e)}}]),e}();HP.FACTOR_ID="phone";var KP=function(){function e(){d(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return GP._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return GP._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ri(ti().mark((function e(t){var n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BS("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,EC(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",QP._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();KP.FACTOR_ID="totp";var GP=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=ri(ti().mark((function e(t,n,r){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BS("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",TC(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BS(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",uO(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(qP),QP=function(){function e(t,n,r,i,a,o,u){d(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return($P(e)||$P(t))&&(r=!0),r&&($P(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),$P(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function $P(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var YP="@firebase/auth",XP="1.5.0",JP=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){BS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ZP;!function(e){var t;null===(t=Mi())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function eA(){return window}ZP="Browser",Ya(new oa("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;BS(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:ZP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(ZP)},l=new lT(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(WE);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ya(new oa("auth-internal",(function(e){return function(e){return new JP(e)}(fT(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),co(YP,XP,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ZP)),co(YP,XP,"esm2017");var tA=2e3;function nA(e,t,n){return rA.apply(this,arguments)}function rA(){return rA=ri(ti().mark((function e(t,n,r){var i,a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=eA(),o=a.BuildInfo,WS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cA(n.sessionId);case 4:return u=e.sent,s={},rT()?s.ibi=o.packageName:eT()?s.apn=o.packageName:jS(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",jP(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(){return iA=ri(ti().mark((function e(t){var n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eA(),r=n.BuildInfo,i={},rT()?i.iosBundleId=r.packageName:eT()?i.androidPackageName=r.packageName:jS(t,"operation-not-supported-in-this-environment"),e.next=5,dP(t,i);case 5:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e){var t=eA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function oA(e,t,n){return uA.apply(this,arguments)}function uA(){return uA=ri(ti().mark((function e(t,n,r){var i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(FS(t,"redirect-cancelled-by-user"))}),tA))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),eT()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),uA.apply(this,arguments)}function sA(e){var t,n,r,i,a,o,u,s,c,l,f=eA();BS("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),BS("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),BS("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),BS("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),BS("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cA(e){return lA.apply(this,arguments)}function lA(){return(lA=ri(ti().mark((function e(t){var n,r,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fA(e){if(WS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hA=20,dA=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return m(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),jo(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(lP);function pA(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:bA(),postBody:null,tenantId:e.tenantId,error:FS(e,"no-auth-event")}}function vA(e,t){return kA()._set(wA(e),t)}function yA(e){return mA.apply(this,arguments)}function mA(){return mA=ri(ti().mark((function e(t){var n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kA()._get(wA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kA()._remove(wA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function gA(e,t){var n,r,i=function(e){var t=_A(e),n=t.link?decodeURIComponent(t.link):void 0,r=_A(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return _A(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=_A(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?FS(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function bA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<hA;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function kA(){return WE(NC)}function wA(e){return GE("authEvent",e.config.apiKey,e.name)}function _A(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return ea(t.slice(1).join("?"))}var xA=function(){function e(){d(this,e),this._redirectPersistence=LC,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oP,this._overrideRedirectResult=$O}return m(e,[{key:"_initialize",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new dA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){jS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ri(ti().mark((function e(t,n,r,i){var a,o,u,s;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),qO.clear(),e.next=10,this._originValidation(t);case 10:return o=pA(t,r,i),e.next=13,vA(t,o);case 13:return e.next=15,nA(t,o,n);case 15:return u=e.sent,e.next=18,aA(u);case 18:return s=e.sent,e.abrupt("return",oA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return iA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=eA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ri(ti().mark((function n(){return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,yA(e);case 2:t.onEvent(EA());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ri(ti().mark((function n(r){var i,a;return ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,yA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=gA(i,r.url)),t.onEvent(a||EA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");eA().handleOpenURL=function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),SA=xA;function EA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:FS("no-auth-event")}}var TA=1e3;function IA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function CA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return!("file:"!==IA()&&"ionic:"!==IA()&&"capacitor:"!==IA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function OA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return Wi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi();return/Edge\/\d+/.test(e)}(e)}function PA(){try{var e=self.localStorage,t=FC();if(e)return e.setItem(t,"1"),e.removeItem(t),!OA()||Hi()}catch(n){return AA()&&Hi()}return!1}function AA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function RA(){return("http:"===IA()||"https:"===IA()||Bi()||CA())&&!(qi()||zi())&&PA()&&!AA()}function NA(){return CA()&&"undefined"!==typeof document}function DA(){return LA.apply(this,arguments)}function LA(){return(LA=ri(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(NA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),TA);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MA={LOCAL:"local",NONE:"none",SESSION:"session"},jA=BS,FA="persistence";function UA(e,t){jA(Object.values(MA).includes(t),e,"invalid-persistence-type"),qi()?jA(t!==MA.SESSION,e,"unsupported-persistence-type"):zi()?jA(t===MA.NONE,e,"unsupported-persistence-type"):AA()?jA(t===MA.NONE||t===MA.LOCAL&&Hi(),e,"unsupported-persistence-type"):jA(t===MA.NONE||PA(),e,"unsupported-persistence-type")}function VA(e){return zA.apply(this,arguments)}function zA(){return zA=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=BA(),r=GE(FA,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function BA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var qA=BS,WA=function(){function e(){d(this,e),this.browserResolver=WE(BP),this.cordovaResolver=WE(SA),this.underlyingResolver=null,this._redirectPersistence=LC,this._completeRedirectFn=oP,this._overrideRedirectResult=$O}return m(e,[{key:"_initialize",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ri(ti().mark((function e(t,n,r,i){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ri(ti().mark((function e(t,n,r,i){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return NA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qA(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,DA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function HA(e){return e.unwrap()}function KA(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new XA(e,function(e,t){var n,r=aa(e),i=t;return BS(t.customData.operationType,r,"argument-error"),BS(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),xC._fromError(r,i)}(e,t));else if(r){var i=GA(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function GA(e){var t=(e instanceof Ki?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ki)&&"temporaryProof"in t&&"phoneNumber"in t)return IO.credentialFromResult(e);var n,r=t.providerId;if(!r||r===xS.PASSWORD)return null;switch(r){case xS.GOOGLE:n=fI;break;case xS.FACEBOOK:n=lI;break;case xS.GITHUB:n=hI;break;case xS.TWITTER:n=vI;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?dI._create(r,u):XT._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new cI(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ki?n.credentialFromError(e):n.credentialFromResult(e)}function QA(e,t){return t.catch((function(t){throw t instanceof Ki&&KA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,GA(t)),additionalUserInfo:wC(e),user:JA.getOrCreate(r)}}))}function $A(e,t){return YA.apply(this,arguments)}function YA(){return YA=ri(ti().mark((function e(t,n){var r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return QA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}var XA=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return m(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return QA(HA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),JA=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=aa(e);return OC.has(t)||OC.set(t,CC._fromUser(t)),OC.get(t)}(t)}return m(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this.auth,MI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$A(this.auth,wO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this.auth,UO(this._delegate,t,WA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VA(fT(this.auth));case 2:return e.abrupt("return",nP(this._delegate,t,WA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this.auth,FI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return $A(this.auth,function(e,t,n){return xO.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return QA(this.auth,function(e,t,n){return FO.apply(this,arguments)}(this._delegate,e,WA))}},{key:"reauthenticateWithRedirect",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VA(fT(this.auth));case 2:return e.abrupt("return",eP(this._delegate,t,WA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return sC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SI(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return dC(aa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return dC(aa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return TO.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return hC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return cC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();JA.USER_MAP=new WeakMap;var ZA=BS,eR=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ZA(r,"invalid-api-key",{appName:t.name}),ZA(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?WA:void 0;this._delegate=n.initialize({options:{persistence:nR(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(AS),this.linkUnderlyingAuth()}return m(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?JA.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){kT(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return XI.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return JI(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return YI.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ri(ti().mark((function e(t,n){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this._delegate,tC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return uC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=aI.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ri(ti().mark((function e(){var t;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZA(RA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,iP(this._delegate,WA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",QA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){fT(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=tR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=tR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return rC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return $I.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ri(ti().mark((function e(t){var n,r;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:UA(this._delegate,t),e.t0=t,e.next=e.t0===MA.SESSION?4:e.t0===MA.LOCAL?6:e.t0===MA.NONE?11:13;break;case 4:return n=LC,e.abrupt("break",14);case 6:return e.next=8,WE(aO)._isAvailable();case 8:return r=e.sent,n=r?aO:NC,e.abrupt("break",14);case 11:return n=KE,e.abrupt("break",14);case 13:return e.abrupt("return",jS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return QA(this._delegate,function(e){return kI.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return QA(this._delegate,DI(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return QA(this._delegate,function(e,t){return BI.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return QA(this._delegate,function(e,t,n){return DI(aa(e),oI.credential(t,n)).catch(function(){var t=ri(ti().mark((function t(n){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&GI(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return QA(this._delegate,function(e,t,n){return iC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return $A(this._delegate,function(e,t,n){return kO.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZA(RA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",QA(this._delegate,MO(this._delegate,t,WA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZA(RA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,VA(this._delegate);case 3:return e.abrupt("return",JO(this._delegate,t,WA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return eC.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function tR(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&JA.getOrCreate(e))},error:t,complete:n}}function nR(e,t){var n=function(e,t){var n=BA();if(!n)return[];var r=GE(FA,e,t);switch(n.getItem(r)){case MA.NONE:return[KE];case MA.LOCAL:return[aO,LC];case MA.SESSION:return[LC];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(aO)||n.push(aO),"undefined"!==typeof window)for(var r=0,i=[NC,LC];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(KE)||n.push(KE),n}eR.Persistence=MA;var rR=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new IO(HA(Mo.auth()))}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return IO.credential(e,t)}}]),e}();rR.PHONE_SIGN_IN_METHOD=IO.PHONE_SIGN_IN_METHOD,rR.PROVIDER_ID=IO.PROVIDER_ID;var iR=BS,aR=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mo.app();d(this,e),iR(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new mO(i.auth(),t,n),this.type=this._delegate.type}return m(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new oa("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new eR(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:SS,PASSWORD_RESET:ES,RECOVER_EMAIL:TS,REVERT_SECOND_FACTOR_ADDITION:IS,VERIFY_AND_CHANGE_EMAIL:CS,VERIFY_EMAIL:OS}},EmailAuthProvider:oI,FacebookAuthProvider:lI,GithubAuthProvider:hI,GoogleAuthProvider:fI,OAuthProvider:cI,SAMLAuthProvider:pI,PhoneAuthProvider:rR,PhoneMultiFactorGenerator:HP,RecaptchaVerifier:aR,TwitterAuthProvider:vI,Auth:eR,AuthCredential:xT,Error:Ki}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.0")}(Mo);var oR,uR="firebasestorage.googleapis.com",sR="storageBucket",cR=function(e){b(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,lR(e),"Firebase Storage: ".concat(r," (").concat(lR(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return m(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return lR(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ki);function lR(e){return"storage/"+e}function fR(){return new cR(oR.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hR(){return new cR(oR.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dR(){return new cR(oR.CANCELED,"User canceled the upload/download.")}function pR(){return new cR(oR.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vR(e){return new cR(oR.INVALID_ARGUMENT,e)}function yR(){return new cR(oR.APP_DELETED,"The Firebase app was deleted.")}function mR(e){return new cR(oR.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gR(e,t){return new cR(oR.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function bR(e){throw new cR(oR.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(oR||(oR={}));var kR,wR=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return m(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new cR(oR.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===uR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new cR(oR.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),_R=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return m(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function xR(e){return"string"===typeof e||e instanceof String}function SR(e){return ER()&&e instanceof Blob}function ER(){return"undefined"!==typeof Blob}function TR(e,t,n,r){if(r<t)throw vR("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw vR("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function IR(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function CR(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function OR(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(kR||(kR={}));var PR=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return m(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=fR();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?yR():dR());else i(hR())}};this.canceled_?t(0,new AR(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new AR(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===kR.NO_ERROR,a=r.getStatus();if(!n||OR(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===kR.ABORT;t(!1,new AR(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new AR(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),AR=m((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function RR(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function NR(){for(var e=RR(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ER())return new Blob(n);throw new cR(oR.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function DR(e){if("undefined"===typeof atob)throw t="base-64",new cR(oR.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var LR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},MR=m((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function jR(e,t){switch(e){case LR.RAW:return new MR(FR(t));case LR.BASE64:case LR.BASE64URL:return new MR(UR(e,t));case LR.DATA_URL:return new MR(function(e){var t=new VR(e);return t.base64?UR(LR.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw gR(LR.DATA_URL,"Malformed data URL.")}return FR(t)}(t.rest)}(t),new VR(t).contentType)}throw fR()}function FR(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function UR(e,t){switch(e){case LR.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw gR(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case LR.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw gR(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=DR(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw gR(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var VR=m((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw gR(LR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var zR=function(){function e(t,n){d(this,e);var r=0,i="";SR(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return m(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(SR(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ER()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(NR.apply(null,i))}var a=n.map((function(e){return xR(e)?jR(LR.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function BR(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function qR(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function WR(e,t){return t}var HR=m((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||WR})),KR=null;function GR(){if(KR)return KR;var e=[];e.push(new HR("bucket")),e.push(new HR("generation")),e.push(new HR("metageneration")),e.push(new HR("name","fullPath",!0));var t=new HR("name");t.xform=function(e,t){return function(e){return!xR(e)||e.length<2?e:qR(e)}(t)},e.push(t);var n=new HR("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new HR("timeCreated")),e.push(new HR("updated")),e.push(new HR("md5Hash",null,!0)),e.push(new HR("cacheControl",null,!0)),e.push(new HR("contentDisposition",null,!0)),e.push(new HR("contentEncoding",null,!0)),e.push(new HR("contentLanguage",null,!0)),e.push(new HR("contentType",null,!0)),e.push(new HR("metadata","customMetadata",!0)),KR=e}function QR(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new wR(n,r);return t._makeStorageReference(i)}})}(r,e),r}function $R(e,t,n){var r=BR(t);return null===r?null:QR(e,r,n)}function YR(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var XR="prefixes",JR="items";function ZR(e,t,n){var r=BR(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[XR]){var i,a=I(n[XR]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new wR(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[JR]){var s,c=I(n[JR]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new wR(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var eN=m((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function tN(e){if(!e)throw fR()}function nN(e,t){return function(n,r){var i=$R(e,r,t);return tN(null!==i),i}}function rN(e,t){return function(n,r){var i=$R(e,r,t);return tN(null!==i),function(e,t,n,r){var i=BR(t);if(null===i)return null;if(!xR(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return IR("/b/"+o(i)+"/o/"+o(a),n,r)+CR({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function iN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new cR(oR.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new cR(oR.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new cR(oR.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new cR(oR.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function aN(e){var t=iN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new cR(oR.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function oN(e,t,n){var r=IR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new eN(r,"GET",nN(e,n),i);return a.errorHandler=aN(t),a}function uN(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=IR(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new eN(o,"GET",function(e,t){return function(n,r){var i=ZR(e,t,r);return tN(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=iN(t),s}function sN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function cN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=sN(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+YR(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=zR.getBlob(c,r,l);if(null===f)throw pR();var h={name:s.fullPath},d=IR(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new eN(d,"POST",nN(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=iN(t),v}var lN=m((function e(t,n,r,i){d(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function fN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){tN(!1)}return tN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var hN=262144;function dN(e,t,n,r,i,a,o,u){var s=new lN(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new cR(oR.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw pR();var v=t.maxUploadRetryTime,y=new eN(n,"POST",(function(e,n){var i,o=fN(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?nN(t,a)(e,n):null,new lN(u,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=iN(e),y}var pN={STATE_CHANGED:"state_changed"},vN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yN(e){switch(e){case"running":case"pausing":case"canceling":return vN.RUNNING;case"paused":return vN.PAUSED;case"success":return vN.SUCCESS;case"canceled":return vN.CANCELED;default:return vN.ERROR}}var mN=m((function e(t,n,r){d(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function gN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var bN=null,kN=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kR.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=kR.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=kR.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return m(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw bR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw bR("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw bR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw bR("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw bR("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),wN=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return m(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(kN);function _N(){return bN?bN():new wN}var xN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=GR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(oR.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(OR(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=hR()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(oR.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return m(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=sN(t,r,i),u={name:o.fullPath},s=IR(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=YR(o,n),f=e.maxUploadRetryTime,h=new eN(s,"POST",(function(e){var t;fN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){tN(!1)}return tN(xR(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=iN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,_N,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new eN(n,"POST",(function(e){var t=fN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){tN(!1)}n||tN(!1);var i=Number(n);return tN(!isNaN(i)),new lN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=iN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,_N,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=hN*this._chunkMultiplier,n=new lN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=dN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,_N,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(hN*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=oN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,_N,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=cN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,_N,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=dR(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=yN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new mN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(yN(this._state)){case vN.SUCCESS:gN(this._resolve.bind(null,this.snapshot))();break;case vN.CANCELED:case vN.ERROR:gN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(yN(this._state)){case vN.RUNNING:case vN.PAUSED:e.next&&gN(e.next.bind(e,this.snapshot))();break;case vN.SUCCESS:e.complete&&gN(e.complete.bind(e))();break;default:e.error&&gN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),SN=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof wR?n:wR.makeFromUrl(n,t.host)}return m(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new wR(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return qR(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new wR(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw mR(e)}}]),e}();function EN(e,t,n){return TN.apply(this,arguments)}function TN(){return(TN=ri(ti().mark((function e(t,n,r){var i,a,o,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,IN(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,h(u.prefixes)),(a=n.items).push.apply(a,h(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,EN(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IN(e,t){null!=t&&"number"===typeof t.maxResults&&TR("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=uN(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,_N)}function CN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=IR(t.fullServerUrl(),e.host,e._protocol),a=YR(n,r),o=e.maxOperationRetryTime,u=new eN(i,"PATCH",nN(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=aN(t),u}(e.storage,e._location,t,GR());return e.storage.makeRequestWithTokens(n,_N)}function ON(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=IR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new eN(r,"GET",rN(e,n),i);return a.errorHandler=aN(t),a}(e.storage,e._location,GR());return e.storage.makeRequestWithTokens(t,_N).then((function(e){if(null===e)throw new cR(oR.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function PN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=IR(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new eN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=aN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,_N)}function AN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new wR(e._location.bucket,n);return new SN(e.storage,r)}function RN(e,t){if(e instanceof LN){var n=e;if(null==n._bucket)throw new cR(oR.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sR+"' property when initializing the app?");var r=new SN(n,n._bucket);return null!=t?RN(r,t):r}return void 0!==t?AN(e,t):e}function NN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof LN)return new SN(e,t);throw vR("To use ref(service, url), the first argument must be a Storage instance.")}return RN(e,t)}function DN(e,t){var n=null===t||void 0===t?void 0:t[sR];return null==n?null:wR.makeFromBucketSpec(n,e)}var LN=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=uR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?wR.makeFromBucketSpec(i,this._host):DN(this._host,this.app.options)}return m(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=wR.makeFromBucketSpec(this._url,e):this._bucket=DN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){TR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){TR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ri(ti().mark((function e(){var t,n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ri(ti().mark((function e(){var t,n;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new SN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new _R(yR());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=CR(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new PR(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ri(ti().mark((function e(t,n){var r,i,a,o;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),MN="@firebase/storage",jN="0.12.0",FN="storage";function UN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new xN(e,new zR(t),n)}(e=aa(e),t,n)}function VN(e){return function(e){e._throwIfRoot("getMetadata");var t=oN(e.storage,e._location,GR());return e.storage.makeRequestWithTokens(t,_N)}(e=aa(e))}function zN(e){return function(e){var t={prefixes:[],items:[]};return EN(e,t).then((function(){return t}))}(e=aa(e))}function BN(e,t){return NN(e=aa(e),t)}function qN(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ui(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function WN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new LN(r,i,a,n,ro)}Ya(new oa(FN,WN,"PUBLIC").setMultipleInstances(!0)),co(MN,jN,""),co(MN,jN,"esm2017");var HN=function(){function e(t,n,r){d(this,e),this._delegate=t,this.task=n,this.ref=r}return m(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),KN=function(){function e(t,n){d(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return m(e,[{key:"snapshot",get:function(){return new HN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new HN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new HN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new HN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),GN=function(){function e(t,n){d(this,e),this._delegate=t,this._service=n}return m(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new QN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new QN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),QN=function(){function e(t,n){d(this,e),this._delegate=t,this.storage=n}return m(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return AN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new KN(UN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LR.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=jR(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new KN(new xN(this._delegate,new zR(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return zN(this._delegate).then((function(t){return new GN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return IN(e=aa(e),t)}(this._delegate,e||void 0).then((function(e){return new GN(e,t.storage)}))}},{key:"getMetadata",value:function(){return VN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return CN(e=aa(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return ON(aa(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),PN(aa(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw mR(e)}}]),e}(),$N=function(){function e(t,n){d(this,e),this.app=t,this._delegate=n}return m(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(YN(e))throw vR("ref() expected a child path but got a URL, use refFromURL instead.");return new QN(BN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!YN(e))throw vR("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wR.makeFromUrl(e,this._delegate.host)}catch(t){throw vR("refFromUrl() expected a valid full URL but got an invalid one.")}return new QN(BN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qN(this._delegate,e,t,n)}}]),e}();function YN(e){return/^[A-Za-z]+:\/\//.test(e)}function XN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new $N(r,i)}!function(e){var t={TaskState:vN,TaskEvent:pN,StringFormat:LR,Storage:$N,Reference:QN};e.INTERNAL.registerComponent(new oa("storage-compat",XN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.3")}(Mo);var JN=Mo.initializeApp({apiKey:"AIzaSyAe6XhUFIT6AplvVAGHosg5Pc2HiIlsp6w",authDomain:"disneyplus-6fb54.firebaseapp.com",projectId:"disneyplus-6fb54",storageBucket:"disneyplus-6fb54.appspot.com",messagingSenderId:"860235014905",appId:"1:860235014905:web:4511b4c1372fae4a80f828",measurementId:"G-DFF9NVZ35F"}).firestore(),ZN=Mo.auth(),eD=new Mo.auth.GoogleAuthProvider,tD=(Mo.storage(),JN);function nD(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function rD(e){return!!e&&!!e[HD]}function iD(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===KD}(e)||Array.isArray(e)||!!e[WD]||!!(null===(t=e.constructor)||void 0===t?void 0:t[WD])||fD(e)||hD(e))}function aD(e,t,n){void 0===n&&(n=!1),0===oD(e)?(n?Object.keys:GD)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function oD(e){var t=e[HD];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:fD(e)?2:hD(e)?3:0}function uD(e,t){return 2===oD(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sD(e,t){return 2===oD(e)?e.get(t):e[t]}function cD(e,t,n){var r=oD(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function lD(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function fD(e){return VD&&e instanceof Map}function hD(e){return zD&&e instanceof Set}function dD(e){return e.o||e.t}function pD(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=QD(e);delete t[HD];for(var n=GD(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function vD(e,t){return void 0===t&&(t=!1),mD(e)||rD(e)||!iD(e)||(oD(e)>1&&(e.set=e.add=e.clear=e.delete=yD),Object.freeze(e),t&&aD(e,(function(e,t){return vD(t,!0)}),!0)),e}function yD(){nD(2)}function mD(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function gD(e){var t=$D[e];return t||nD(18,e),t}function bD(e,t){$D[e]||($D[e]=t)}function kD(){return FD}function wD(e,t){t&&(gD("Patches"),e.u=[],e.s=[],e.v=t)}function _D(e){xD(e),e.p.forEach(ED),e.p=null}function xD(e){e===FD&&(FD=e.l)}function SD(e){return FD={p:[],l:FD,h:e,m:!0,_:0}}function ED(e){var t=e[HD];0===t.i||1===t.i?t.j():t.g=!0}function TD(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||gD("ES5").S(t,e,r),r?(n[HD].P&&(_D(t),nD(4)),iD(e)&&(e=ID(t,e),t.l||OD(t,e)),t.u&&gD("Patches").M(n[HD].t,e,t.u,t.s)):e=ID(t,n,[]),_D(t),t.u&&t.v(t.u,t.s),e!==qD?e:void 0}function ID(e,t,n){if(mD(t))return t;var r=t[HD];if(!r)return aD(t,(function(i,a){return CD(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return OD(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=pD(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),aD(a,(function(t,a){return CD(e,r,i,t,a,n,o)})),OD(e,i,!1),n&&e.u&&gD("Patches").N(r,n,e.u,e.s)}return r.o}function CD(e,t,n,r,i,a,o){if(rD(i)){var u=ID(e,i,a&&t&&3!==t.i&&!uD(t.R,r)?a.concat(r):void 0);if(cD(n,r,u),!rD(u))return;e.m=!1}else o&&n.add(i);if(iD(i)&&!mD(i)){if(!e.h.D&&e._<1)return;ID(e,i),t&&t.A.l||OD(e,i)}}function OD(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&vD(t,n)}function PD(e,t){var n=e[HD];return(n?dD(n):e)[t]}function AD(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function RD(e){e.P||(e.P=!0,e.l&&RD(e.l))}function ND(e){e.o||(e.o=pD(e.t))}function DD(e,t,n){var r=fD(t)?gD("MapSet").F(t,n):hD(t)?gD("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:kD(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=YD;n&&(i=[r],a=XD);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):gD("ES5").J(t,n);return(n?n.A:kD()).p.push(r),r}function LD(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return pD(e)}function MD(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[HD];return YD.get(t,e)},set:function(t){var n=this[HD];YD.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][HD];if(!i.P)switch(i.i){case 5:r(i)&&RD(i);break;case 4:n(i)&&RD(i)}}}function n(e){for(var t=e.t,n=e.k,r=GD(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==HD){var o=t[a];if(void 0===o&&!uD(t,a))return!0;var u=n[a],s=u&&u[HD];if(s?s.t!==o:!lD(u,o))return!0}}var c=!!t[HD];return r.length!==GD(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};bD("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=QD(n);delete a[HD];for(var o=GD(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:kD(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,HD,{value:a,writable:!0}),i},S:function(e,n,i){i?rD(n)&&n[HD].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[HD];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)aD(a,(function(t){t!==HD&&(void 0!==i[t]||uD(i,t)?o[t]||e(a[t]):(o[t]=!0,RD(n)))})),aD(i,(function(e){void 0!==a[e]||uD(a,e)||(o[e]=!1,RD(n))}));else if(5===u){if(r(n)&&(RD(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var jD,FD,UD="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),VD="undefined"!=typeof Map,zD="undefined"!=typeof Set,BD="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,qD=UD?Symbol.for("immer-nothing"):((jD={})["immer-nothing"]=!0,jD),WD=UD?Symbol.for("immer-draftable"):"__$immer_draftable",HD=UD?Symbol.for("immer-state"):"__$immer_state",KD=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),GD="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,QD=Object.getOwnPropertyDescriptors||function(e){var t={};return GD(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},$D={},YD={get:function(e,t){if(t===HD)return e;var n=dD(e);if(!uD(n,t))return function(e,t,n){var r,i=AD(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!iD(r)?r:r===PD(e.t,t)?(ND(e),e.o[t]=DD(e.A.h,r,e)):r},has:function(e,t){return t in dD(e)},ownKeys:function(e){return Reflect.ownKeys(dD(e))},set:function(e,t,n){var r=AD(dD(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=PD(dD(e),t),a=null==i?void 0:i[HD];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(lD(n,i)&&(void 0!==n||uD(e.t,t)))return!0;ND(e),RD(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==PD(e.t,t)||t in e.t?(e.R[t]=!1,ND(e),RD(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=dD(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){nD(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){nD(12)}},XD={};aD(YD,(function(e,t){XD[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),XD.deleteProperty=function(e,t){return XD.set.call(this,e,t,void 0)},XD.set=function(e,t,n){return YD.set.call(this,e[0],t,n,e[0])};var JD=function(){function e(e){var t=this;this.O=BD,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&nD(6),void 0!==r&&"function"!=typeof r&&nD(7),iD(e)){var u=SD(t),s=DD(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?_D(u):xD(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return wD(u,r),TD(e,u)}),(function(e){throw _D(u),e})):(wD(u,r),TD(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===qD&&(o=void 0),t.D&&vD(o,!0),r){var l=[],f=[];gD("Patches").M(e,o,l,f),r(l,f)}return o}nD(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){iD(e)||nD(8),rD(e)&&(e=function(e){return rD(e)||nD(22,e),function e(t){if(!iD(t))return t;var n,r=t[HD],i=oD(t);if(r){if(!r.P&&(r.i<4||!gD("ES5").K(r)))return r.t;r.I=!0,n=LD(t,i),r.I=!1}else n=LD(t,i);return aD(n,(function(t,i){r&&sD(r.t,t)===i||cD(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=SD(this),n=DD(this,e,void 0);return n[HD].C=!0,xD(t),n},t.finishDraft=function(e,t){var n=(e&&e[HD]).A;return wD(n,t),TD(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!BD&&nD(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=gD("Patches").$;return rD(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ZD=new JD,eL=ZD.produce,tL=(ZD.produceWithPatches.bind(ZD),ZD.setAutoFreeze.bind(ZD),ZD.setUseProxies.bind(ZD),ZD.applyPatches.bind(ZD),ZD.createDraft.bind(ZD),ZD.finishDraft.bind(ZD),eL);function nL(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var rL="function"===typeof Symbol&&Symbol.observable||"@@observable",iL=function(){return Math.random().toString(36).substring(7).split("").join(".")},aL={INIT:"@@redux/INIT"+iL(),REPLACE:"@@redux/REPLACE"+iL(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+iL()}};function oL(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function uL(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(nL(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(nL(1));return n(uL)(e,t)}if("function"!==typeof e)throw new Error(nL(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(nL(3));return a}function f(e){if("function"!==typeof e)throw new Error(nL(4));if(s)throw new Error(nL(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(nL(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!oL(e))throw new Error(nL(7));if("undefined"===typeof e.type)throw new Error(nL(8));if(s)throw new Error(nL(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:aL.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(nL(10));i=e,h({type:aL.REPLACE})}})[rL]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(nL(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[rL]=function(){return this},e},r}function sL(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:aL.INIT}))throw new Error(nL(12));if("undefined"===typeof n(void 0,{type:aL.PROBE_UNKNOWN_ACTION()}))throw new Error(nL(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(nL(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function cL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function lL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(nL(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=cL.apply(void 0,a)(n.dispatch),ka(ka({},n),{},{dispatch:r})}}}function fL(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var hL=fL();hL.withExtraArgument=fL;var dL=hL,pL=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vL=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},yL=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},mL=Object.defineProperty,gL=Object.defineProperties,bL=Object.getOwnPropertyDescriptors,kL=Object.getOwnPropertySymbols,wL=Object.prototype.hasOwnProperty,_L=Object.prototype.propertyIsEnumerable,xL=function(e,t,n){return t in e?mL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},SL=function(e,t){for(var n in t||(t={}))wL.call(t,n)&&xL(e,n,t[n]);if(kL)for(var r=0,i=kL(t);r<i.length;r++){n=i[r];_L.call(t,n)&&xL(e,n,t[n])}return e},EL=function(e,t){return gL(e,bL(t))},TL=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},IL="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?cL:cL.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function CL(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function OL(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return SL(SL({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var PL=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return pL(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,yL([void 0],e[0].concat(this)))):new(t.bind.apply(t,yL([void 0],e.concat(this))))},t}(Array),AL=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return pL(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,yL([void 0],e[0].concat(this)))):new(t.bind.apply(t,yL([void 0],e.concat(this))))},t}(Array);function RL(e){return iD(e)?tL(e,(function(){})):e}function NL(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new PL);return n&&(!function(e){return"boolean"===typeof e}(n)?r.push(dL.withExtraArgument(n.extraArgument)):r.push(dL)),r}function DL(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function LL(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:RL(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?DL(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=SL(SL({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?DL(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return RL(e())};else{var c=RL(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=yL([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(rD(e))return void 0===(r=n(e,t))?e:r;if(iD(e))return tL(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?OL(c,r):OL(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var ML=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},jL=["name","message","stack","code"],FL=function(e,t){this.payload=e,this.meta=t},UL=function(e,t){this.payload=e,this.meta=t},VL=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=jL;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=OL(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:EL(SL({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=OL(e+"/pending",(function(e,t,n){return{payload:void 0,meta:EL(SL({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=OL(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||VL)(e||"Rejected"),meta:EL(SL({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):ML(),h=new o;function d(e){l=e,h.abort()}var p=function(){return TL(this,null,(function(){var o,p,v,y,m,g;return vL(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(k=y)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,y];case 1:y=b.sent(),b.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new FL(e,t)},fulfillWithValue:function(e,t){return new UL(e,t)}})).then((function(t){if(t instanceof FL)throw t;return t instanceof UL?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return g=b.sent(),v=g instanceof FL?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(zL)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function zL(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var BL="listenerMiddleware";OL(BL+"/add"),OL(BL+"/removeAll"),OL(BL+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var qL,WL=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:WL(10);MD();var HL,KL,GL,QL,$L,YL,XL,JL,ZL,eM,tM,nM,rM,iM,aM,oM,uM,sM,cM,lM,fM,hM,dM,pM,vM=LL({name:"user",initialState:{name:"",email:"",photo:""},reducers:{setUserLoginDetails:function(e,t){e.name=t.payload.name,e.email=t.payload.email,e.photo=t.payload.photo},setSignOutState:function(e){e.name=null,e.email=null,e.photo=null}}}),yM=vM.actions,mM=yM.setUserLoginDetails,gM=yM.setSignOutState,bM=function(e){return e.user.name},kM=function(e){return e.user.photo},wM=vM.reducer,_M=Mr.nav(HL||(HL=Ye(["\nposition: fixed;\n/* z-index: 100; */\ntop: 0;\nleft: 0;\nright: 0;\nheight: 70px;\nbackground-color:#090b13;\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 0 36px;\nletter-spacing: 16px;\nz-index: 100;\n\n\n\n"]))),xM=Mr.a(KL||(KL=Ye(["\npadding:0;\nwidth: 80px;\nmargin-top: 4px;\nmax-height: 70px; \nmargin-left: 10px;\nfont-size: 0;\ndisplay: inline-block;\nimg{\n  display: block;\n  width: 70%;\n}\n"]))),SM=Mr.div(GL||(GL=Ye(["\nalign-items: center;\ndisplay: flex;\nflex-flow: row nowrap;\nheight: 100%;\njustify-content: flex-end;\nmargin: 0px;\npadding: 0px;\nposition: relative;\nmargin-right: auto;\nmargin-left: 0;\n\n@media (max-width:786px){\n  overflow:auto;\n}\n\na{\n  display: flex;\n  padding: 0 12px;\n  align-items: center;\n\n  \n  img{\n    height: 20px;\n    min-width: 20px;\n    width: 20px;\n    z-index: auto;\n  }\n  span{\n    color:rgb(249,249,249);\n    font-size: 13px;\n    letter-spacing: 1.42px;\n    line-height: 1.08;\n    padding: 2px 0px;\n    white-space: nowrap;\n    position: relative;\n\n    @media (max-width:786px){\n    font-style: 10px;\n}\n\n   \n\n  \n\n  &:before{\n    background-color: rgb(249,249,249);\n    border-radius: 0px 0px 4px 4px;\n    bottom: -6px;\n    content: '';\n    height: 2px;\n    left: 0px;\n    opacity: 0;\n    position: absolute;\n    right: 0px;\n    transform-origin:left center;\n    transform: scaleX(0);\n    transition: all 250ms cubic-bezier(0.25,0.46,0.45,0.94);\n    visibility: hidden;\n    width: auto;\n  }\n}\n\n&:hover{\n  span:before{\n    transform: scaleX(1);\n    visibility: visible;\n    opacity: 1 !important;\n  }\n}\n}\n\n/* @media (max-width:768px){\n  display: none;\n\n} */\n\n\n"]))),EM=Mr.a(QL||(QL=Ye(["\nbackground-color: rgba(0,0,0,0);\npadding: 8px 16px;\ntext-transform: uppercase;\nletter-spacing: 1.5px;\nborder: 1px solid #f9f9f9;\nborder-radius: 4px;\ntransition: all 0.2s ease 0s;\n\n&:hover{\n  background-color: white;\n  color: black;\n  border-color: transparent;\n  cursor: pointer;\n}\n"]))),TM=Mr.img($L||($L=Ye(["\nheight: 100%;\n\n\n"]))),IM=Mr.div(YL||(YL=Ye(["\nposition: absolute;\ntop: 48px;\nright: 0px;\nbackground:rgb(19,19,19);\nborder:1px solid rgba(151,151,151,0.34);\nborder-radius: 4px;\nbox-shadow: rgb(0 0 0 / 50%) 0px 0px 18px 0px;\npadding: 10px;\nfont-size: 14px;\nletter-spacing: 3px;\nwidth: 100%;\nopacity: 0;\n"]))),CM=Mr.div(XL||(XL=Ye(["\nposition: relative;\nheight: 48px;\nwidth: 48px;\ndisplay: flex;\ncursor: pointer;\nalign-items: center;\njustify-content: center;\n\n","{\n  border-radius: 50%;\n  width: 100%;\n  height: 100%;\n}\n\n&:hover{\n  ","{\n    opacity: 1;\n    transition-duration:1s;\n  }\n}\n"])),TM,IM),OM=function(e){var t=Ci(),n=we(),i=bi(bM),a=bi(kM);(0,r.useEffect)((function(){ZN.onAuthStateChanged(function(){var e=ri(ti().mark((function e(t){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(u(t),n("/home"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]);var o=function(){i?i&&ZN.signOut().then((function(){t(gM()),n("/")})).catch((function(e){return alert(e.message)})):ZN.signInWithPopup(eD).then((function(e){u(e.user)})).catch((function(e){alert(e.message)}))},u=function(e){t(mM({name:e.displayName,email:e.email,photo:e.photoURL}))};return(0,Hr.jsxs)(_M,{children:[(0,Hr.jsx)(xM,{children:(0,Hr.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/2798/2798007.png",alt:"no"})}),i?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)(SM,{children:[(0,Hr.jsxs)("a",{href:"/home",children:[(0,Hr.jsx)("img",{src:"/images/home-icon.svg",alt:""}),(0,Hr.jsx)("span",{children:"HOME"})]}),(0,Hr.jsxs)("a",{href:"/search",children:[(0,Hr.jsx)("img",{src:"/images/search-icon.svg",alt:""}),(0,Hr.jsx)("span",{children:"SEARCH"})]}),(0,Hr.jsxs)("a",{href:"/home",children:[(0,Hr.jsx)("img",{src:"/images/watchlist-icon.svg",alt:""}),(0,Hr.jsx)("span",{children:"WATCHLIST"})]}),(0,Hr.jsxs)("a",{href:"/home",children:[(0,Hr.jsx)("img",{src:"/images/original-icon.svg",alt:""}),(0,Hr.jsx)("span",{children:"ORIGINALS"})]}),(0,Hr.jsxs)("a",{href:"/home",children:[(0,Hr.jsx)("img",{src:"/images/movie-icon.svg",alt:""}),(0,Hr.jsx)("span",{children:"MOVIES"})]}),(0,Hr.jsxs)("a",{href:"/home",children:[(0,Hr.jsx)("img",{src:"/images/series-icon.svg",alt:""}),(0,Hr.jsx)("span",{children:"SERIES"})]})]}),(0,Hr.jsxs)(CM,{children:[(0,Hr.jsx)(TM,{src:a,alt:i}),(0,Hr.jsx)(IM,{children:(0,Hr.jsx)("span",{onClick:o,children:"Sign Out"})})]})]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(SM,{style:{alignitems:"center",justifyContent:"center",marginLeft:"550px"},children:"WELCOME"}),(0,Hr.jsx)(EM,{onClick:o,children:"Login"})]})]})},PM=n(5717),AM=Mr(PM.Z)(JL||(JL=Ye(["\nmargin-top: 20px;\nmargin-left:44px;\nmargin-right:44px;\nmargin-bottom: 79px;\n\n\n@media (max-width:768px){\n  height: 15vh;\n}\n\n\n& > button{\n  opacity: 0.5;\n  height: 100%;\n  width: 7vw;\n  z-index: 1;\n\n  @media (max-width:768px){\n    z-index: 0;\n  }\n  \n  &:hover{\n    opacity: 1;\n    transition: opacity 0.2s ease 0s;\n  }\n\n}\n\nul li button{\n  &:before{\n    font-size: 10px;\n    color:rgb(150,158,171);\n  }\n}\n\nli.slick-active button:before{\n  color: white;\n}\n\n.slick-list{\n  overflow: initial;\n  \n}\n\n.slick-prev{\n  left: -75px;\n  \n  &:before{\n    font-size: 40px;\n    margin-left: auto;\n  }\n}\n\n.slick-next{\n  right: -75px;\n\n  &:before{\n    font-size: 40px;\n    margin-right: auto;\n\n  }\n\n}\n\n\n"]))),RM=Mr.div(ZL||(ZL=Ye(["\nborder-radius: 4px;\ncursor: pointer;\nposition: relative;\n\n\n\na{\n  border-radius: 4px;\n  box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n  cursor: pointer;\n  display: block;\n  position: relative;\n  padding: 4px;\n\n  img{\n    width: 100%;\n    height: 100%;\n    transition: transform 1s;\n    @media (max-width:768px){\n    height: 13vh;\n    width: 80vw;\n}\n\n  &:hover{\n    padding: 0;\n    border: 4px solid rgba(249,249,249,0.8);\n    transform: scale(1.02);\n  }\n\n}\n}\n"]))),NM=function(e){return(0,Hr.jsx)("div",{children:(0,Hr.jsxs)(AM,ka(ka({},{dots:!0,infinite:!0,speed:700,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1250}),{},{children:[(0,Hr.jsx)(RM,{children:(0,Hr.jsx)("a",{children:(0,Hr.jsx)("img",{src:"/images/slider-badging.jpg",alt:""})})}),(0,Hr.jsx)(RM,{children:(0,Hr.jsx)("a",{children:(0,Hr.jsx)("img",{src:"/images/slider-scale.jpg",alt:""})})}),(0,Hr.jsx)(RM,{children:(0,Hr.jsx)("a",{children:(0,Hr.jsx)("img",{src:"/images/slider-badag.jpg",alt:""})})}),(0,Hr.jsx)(RM,{children:(0,Hr.jsx)("a",{children:(0,Hr.jsx)("img",{src:"/images/slider-scales.jpg",alt:""})})})]}))})},DM=Mr.div(eM||(eM=Ye(["\n\nmargin-top: 30px;\npadding: 30px 0px 26px;\ndisplay: grid;\ngrid-gap: 25px;\ngap: 25px;\ngrid-template-columns: repeat(5,minmax(0,1fr)); \n\n@media (max-width:768px){\n  grid-template-columns: repeat(1,minmax(0,1fr));\n  padding-left:21px;\n  padding-right:21px\n}\n\n"]))),LM=Mr.div(tM||(tM=Ye(["\npadding-top:56.25%;\nborder-radius: 10px;\nbox-shadow: rgb(0 0 0 /69%) 0px 26px 30px -10px,\nrgb(0 0 0 / 73%) 0px 16px 10px -10px;\ncursor: pointer;\noverflow: hidden;\nposition: relative;\ntransition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\nborder: 3px solid rgba(249,249,249,0.1);\n\n@media (max-width:768px){\n  width: 90vw;\n}\n\nimg{\n  inset: 0px;\n  display: block;\n  height: 100%;\n  object-fit: cover;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 500ms ease-in-out 0s;\n  width: 100%;\n  z-index: 3;\n  top: 0;\n\n\n\n}\n\nvideo{\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0px;\n  opacity: 1;\n  z-index: 2;\n  transition: transform 400ms;\n}\n\n&:hover{\n  box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px --16px,\n  rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n  \n  border-color:rgba(249,249,249,0.8);\n  transform: scale(1.06);\n\n}\n\n"]))),MM=function(e){return(0,Hr.jsxs)(DM,{children:[(0,Hr.jsxs)(LM,{children:[(0,Hr.jsx)("img",{src:"/images/viewers-disney.png",alt:"idk"}),(0,Hr.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,children:(0,Hr.jsx)("source",{src:"/videos/1564674844-disney.mp4",type:"video/mp4"})})]}),(0,Hr.jsxs)(LM,{children:[(0,Hr.jsx)("img",{src:"/images/viewers-pixar.png",alt:""}),(0,Hr.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,children:(0,Hr.jsx)("source",{src:"/videos/1564676714-pixar.mp4",type:"video/mp4"})})]}),(0,Hr.jsxs)(LM,{children:[(0,Hr.jsx)("img",{src:"/images/viewers-marvel.png",alt:""}),(0,Hr.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,children:(0,Hr.jsx)("source",{src:"/videos/1564676115-marvel.mp4",type:"video/mp4"})})]}),(0,Hr.jsxs)(LM,{children:[(0,Hr.jsx)("img",{src:"/images/viewers-starwars.png",alt:""}),(0,Hr.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,children:(0,Hr.jsx)("source",{src:"/videos/1608229455-star-wars.mp4",type:"video/mp4"})})]}),(0,Hr.jsxs)(LM,{children:[(0,Hr.jsx)("img",{src:"/images/viewers-national.png",alt:""}),(0,Hr.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,children:(0,Hr.jsx)("source",{src:"/videos/1564676296-national-geographic.mp4",type:"video/mp4"})})]})]})},jM=LL({name:"movie",initialState:{recommend:null,newDisney:null,original:null,trending:null},reducers:{setMovies:function(e,t){e.recommend=t.payload.recommend,e.newDisney=t.payload.newDisney,e.original=t.payload.original,e.trending=t.payload.trending}}}),FM=jM.actions.setMovies,UM=function(e){return e.movie.recommend},VM=function(e){return e.movie.newDisney},zM=function(e){return e.movie.original},BM=function(e){return e.movie.trending},qM=jM.reducer,WM=Mr.div(nM||(nM=Ye(["\npadding: 0 0 26px;\n\nh4{\n  font-family: 'Mukta', sans-serif;\n  font-size: 30px;\n}\n"]))),HM=Mr.div(rM||(rM=Ye(["\ndisplay: grid;\ngrid-gap: 25px;\ngap: 25px;\ngrid-template-columns: repeat(4, minmax(0,1fr));\n\n@media (max-width:768px){\n  grid-template-columns: repeat(2,minmax(0,1fr));\n}\n"]))),KM=Mr.div(iM||(iM=Ye(["\npadding-top: 56.25%;\nborder-radius: 10px;\nbox-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px ,\nrgb(0 0 0 / 73%) 0px 16px 10px -10px;\ncursor: pointer;\noverflow: hidden;\nposition: relative;\ntransition: all 250ms cubic-bezier(0.25,0.46,0.45,0.94) 0s;\nborder: 3px solid rgba(249,249,249,0.1);\n\nimg{\n  inset: 0px; */\n   display: block;\n  height: 100%;\n  object-fit: cover;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 500ms ease-in-out 0s;\n  width: 100%;\n  z-index: 1;\n  top: 0;\n  \n  transition: transform 400ms;\n}\n  &:hover{\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px ,\n    rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    /* transform: scale()(1.5); */\n    border-color: rgba(249,249,249,0.8);\n    transform: scale(1.06);\n    \n\n    /* box-shadow: 1px 1px 82px 36px #000000 inset; */\n    \n  }\n\n\n\n"]))),GM=function(e){var t=bi(UM);return(0,Hr.jsxs)(WM,{children:[(0,Hr.jsx)("h4",{children:"Recommended for you"}),(0,Hr.jsx)(HM,{children:t&&t.map((function(e,t){return(0,Hr.jsxs)(KM,{children:[e.id,(0,Hr.jsx)(Ge,{to:"/detail/"+e.id,children:(0,Hr.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},QM=Mr.div(aM||(aM=Ye(["\npadding: 0 0 26px;\n\nh4{\n  font-family: 'Mukta', sans-serif;\n  font-size: 30px;\n}\n\n"]))),$M=Mr.div(oM||(oM=Ye(["\ndisplay: grid;\ngrid-gap: 25px;\ngap: 25px;\ngrid-template-columns: repeat(4, minmax(0,1fr));\n\n@media (max-width:768px){\n  grid-template-columns: repeat(2,minmax(0,1fr));\n}\n"]))),YM=Mr.div(uM||(uM=Ye(["\npadding-top: 56.25%;\nborder-radius: 10px;\nbox-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px ,\nrgb(0 0 0 / 73%) 0px 16px 10px -10px;\ncursor: pointer;\noverflow: hidden;\nposition: relative;\ntransition: all 250ms cubic-bezier(0.25,0.46,0.45,0.94) 0s;\nborder: 3px solid rgba(249,249,249,0.1);\n\nimg{\n  inset: 0px;\n  display: block;\n  height: 100%;\n  object-fit: cover;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 500ms ease-in-out 0s;\n  width: 100%;\n  z-index: 1;\n  top: 0;\n\n  transition: transform 400ms;\n}\n  \n  &:hover{\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px ,\n    rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform: scale()(1.05);\n    border-color: rgba(249,249,249,0.8);\n    transform: scale(1.06);\n    \n  }\n\n\n\n"]))),XM=function(e){var t=bi(VM);return(0,Hr.jsxs)(QM,{children:[(0,Hr.jsx)("h4",{children:"New"}),(0,Hr.jsx)($M,{children:t&&t.map((function(e,t){return(0,Hr.jsxs)(YM,{children:[e.id,(0,Hr.jsx)(Ge,{to:"/detail/"+e.id,children:(0,Hr.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},JM=Mr.div(sM||(sM=Ye(["\npadding: 0 0 26px;\n\nh4{\n  font-family: 'Mukta', sans-serif;\n  font-size: 30px;\n}\n\n"]))),ZM=Mr.div(cM||(cM=Ye(["\ndisplay: grid;\ngrid-gap: 25px;\ngap: 25px;\ngrid-template-columns: repeat(4, minmax(0,1fr));\n\n@media (max-width:768px){\n  grid-template-columns: repeat(2,minmax(0,1fr));\n}\n"]))),ej=Mr.div(lM||(lM=Ye(["\npadding-top: 56.25%;\nborder-radius: 10px;\nbox-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px ,\nrgb(0 0 0 / 73%) 0px 16px 10px -10px;\ncursor: pointer;\noverflow: hidden;\nposition: relative;\ntransition: all 250ms cubic-bezier(0.25,0.46,0.45,0.94) 0s;\nborder: 3px solid rgba(249,249,249,0.1);\n\nimg{\n  inset: 0px;\n  display: block;\n  height: 100%;\n  object-fit: cover;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 500ms ease-in-out 0s;\n  width: 100%;\n  z-index: 1;\n  top: 0;\n  transition: transform 400ms;\n\n}\n  \n  &:hover{\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px ,\n    rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform: scale()(1.05);\n    border-color: rgba(249,249,249,0.8);\n    transform: scale(1.06);\n    \n  }\n\n\n\n"]))),tj=function(e){var t=bi(zM);return(0,Hr.jsxs)(JM,{children:[(0,Hr.jsx)("h4",{children:"Originals"}),(0,Hr.jsx)(ZM,{children:t&&t.map((function(e,t){return(0,Hr.jsxs)(ej,{children:[e.id,(0,Hr.jsx)(Ge,{to:"/detail/"+e.id,children:(0,Hr.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},nj=Mr.div(fM||(fM=Ye(["\npadding: 0 0 26px;\n\nh4{\n  font-family: 'Mukta', sans-serif;\n  font-size: 30px;\n}\n"]))),rj=Mr.div(hM||(hM=Ye(["\ndisplay: grid;\ngrid-gap: 25px;\ngap: 25px;\ngrid-template-columns: repeat(4, minmax(0,1fr));\n\n@media (max-width:768px){\n  grid-template-columns: repeat(2,minmax(0,1fr));\n}\n"]))),ij=Mr.div(dM||(dM=Ye(["\npadding-top: 56.25%;\nborder-radius: 10px;\nbox-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px ,\nrgb(0 0 0 / 73%) 0px 16px 10px -10px;\ncursor: pointer;\noverflow: hidden;\nposition: relative;\ntransition: all 250ms cubic-bezier(0.25,0.46,0.45,0.94) 0s;\nborder: 3px solid rgba(249,249,249,0.1);\n\nimg{\n  inset: 0px;\n  display: block;\n  height: 100%;\n  object-fit: cover;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 500ms ease-in-out 0s;\n  width: 100%;\n  z-index: 1;\n  top: 0;\n  transition: transform 400ms;\n}\n  &:hover{\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px ,\n    rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform: scale()(1.05);\n    border-color: rgba(249,249,249,0.8);\n    transform: scale(1.06);\n  }\n\n\n\n"]))),aj=function(e){var t=bi(BM);return(0,Hr.jsxs)(nj,{children:[(0,Hr.jsx)("h4",{children:"Trending"}),(0,Hr.jsx)(rj,{children:t&&t.map((function(e,t){return(0,Hr.jsxs)(ij,{children:[e.id,(0,Hr.jsx)(Ge,{to:"/detail/"+e.id,children:(0,Hr.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},oj=Mr.main(pM||(pM=Ye(["\nposition:relative;\nmin-height: calc(100vh - 250px);\n\noverflow-x: hidden;\ndisplay: block;\ntop: 72px;\npadding: 0 calc()(3.5vw + 5px);\n\n&:after{\n  background: url('/images/home-background.png') center center /cover no-repeat fixed;\n  content: '';\n  position: absolute;\n  inset: 0px;\n  opacity: 1;\n  z-index: -1;\n\n}\n\n\n"]))),uj=function(e){var t=Ci(),n=bi(bM),i=[],a=[],o=[],u=[];return(0,r.useEffect)((function(){tD.collection("movies").onSnapshot((function(e){e.docs.map((function(e){switch(e.data().type){case"recommend":i=[].concat(h(i),[ka({id:e.id},e.data())]);break;case"new":a=[].concat(h(a),[ka({id:e.id},e.data())]);break;case"original":o=[].concat(h(o),[ka({id:e.id},e.data())]);break;case"trending":u=[].concat(h(u),[ka({id:e.id},e.data())])}})),t(FM({recommend:i,newDisney:a,original:o,trending:u}))}))}),[n]),(0,Hr.jsxs)(oj,{children:[(0,Hr.jsx)(NM,{}),(0,Hr.jsx)(MM,{}),(0,Hr.jsx)(GM,{}),(0,Hr.jsx)(XM,{}),(0,Hr.jsx)(tj,{}),(0,Hr.jsx)(aj,{})]})},sj=n(2007),cj=n.n(sj),lj=n(8262),fj=n.n(lj),hj=n(6071),dj=n.n(hj),pj=Object.defineProperty,vj=Object.defineProperties,yj=Object.getOwnPropertyDescriptors,mj=Object.getOwnPropertySymbols,gj=Object.prototype.hasOwnProperty,bj=Object.prototype.propertyIsEnumerable,kj=function(e,t,n){return t in e?pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},wj=function(e,t){for(var n in t||(t={}))gj.call(t,n)&&kj(e,n,t[n]);if(mj){var r,i=I(mj(t));try{for(i.s();!(r=i.n()).done;){n=r.value;bj.call(t,n)&&kj(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},_j=function(e,t){return vj(e,yj(t))};function xj(e,t){var n,r;if(e.videoId!==t.videoId)return!0;var i=(null==(n=e.opts)?void 0:n.playerVars)||{},a=(null==(r=t.opts)?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function Sj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _j(wj({},e),{height:0,width:0,playerVars:_j(wj({},e.playerVars),{autoplay:0,start:0,end:0})})}function Ej(e,t){return e.videoId!==t.videoId||!fj()(Sj(e.opts),Sj(t.opts))}function Tj(e,t){var n,r,i,a;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(i=e.opts)?void 0:i.height)!==(null==(a=t.opts)?void 0:a.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Ij={videoId:cj().string,id:cj().string,className:cj().string,iframeClassName:cj().string,style:cj().object,title:cj().string,loading:cj().oneOf(["lazy","eager"]),opts:cj().objectOf(cj().any),onReady:cj().func,onError:cj().func,onPlay:cj().func,onPause:cj().func,onEnd:cj().func,onStateChange:cj().func,onPlaybackRateChange:cj().func,onPlaybackQualityChange:cj().func},Cj=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).destroyPlayerPromise=void 0,r.onPlayerReady=function(e){var t,n;return null==(n=(t=r.props).onReady)?void 0:n.call(t,e)},r.onPlayerError=function(e){var t,n;return null==(n=(t=r.props).onError)?void 0:n.call(t,e)},r.onPlayerStateChange=function(e){var t,i,a,o,u,s,c,l;switch(null==(i=(t=r.props).onStateChange)||i.call(t,e),e.data){case n.PlayerState.ENDED:null==(o=(a=r.props).onEnd)||o.call(a,e);break;case n.PlayerState.PLAYING:null==(s=(u=r.props).onPlay)||s.call(u,e);break;case n.PlayerState.PAUSED:null==(l=(c=r.props).onPause)||l.call(c,e)}},r.onPlayerPlaybackRateChange=function(e){var t,n;return null==(n=(t=r.props).onPlaybackRateChange)?void 0:n.call(t,e)},r.onPlayerPlaybackQualityChange=function(e){var t,n;return null==(n=(t=r.props).onPlaybackQualityChange)?void 0:n.call(t,e)},r.destroyPlayer=function(){return r.internalPlayer?(r.destroyPlayerPromise=r.internalPlayer.destroy().then((function(){return r.destroyPlayerPromise=void 0})),r.destroyPlayerPromise):Promise.resolve()},r.createPlayer=function(){if("undefined"!==typeof document)if(r.destroyPlayerPromise)r.destroyPlayerPromise.then(r.createPlayer);else{var e=_j(wj({},r.props.opts),{videoId:r.props.videoId});r.internalPlayer=dj()(r.container,e),r.internalPlayer.on("ready",r.onPlayerReady),r.internalPlayer.on("error",r.onPlayerError),r.internalPlayer.on("stateChange",r.onPlayerStateChange),r.internalPlayer.on("playbackRateChange",r.onPlayerPlaybackRateChange),r.internalPlayer.on("playbackQualityChange",r.onPlayerPlaybackQualityChange),(r.props.title||r.props.loading)&&r.internalPlayer.getIframe().then((function(e){r.props.title&&e.setAttribute("title",r.props.title),r.props.loading&&e.setAttribute("loading",r.props.loading)}))}},r.resetPlayer=function(){return r.destroyPlayer().then(r.createPlayer)},r.updatePlayer=function(){var e;null==(e=r.internalPlayer)||e.getIframe().then((function(e){r.props.id?e.setAttribute("id",r.props.id):e.removeAttribute("id"),r.props.iframeClassName?e.setAttribute("class",r.props.iframeClassName):e.removeAttribute("class"),r.props.opts&&r.props.opts.width?e.setAttribute("width",r.props.opts.width.toString()):e.removeAttribute("width"),r.props.opts&&r.props.opts.height?e.setAttribute("height",r.props.opts.height.toString()):e.removeAttribute("height"),r.props.title?e.setAttribute("title",r.props.title):e.setAttribute("title","YouTube video player"),r.props.loading?e.setAttribute("loading",r.props.loading):e.removeAttribute("loading")}))},r.getInternalPlayer=function(){return r.internalPlayer},r.updateVideo=function(){var e,t,n,i;if("undefined"!==typeof r.props.videoId&&null!==r.props.videoId){var a=!1,o={videoId:r.props.videoId};(null==(t=r.props.opts)?void 0:t.playerVars)&&(a=1===r.props.opts.playerVars.autoplay,"start"in r.props.opts.playerVars&&(o.startSeconds=r.props.opts.playerVars.start),"end"in r.props.opts.playerVars&&(o.endSeconds=r.props.opts.playerVars.end)),a?null==(n=r.internalPlayer)||n.loadVideoById(o):null==(i=r.internalPlayer)||i.cueVideoById(o)}else null==(e=r.internalPlayer)||e.stopVideo()},r.refContainer=function(e){r.container=e},r.container=null,r.internalPlayer=null,r}return m(n,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){return t=this,n=null,r=ti().mark((function t(){return ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Tj(e,this.props)&&this.updatePlayer(),!Ej(e,this.props)){t.next=4;break}return t.next=4,this.resetPlayer();case 4:xj(e,this.props)&&this.updateVideo();case 5:case"end":return t.stop()}}),t,this)})),new Promise((function(e,i){var a=function(e){try{u(r.next(e))}catch(t){i(t)}},o=function(e){try{u(r.throw(e))}catch(t){i(t)}},u=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(a,o)};u((r=r.apply(t,n)).next())}));var t,n,r}},{key:"componentWillUnmount",value:function(){this.destroyPlayer()}},{key:"render",value:function(){return r.createElement("div",{className:this.props.className,style:this.props.style},r.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}}]),n}(r.Component),Oj=Cj;Oj.propTypes=Ij,Oj.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},Oj.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Pj,Aj,Rj,Nj,Dj,Lj,Mj,jj,Fj,Uj,Vj,zj=Oj,Bj=n(2453),qj=n.n(Bj),Wj=Mr.div(Pj||(Pj=Ye(["\nposition: relative;\nmin-height: calc(100vh - 250px);\n/* max-height: 99vh; */\noverflow-x: hidden;\ndisplay: block;\ntop: 72px;\npadding: 0px calc(3.5vw + 5px);\npadding-top:0px;\n\n"]))),Hj=Mr.div(Aj||(Aj=Ye(["\nleft: 0px;\nopacity: 0.8;\nposition: fixed;\nright: 0px;\ntop: 0px;\nz-index: -1;\n\nimg{\n  width: 100vw;\n  height: 100vh;\n\n  @media (max-width:768px){\n    height: 70vh;\n    float: left;\n    scale: 2;\n\n    \n  }\n}\n\n"]))),Kj=Mr.div(Rj||(Rj=Ye(["\nalign-items: flex-end;\ndisplay:flex;\n-webkit-box-pack:start;\njustify-content: flex-start;\nmargin: 0px auto;\nheight: 21vw;\nmin-height: 170px;\npadding-bottom: 24px;\nwidth: 100%;\n\nimg{\n  /* min-width: 500px; */\n  /* min-height: 500px; */\n  margin-top: auto;\n  max-width: 390px;\n  min-width: 390px;\n  width: 35vw;\n\n}\n\n"]))),Gj=Mr.div(Nj||(Nj=Ye(["\nmax-width: 874px;\n\n\n"]))),Qj=Mr.div(Dj||(Dj=Ye(["\nalign-items: center;\ndisplay: flex;\nflex-flow: row nowrap;\nmargin: 24px 0px;\nmin-height: 56px;\n\n\n"]))),$j=Mr.button(Lj||(Lj=Ye(["\nfont-size: 15px;\nmargin: 0px 22px 0px 0px;\npadding: 0px 24px;\nheight: 56px;\nborder-radius: 4px;\nalign-items: center;\ncursor: pointer;\ndisplay: flex;\njustify-content: center;\nletter-spacing: 1.8px;\ntext-align: center;\ntext-transform: uppercase;\nbackground: rgb(249,249,249);\nborder: none;\ncolor: rgb(0,0,0);\n\nimg{\n  width: 32px;\n\n}\n\n&:hover{\n  background: rgb(198,198,198);\n\n}\n\n@media (max-width:768px){\n  height: 45px;\n  padding: 0px 22px;\n  font-size: 12px;\n  margin: 0px 10px 0px 0px;\n\n  img{\n    width: 25px;\n\n  }\n}\n\n\n"]))),Yj=Mr($j)(Mj||(Mj=Ye(["\nbackground: rgba(0,0,0,0.3);\nborder: 1px solid rgb(249,249,249);\ncolor: rgb(249,249,249);\n\n"]))),Xj=Mr.div(jj||(jj=Ye(["\nmargin-right: 16px;\nheight: 44px;\nwidth: 44px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nbackground-color: rgba(0,0,0,0.6);\nborder-radius: 50%;\nborder: 2px solid white;\ncursor: pointer;\n\nspan{\n  background-color: rgb(249,249,249);\n  display: inline-block;\n\n  &:first-child{\n    height: 2px;\n    transform: translate(1px,0px) rotate(0deg);\n    width: 16px;\n\n  }\n  &:nth-child(2){\n    height: 16px;\n    transform: translateX(-8px) rotate(0deg);\n    width: 2px;\n\n  }\n}\n\n"]))),Jj=Mr.div(Fj||(Fj=Ye(["\nheight: 44px;\nwidth: 44px;\nborder-radius: 50%;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\ncursor: pointer;\nbackground:white;\n\ndiv{\n  height: 40px;\n  width: 40px;\n  background: rgb(0,0,0);\n  border-radius: 50%;\n\n  img{\n    width: 100%;\n  }\n}\n\n"]))),Zj=Mr.div(Uj||(Uj=Ye(["\ncolor: rgb(249,249,249);\nfont-size: 15px;\nmin-height: 20px;\n@media (max-width:768px){\n  font-size: 12px;\n\n}\n\n"]))),eF=Mr.div(Vj||(Vj=Ye(["\nline-height: 1.4;\nfont-size: 20px;\npadding: 16px 0px;\ncolor: rgb(249,249,249);\n\n@media (max-width:768px){\n  font-size: 14px;\n\n}\n\n"]))),tF=function(e){var t=function(){var e=r.useContext(ye).matches,t=e[e.length-1];return t?t.params:{}}(),n=t.id,i=l((0,r.useState)({}),2),a=i[0],o=i[1],u=l((0,r.useState)(""),2),s=u[0],c=u[1],f=l((0,r.useState)(""),2),h=f[0],d=f[1];(0,r.useEffect)((function(){n&&tD.collection("movies").doc(n).get().then((function(e){e.exists?o(e.data()):console.log("no such document found in firebase")})).catch((function(e){console.log("error retrieving the docs",e)}))}),[n]);return(0,Hr.jsxs)(Wj,{children:[(0,Hr.jsx)(Hj,{children:(0,Hr.jsx)("img",{src:a.backgroundImg,alt:a.title})}),(0,Hr.jsx)(Kj,{children:a.titleImg?(0,Hr.jsx)("img",{src:a.titleImg}):(0,Hr.jsx)("h1",{children:a.title})}),(0,Hr.jsxs)(Gj,{children:[(0,Hr.jsxs)(Qj,{children:[(0,Hr.jsxs)($j,{onClick:function(){return function(e){d(h?"":e.videoid)}(a)},children:[(0,Hr.jsx)("img",{src:"/images/play-icon-black.png",alt:""}),(0,Hr.jsx)("span",{children:h?"Stop Playing":"Play"})]}),(0,Hr.jsxs)(Yj,{onClick:function(){return function(e){s?c(""):qj()(null===e||void 0===e?void 0:e.title).then((function(e){var t=new URLSearchParams(new URL(e).search);c(t.get("v")),console.log(s)})).catch((function(e){return console.log(e)}))}(a)},children:[(0,Hr.jsx)("img",{src:"/images/play-icon-white.png",alt:""}),(0,Hr.jsx)("span",{children:s?"Stop Playing":"Trailer"})]}),(0,Hr.jsxs)(Xj,{children:[(0,Hr.jsx)("span",{}),(0,Hr.jsx)("span",{})]}),(0,Hr.jsx)(Jj,{children:(0,Hr.jsx)("div",{children:(0,Hr.jsx)("img",{src:"/images/group-icon.png",alt:""})})})]}),s&&(0,Hr.jsx)(zj,{videoId:s,opts:{height:"390px",width:"100%",playerVars:{autoplay:1}}}),h&&(0,Hr.jsx)(zj,{opts:{height:"500px",width:"100%",playerVars:{autoplay:1}},videoId:h}),(0,Hr.jsx)(Zj,{children:a.SubTitle}),(0,Hr.jsx)(eF,{children:a.description})]})]})};var nF=function(){return(0,Hr.jsx)("div",{className:"App",children:(0,Hr.jsxs)(We,{children:[(0,Hr.jsx)(OM,{}),(0,Hr.jsxs)(Me,{children:[(0,Hr.jsx)(De,{exact:!0,path:"/",element:(0,Hr.jsx)(ei,{})}),(0,Hr.jsx)(De,{exact:!0,path:"/home",element:(0,Hr.jsx)(uj,{})}),(0,Hr.jsx)(De,{exact:!0,path:"/detail/:id",element:(0,Hr.jsx)(tF,{})})]})]})})},rF=function(e){var t,n=function(e){return NL(e)},r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!CL(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=sL(a)}var p=u;"function"===typeof p&&(p=p(n));var v=lL.apply(void 0,p),y=cL;c&&(y=IL(SL({trace:!1},"object"===typeof c&&c)));var m=new AL(v),g=m;return Array.isArray(d)?g=yL([v],d):"function"===typeof d&&(g=d(m)),uL(t,f,y.apply(void 0,g))}({reducer:{user:wM,movie:qM},middleware:NL({serializableCheck:!1})});a.createRoot(document.getElementById("root")).render((0,Hr.jsx)(r.StrictMode,{children:(0,Hr.jsx)(xi,{store:rF,children:(0,Hr.jsx)(nF,{})})}))}()}();
//# sourceMappingURL=main.2c0a1ac0.js.map